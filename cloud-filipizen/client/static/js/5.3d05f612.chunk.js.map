{"version":3,"sources":["lib/partner.js","components/FilipizenIcon.js","templates/MasterTemplate.js","templates/FilipizenMasterTemplate.js","assets/filipizen.svg","app/PartnerScreen.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/LguHeader.js","templates/LguMasterTemplate.js","modules.js"],"names":["getPartnerFromLocation","location","Promise","resolve","reject","matches","pathname","match","length","groupName","partnerName","Service","lookup","invoke","groupname","name","err","partner","isonline","getPartnerServiceFromLocation","moduleName","serviceName","redirectUrl","module","getModules","find","mod","service","services","svc","group","FilipizenIcon","props","src","require","MasterTemplate","children","comps","header","left","center","right","footer","React","Children","forEach","child","target","childType","type","test","push","getChildren","className","Header","style","styles","to","Footer","footerText","height","backgroundColor","padding","paddingLeft","position","bottom","width","borderTop","textAlign","fontSize","color","FilipizenMasterTemplate","rest","showHeader","undefined","logo","exports","PartnerServiceList","modules","onSelect","Fragment","map","key","title","items","list","item","component","onClick","display","flexDirection","alignItems","maintenanceContainer","marginTop","maintenanceInfo","maintenanceImage","maintenanceTitle","fontWeight","PartnerScreen","useState","setPartner","setModules","useEffect","state","then","catch","history","caption","_arrayLikeToArray","arr","len","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","from","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","value","unsupportedIterableToArray","TypeError","container","LguHeader","Logo","row","LguMasterTemplate","pattern","includeservices","regex","RegExp","excludeRegex","excludeservices","partnerModules","partnerServices","filter","serviceModules","getServiceModule","ServiceModule","loadable","lib"],"mappings":"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","file":"static/js/5.3d05f612.chunk.js","sourcesContent":["import { Service } from \"rsi-react-web-components\";\nimport { getModules } from \"../modules\";\n\nexport const getPartnerFromLocation = (location) => {\n  return new Promise((resolve, reject) => {\n    const pathname = location.pathname;\n    const matches = pathname.match(\"/partner/(.*)_(.*)/services\");\n    if (!matches || matches.length < 3) {\n      reject(\"Invalid path\");\n    }\n\n    let groupName = matches[1];\n    let partnerName = matches[2];\n\n    const svc = Service.lookup(\"CloudPartnerService\", \"partner\");\n    svc.invoke(\"findByGroupAndName\", \n      { groupname: groupName, name: partnerName },\n      (err, partner) => {\n        if (!err) {\n            if (partner.isonline !== \"0\") {\n                resolve(partner);\n            } else {\n                reject(\"Partner is offline.\");\n            }\n        } else {\n          reject(`Partner ${partnerName} does not exist. ${err}`);\n        }\n      }\n    );\n  });\n};\n\nexport const getPartnerServiceFromLocation = (location) => {\n  return new Promise((resolve, reject) => {\n    const pathname = location.pathname;\n    const matches = pathname.match(\"/partner/(.*)_(.*)/(.*)/(.*)\");\n    if (!matches || matches.length < 5) {\n      reject(\"Invalid path\");\n    }\n\n    let groupName = matches[1];\n    let partnerName = matches[2];\n    let moduleName = matches[3];\n    let serviceName = matches[4];\n\n    const svc = Service.lookup(\"CloudPartnerService\", \"partner\");\n    svc.invoke(\"findByGroupAndName\", \n      { groupname: groupName, name: partnerName },\n      (err, partner) => {\n        if (!err) {\n            if (partner.isonline !== \"0\") {\n              let redirectUrl;\n              \n              const module = getModules(partner).find(mod => mod.name === moduleName);\n              const service = module ? module.services.find(svc => svc.name === serviceName) : null;\n\n              if (!module || !service) {\n                redirectUrl = `/partner/${partner.group.name}_${partner.name}/services`;\n                resolve({redirectUrl});\n                return;\n              }\n              \n              resolve({partner, module, service});\n            } else {\n                reject(\"Partner is offline.\");\n            }\n        } else {\n          reject(`Partner ${partnerName} does not exist. ${err}`);\n        }\n      }\n    );\n  });\n};\n","import React from \"react\";\nimport { Image } from \"rsi-react-web-components\";\n\n\nconst FilipizenIcon = (props) => {\n    return <Image src={require(\"../assets/filipizen.svg\")} {...props}/>\n  };\n\n  export default FilipizenIcon;","import React from \"react\";\nimport \"./MasterTemplate.css\";\n\n\nconst getChildren = ({ children }) => {\n  const comps = {\n    header: null,\n    left: null,\n    center: null,\n    right: null,\n    footer: null,\n  };\n  React.Children.forEach(children, (child) => {\n    if (child) {\n      let target = child.props.target || \"center\";\n      const childType = typeof child.type === \"string\" ? child.type : child.type.name;\n      if (/header/i.test(childType)) target = \"header\";\n      else if (/footer/i.test(childType)) target = \"footer\";\n      if (!comps[target]) comps[target] = [];\n      comps[target].push(child);\n    }\n  });\n  return comps;\n};\n\nconst MasterTemplate = (props) => {\n  const { header, center, footer } = getChildren(props);\n  return (\n    <div className=\"template\">\n      <div className=\"row header\">{header}</div>\n      <div className=\"content\">\n        <div className=\"panel\">\n          <div className=\"main\">{center} </div>\n        </div>\n      </div>\n      <div className=\"row footer\">{footer}</div>\n    </div>\n  );\n};\n\nexport default MasterTemplate;\n","import React from \"react\";\nimport MasterTemplate from \"../templates/MasterTemplate\";\nimport FilipizenIcon from \"../components/FilipizenIcon\";\nimport { Link } from \"react-router-dom\";\nimport \"rsi-react-web-components/dist/index.css\";\n\nconst Header = (props) => {\n  return (\n    <div style={styles.header}>\n      <Link to=\"/partners\">\n        <FilipizenIcon />\n      </Link>\n    </div>\n  );\n};\n\nconst Footer = (props) => {\n  return (\n    <div target=\"footer\" style={styles.footer}>\n      <span style={styles.footerText}>@2020  Sitemap | Privacy | Legal | Feedback</span>\n    </div>\n  );\n};\n\nconst FilipizenMasterTemplate = ({ children, ...rest }) => {\n  const showHeader = rest.showHeader === undefined ? true : rest.showHeader;\n  return (\n    <MasterTemplate logo={FilipizenIcon}>\n      {showHeader && <Header />}\n        {children}\n      <Footer />\n    </MasterTemplate>\n  );\n};\n\nconst styles = {\n  header: {\n    height: \"50\",\n    backgroundColor: \"#ecf0f1\",\n    padding: \"8px 8px\",\n    paddingLeft: \"50px\",\n  },\n  footer: {\n    position: \"absolute\",\n    bottom: 0,\n    width : \"100%\",\n    padding: '8px',\n    backgroundColor: '#ecf0f1',\n    borderTop: '3px solid #2c3e50',\n    textAlign: 'center'\n  },\n  footerText: {\n    fontSize: '14px',\n    color: '#4d4d4d',\n  }\n};\n\nexport default FilipizenMasterTemplate;\n","module.exports = __webpack_public_path__ + \"static/media/filipizen.5fd85b9e.svg\";","import React, { useState, useEffect } from \"react\";\nimport { \n  Page, \n  Title, \n  Panel, \n  List, \n  Link, \n  Spacer, \n  Subtitle, \n  Loading \n} from \"rsi-react-web-components\";\n\nimport LguMasterTemplate from \"../templates/LguMasterTemplate\";\nimport FilipizenMasterTemplate from \"../templates/FilipizenMasterTemplate\";\nimport { getModules } from \"../modules\";\nimport { getPartnerFromLocation } from \"../lib/partner\";\n\nconst PartnerServiceList = (props) => {\n  const { modules, onSelect } = props;\n  return (\n    <React.Fragment>\n      {modules.map((module) => {\n        return (\n          <Panel key={module.name}>\n            <Subtitle>{module.title}</Subtitle>\n            <List items={module.services} style={styles.list}>\n              {({ item: service }) => (\n                <Link key={service.name} component=\"button\" onClick={() => onSelect(module, service)}>\n                  {service.title}\n                </Link>\n              )}\n            </List>\n          </Panel>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\n\nconst PartnerScreen = (props) => {\n  const [partner, setPartner] = useState();\n  const [modules, setModules] = useState([]);\n\n  useEffect(() => {\n    let partner = props.location.state ? props.location.state.partner : null;\n    if (partner) {\n      setPartner(partner);\n      setModules(getModules(partner));\n    } else {\n      getPartnerFromLocation(props.location)\n        .then(partner => {\n          setPartner(partner);\n          setModules(getModules(partner));\n        }).catch(err => props.history.push(\"/partners\"));\n    }\n  }, []);\n\n  const onSelectService = (module, service) => {\n    props.history.push({\n      pathname: `/partner/${partner.group.name}_${partner.name}/${module.name}/${service.name}`,\n      state: { partner, module, service, },\n    });\n  };\n\n  if (!partner) {\n    return (\n      <FilipizenMasterTemplate>\n        <Loading caption=\"Loading partner information\" color=\"primary\" />\n      </FilipizenMasterTemplate>\n    );\n  }\n\n  return (\n    <LguMasterTemplate partner={partner} location={props.location} history={props.history}>\n      <Page>\n        <Spacer height={20} />\n        {modules.length > 0 && \n          <React.Fragment>\n            <Title>Select Transaction</Title>\n            <Spacer height={20} />\n            <PartnerServiceList modules={modules} onSelect={onSelectService} />\n          </React.Fragment>\n        }\n        {modules.length == 0 && \n          <div style={styles.maintenanceContainer}>\n            <div style={styles.maintenanceInfo}>\n              <label style={styles.maintenanceTitle}>Website under maintenance</label>\n              <p>\n                This website is currently undergoing a scheduled maintenance.\n                Will return shortly. Our apologies for the inconvenience.\n              </p>\n            </div>\n            <img style={styles.maintenanceImage} src=\"/assets/filipizen.png\" />\n          </div>\n        }\n      </Page>\n    </LguMasterTemplate>\n  );\n};\n\nconst styles = {\n  list: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n  },\n  maintenanceContainer: {\n    display: \"flex\",\n    marginTop: 20,\n  },\n  maintenanceInfo: {\n  },\n  maintenanceImage: {\n    width: 350,\n  },\n  maintenanceTitle: {\n    fontSize: \"3rem\",\n    fontWeight: 800,\n  }\n}\n\n\n\nexport default PartnerScreen;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Panel, AppBar } from \"rsi-react-web-components\";\n\nconst styles = {\n  container: {\n    padding: \"4px 50px\",\n  },\n  title: {\n    color: \"#ddd\",\n    paddingLeft: 5,\n  }\n};\n\nconst LguHeader = ({partner, Logo}) => {\n  return (\n    <AppBar>\n        <Panel style={styles.container}>\n          <Link to={{\n            pathname: `/partner/${partner.name}/services`, \n            state: {partner: partner}\n          }}>\n            <Panel row>\n              <div>{Logo}</div>\n              {/**\n                <span style={styles.title}>{partner.title}</span>\n               */}\n            </Panel>\n          </Link>\n        </Panel>\n    </AppBar>\n  );\n};\n\n\nexport default LguHeader;\n","import React from \"react\";\nimport { Image } from \"rsi-react-web-components\";\nimport LguHeader from \"../components/LguHeader\";\nimport FilipizenIcon from \"../components/FilipizenIcon\";\nimport FilipizenMasterTemplate from \"./FilipizenMasterTemplate\";\nimport \"rsi-react-web-components/dist/index.css\";\n\nconst getLguLogo = (partner) => {\n  return (\n      <Image style={{height: \"40px\"}} src={`/assets/${partner.name}.png`} height=\"30px\" />\n  );\n};\n\nconst LguMasterTemplate = ({ children, ...rest }) => {\n  return (\n    <FilipizenMasterTemplate logo={FilipizenIcon}>\n      <LguHeader Logo={getLguLogo(rest.partner)} {...rest} />\n      {children}\n    </FilipizenMasterTemplate>\n  );\n};\n\nexport default LguMasterTemplate;\n","import loadable from \"@loadable/component\";\n\n\n// Module and Server registration \nconst modules = [\n  { \n    name: \"bpls\", \n    module: \"filipizen-bpls\",\n    title: \"Business\",\n    services: [\n      { module: \"bpls\", name: 'businessbilling', title: \"Business Online Billing\", component: \"BplsBillingWebController\", },\n      { module: \"bpls\", name: 'renewbusiness', title: \"Renew Business Application\", component: \"RenewBusinessWebController\", },\n    ]\n  },\n  { \n    name: \"rptis\", \n    module: \"filipizen-rptis\",\n    title: \"Real Property\",\n    services: [\n      { module: \"rptis\", name: 'rptbilling', title: \"Realty Tax Online Billing\", component: \"RptBillingWebController\", },\n      { module: \"rptis\", name: 'rpttaxclearance', title: \"Online Realty Tax Clearance\", component: \"RealtyTaxClearanceWebController\", },\n    ]\n  },\n  { \n    name: \"waterworks\", \n    module: \"filipizen-waterworks\",\n    title: \"Waterworks\",\n    services: [\n      { module: \"waterworks\", name: 'waterworksbilling', title: \"Waterworks Billing\", component: \"WaterworksBillingWebController\", },\n    ]\n  },\n  { \n    name: \"obo\", \n    module: \"filipizen-obo\",\n    title: \"Building and Construction\",\n    services: [\n      { module: \"obo\", name: 'bldgpermit', title: \"Building Permit Application\", component: \"BuildingPermitWebController\", },\n      { module: \"obo\", name: 'occupancypermit', title: \"Occupancy Permit Application\", component: \"OccupancyPermitWebController\", },\n      { module: \"obo\", name: 'registerprofessionals', title: \"Register Professional\", component: \"ProfessionalWebController\", },\n      { module: \"obo\", name: 'apptracking', title: \"Application Tracking\", component: \"AppTrackingWebController\", },\n      { module: \"obo\", name: 'obobilling', title: \"Building Online Billing\", component: \"OboBillingWebController\", },\n    ]\n  },\n  // { \n  //   name: \"skills\", \n  //   module: \"filipizen-skillsregistry\",\n  //   title: \"Skills Registry\",\n  //   services: [\n  //     { module: \"skills\", name: 'searchskills', title: \"Search Skills\", component: \"SearchSkillsWebController\", },\n  //   ]\n  // },\n  // { \n  //   name: \"boracay\", \n  //   title: \"Boracay\",\n  //   services: [\n  //     { name: 'terminalticket', title: \"Terminal Tickets\", component: \"TerminalTicketWebController\" },\n  //   ]\n  // },\n];\n\nexport const getModules = (partner) => {\n  const pattern = partner.includeservices;\n  if (!pattern) return [];\n\n  const regex = new RegExp(`(${pattern})`, \"i\");\n  const excludeRegex = partner.excludeservices ? new RegExp(`(${partner.excludeservices})`, \"i\") : null;\n\n  const partnerModules = [...modules];\n  partnerModules.forEach(module => {\n    const partnerServices = module.services.filter(service => \n      regex.test(service.name) && (!excludeRegex || !excludeRegex.test(service.name))\n    );\n    module.services = partnerServices;\n  });\n  \n  return partnerModules.filter(module => module.services.length > 0);\n}\n\n\nconst serviceModules = {\n};\n\n\nexport const getServiceModule = (service) => {\n  let ServiceModule = serviceModules[service.module];\n  if (typeof(ServiceModule) === \"undefined\") {\n    if (service.module === \"bpls\") {\n      ServiceModule = loadable.lib(() => import(\"filipizen-bpls\"));\n    } \n    else if (service.module === \"rptis\") {\n      ServiceModule = loadable.lib(() => import(\"filipizen-rptis\"));\n    } \n    else if (service.module === \"waterworks\") {\n      ServiceModule = loadable.lib(() => import(\"filipizen-waterworks\"));\n    } \n    else if (service.module === \"obo\") {\n      ServiceModule = loadable.lib(() => import(\"filipizen-obo\"));\n    } \n    // else if (service.module === \"skills\") {\n    //   ServiceModule = loadable.lib(() => import(\"filipizen-skillsregistry\"));\n    // }\n    serviceModules[service.module] = ServiceModule;\n  }\n  return ServiceModule;\n}\n\n\n"],"sourceRoot":""}
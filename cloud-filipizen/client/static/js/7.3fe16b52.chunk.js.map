{"version":3,"sources":["app/components/FilipizenIcon.js","app/templates/MasterTemplate.js","app/templates/FilipizenMasterTemplate.js","assets/filipizen.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","app/PartnerListScreen.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["FilipizenIcon","props","src","require","MasterTemplate","children","comps","header","left","center","right","footer","React","Children","forEach","child","target","childType","type","name","test","push","getChildren","className","Header","style","styles","to","Footer","footerText","height","backgroundColor","padding","paddingLeft","position","bottom","width","borderTop","textAlign","fontSize","color","FilipizenMasterTemplate","rest","showHeader","undefined","logo","module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","svc","Service","lookup","notification","getNotification","PartnerLgu","partners","partnerGroup","group","title","items","partner","item","isonline","key","id","paddingBottom","component","RouterLink","pathname","objid","state","caption","paddingTop","PartnerList","cluster","groupBy","keys","map","clusterKey","PartnerListScreen","useState","loading","setLoading","setPartners","updatePartnerStatus","channel","status","idx","findIndex","updatedPartners","register","useEffect","invoke","err","list","console","log","Fragment","_arrayLikeToArray","len","length","i","arr2","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","done","value"],"mappings":"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","file":"static/js/7.3fe16b52.chunk.js","sourcesContent":["import React from \"react\";\nimport { Image } from \"rsi-react-web-components\";\n\n\nconst FilipizenIcon = (props) => {\n    return <Image src={require(\"../../assets/filipizen.svg\")} {...props}/>\n  };\n\n  export default FilipizenIcon;","import React from \"react\";\nimport \"./MasterTemplate.css\";\n\n\nconst getChildren = ({ children }) => {\n  const comps = {\n    header: null,\n    left: null,\n    center: null,\n    right: null,\n    footer: null,\n  };\n  React.Children.forEach(children, (child) => {\n    if (child) {\n      let target = child.props.target || \"center\";\n      const childType = typeof child.type === \"string\" ? child.type : child.type.name;\n      if (/header/i.test(childType)) target = \"header\";\n      else if (/footer/i.test(childType)) target = \"footer\";\n      if (!comps[target]) comps[target] = [];\n      comps[target].push(child);\n    }\n  });\n  return comps;\n};\n\nconst MasterTemplate = (props) => {\n  const { header, center, footer } = getChildren(props);\n  return (\n    <div className=\"template\">\n      <div className=\"row header\">{header}</div>\n      <div className=\"content\">\n        <div className=\"panel\">\n          <div className=\"main\">{center} </div>\n        </div>\n      </div>\n      <div className=\"row footer\">{footer}</div>\n    </div>\n  );\n};\n\nexport default MasterTemplate;\n","import React from \"react\";\nimport MasterTemplate from \"./MasterTemplate\";\nimport FilipizenIcon from \"../components/FilipizenIcon\";\nimport { Link } from \"react-router-dom\";\nimport \"rsi-react-web-components/dist/index.css\";\n\nconst Header = (props) => {\n  return (\n    <div style={styles.header}>\n      <Link to=\"/partners\">\n        <FilipizenIcon />\n      </Link>\n    </div>\n  );\n};\n\nconst Footer = (props) => {\n  return (\n    <div target=\"footer\" style={styles.footer}>\n      <span style={styles.footerText}>@2020  Sitemap | Privacy | Legal | Feedback</span>\n    </div>\n  );\n};\n\nconst FilipizenMasterTemplate = ({ children, ...rest }) => {\n  const showHeader = rest.showHeader === undefined ? true : rest.showHeader;\n  return (\n    <MasterTemplate logo={FilipizenIcon}>\n      {showHeader && <Header />}\n        {children}\n      <Footer />\n    </MasterTemplate>\n  );\n};\n\nconst styles = {\n  header: {\n    height: \"50\",\n    backgroundColor: \"#ecf0f1\",\n    padding: \"8px 8px\",\n    paddingLeft: \"50px\",\n  },\n  footer: {\n    position: \"absolute\",\n    bottom: 0,\n    width : \"100%\",\n    padding: '8px',\n    backgroundColor: '#ecf0f1',\n    borderTop: '3px solid #2c3e50',\n    textAlign: 'center'\n  },\n  footerText: {\n    fontSize: '14px',\n    color: '#4d4d4d',\n  }\n};\n\nexport default FilipizenMasterTemplate;\n","module.exports = __webpack_public_path__ + \"static/media/filipizen.5fd85b9e.svg\";","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport {\n  Title,\n  Label,\n  Link,\n  List,\n  Spacer,\n  LinearProgress,\n  groupBy,\n  Service,\n  getNotification,\n  Subtitle,\n} from \"rsi-react-web-components\";\nimport FilipizenMasterTemplate from \"./templates/FilipizenMasterTemplate\";\nimport \"./PartnerListScreen.css\";\n\nconst svc = Service.lookup(\"CloudPartnerService\", \"partner\");\nconst notification = getNotification();\n\n\nconst PartnerListScreen = (props) => {\n  const [loading, setLoading] = useState(true);\n  const [partners, setPartners] = useState([]);\n\n  const updatePartnerStatus = (channel, status) => {\n    const idx = partners.findIndex((partner) => partner.id === channel);\n    if (idx >= 0) {\n      const partner = partners[idx];\n      if (partner.isonline !== status) {\n        partner.isonline = status;\n        const updatedPartners = [...partners];\n        updatedPartners[idx] = partner;\n        setPartners(updatedPartners);\n      }\n    }\n  };\n\n  notification.register(\"activate\", (channel) => {\n    updatePartnerStatus(channel, \"1\");\n  });\n\n  notification.register(\"deactivate\", function (channel) {\n    updatePartnerStatus(channel, \"0\");\n  });\n\n  React.useEffect(() => {\n    setLoading(true);\n    svc.invoke(\"getActivePartners\", null, (err, list) => {\n      if (!err) {\n        setPartners(list);\n      } else {\n        console.log(\"Error loading partners \", err)\n      }\n      setLoading(false);\n    })\n  }, []);\n\n  return (\n    <FilipizenMasterTemplate>\n      <div className=\"PartnerList\">\n        {loading && \n          <LinearProgress />\n        }\n        {!loading && \n          <React.Fragment>\n            <Spacer height={20} />\n            <Title>Select a Partner Agency</Title>\n            <PartnerList partners={partners} />\n          </React.Fragment>\n        }\n      </div>\n    </FilipizenMasterTemplate>\n  );\n};\n\nconst PartnerLgu = ({ partners }) => {\n  const partnerGroup = partners[0].group;\n  return (\n    <div>\n      <Subtitle>{partnerGroup.title}</Subtitle>\n      <List items={partners}>\n        {({ item: partner }) => {\n          if (partner.isonline !== \"0\") {\n            return (\n              <div  key={partner.id}  style={{paddingBottom: 2}}>\n                <Link\n                  component={RouterLink}\n                  to={{\n                    pathname: `/partner/${partnerGroup.objid}_${partner.name}/services`,\n                    state: { partner },\n                  }}\n                  caption={`${partner.title} (${partner.id})`}\n                />\n              </div>\n            );\n          }\n          return (\n            <Label key={partner.id} style={{ color: \"#a9a7a7\", paddingTop: 0 }}>\n              {`${partner.title} (${partner.id})`}\n            </Label>\n          );\n        }}\n      </List>\n    </div>\n  );\n};\n\nconst PartnerList = (props) => {\n  const { partners } = props;\n  const cluster = groupBy(partners, \"clusterid\");\n  return (\n    <div className=\"PartnerList_group\">\n      {Object.keys(cluster).map((clusterKey) => {\n        if (!/test/i.test(clusterKey)) {\n          return <PartnerLgu key={clusterKey} partners={cluster[clusterKey]} />\n        }\n        return null;\n      })}\n    </div>\n  );\n};\n\n\nexport default PartnerListScreen;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f}));var a=n(0),r=n.n(a),i=n(2);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=function(e){if(!Object(i.X)(e.visibleWhen))return null;var t=Object(a.useState)(),n=t[0],o=t[1],l=Object(a.useState)({}),c=l[0],u=l[1],s=Object(a.useState)({}),m=s[0],d=s[1],p=Object(a.useState)(),f=p[0],v=p[1],h=Object(a.useState)(),b=h[0],g=h[1],E=Object(a.useState)(!1),y=E[0],x=E[1],O=Object(a.useState)(!1),C=O[0],S=O[1],j=e.partner,k=e.onVerify,w=e.onCancel,P=e.connection,W=void 0===P?"epayment":P,T=function(){try{var e=i.G.lookupAsync(j.id+":VerifyEmailService",W);return Promise.resolve(e.invoke("verifyEmail",{email:c.email,mobileno:c.mobileno}))}catch(e){return Promise.reject(e)}},N=e.module&&e.module.title||e.title||null;return r.a.createElement(i.f,null,N&&r.a.createElement(i.P,null,N),r.a.createElement(i.K,null,"Email Verification"),r.a.createElement(i.H,null),r.a.createElement(i.n,{msg:b}),r.a.createElement(i.o,{visibleWhen:!n,context:c,handler:u},!0===e.showName&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.O,{label:"Full Name",name:"name",autoFocus:!0}),r.a.createElement(i.O,{label:"Address",name:"address"})),r.a.createElement(i.m,{name:"email",required:!0,error:m.email,helperText:m.email,autoFocus:!e.showName}),r.a.createElement(i.y,{name:"mobileno"}),r.a.createElement(i.a,{disabled:y},r.a.createElement(i.c,{action:function(){"function"==typeof w&&w(),e.history&&e.history.goBack()}}),r.a.createElement(i.e,{label:"Submit",action:function(){c&&c.email?(g(null),x(!0),T().then((function(e){o(e.key),x(!1)})).catch((function(e){g(e),x(!1)}))):d({email:"A valid email is required."})},loading:y}))),r.a.createElement(i.A,{open:C,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){g(null),T().then((function(e){o(e.key),S(!1)})).catch((function(e){g(e),S(!1)}))},onCancel:function(){return S(!1)}}),r.a.createElement(i.C,{visibleWhen:!!n},r.a.createElement(i.O,{label:"Email Code",placeholder:"Enter code sent to your email",name:"keycode",value:f,onChange:v,maxLength:6,autoFocus:!0}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(i.e,{label:"Resend Code",action:function(){return S(!0)},variant:"text"})),r.a.createElement(i.a,null,r.a.createElement(i.e,{label:"Verify",visibleWhen:n,action:function(){n!==f?g("Code is incorrect"):k(c)}}))))},c=function(e){var t=e.partner,n=e.moveNextStep,o=e.movePrevStep,c=e.title,u=e.visibleWhen;if(void 0!==u&&!u)return null;var s=Object(i.Y)()[1];return Object(a.useState)(!1),Object(a.useState)(!1),r.a.createElement(l,{partner:t,title:c,onVerify:function(e){s({type:"SET_CONTACT",contact:e}),n()},onCancel:o})},u=function(e){var t=e.onCancel,n=e.onSubmit,l=e.bill,c=e.loading,u=e.error,m=Object(a.useState)({}),d=m[0],p=m[1],f=Object(a.useState)({}),v=f[0],h=f[1],b=Object(a.useState)(!1),g=b[0],E=b[1];return Object(a.useEffect)((function(){E(null!=u)}),[u]),r.a.createElement(i.f,null,r.a.createElement(i.C,{style:{maxWidth:400}},r.a.createElement(i.j,{center:!0},r.a.createElement(i.P,null,"Confirm Transaction"),r.a.createElement(i.H,null),r.a.createElement(i.t,{style:o({},s.text)},"Please confirm and fill up name and address of the payer for your electronic official receipt and click Continue to proceed for payment."),r.a.createElement(i.H,null)),r.a.createElement(i.o,{context:d,handler:p},r.a.createElement(i.O,{name:"paidby",caption:"Paid By Name",required:!0,error:v.paidby,helperText:v.paidby,autoFocus:!0}),r.a.createElement(i.O,{name:"paidbyaddress",caption:"Paid By Address",required:!0,error:v.paidbyaddress,helperText:v.paidbyaddress})),r.a.createElement(i.H,null),r.a.createElement(i.C,{style:s.infoContainer},r.a.createElement("div",{style:o({},s.infoContainer,{alignItems:"center"})},r.a.createElement("label",null,"Payment Details"),r.a.createElement("h4",null,l.paymentdetails)),r.a.createElement("div",{style:s.amountContainer},r.a.createElement("label",{style:s.amount},"Php ",Object(i.R)(l.amount)))),r.a.createElement(i.H,null),r.a.createElement(i.A,{open:g,title:"Error",onAccept:function(){return E(!1)},msg:"An error was encountered when processing your order. Please try again later or contact LGU for assistance."}),r.a.createElement(i.a,null,r.a.createElement(i.e,{variant:"text",caption:"Back",action:t}),r.a.createElement(i.e,{caption:"Continue",action:function(){var e={};d.paidby||(e.paidby="Required"),d.paidbyaddress||(e.paidbyaddress="Required"),h(e),0===Object.keys(e).length&&n(d)},disableWhen:c,loading:c}))))},s={text:{display:"block",textAlign:"center"},infoContainer:{display:"flex",flexDirection:"column"},amountContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #aaa"},amount:{fontSize:24,fontWeight:800,padding:10}},m=function(e){var t=e.po,n=e.error,o=e.payOptions,l=e.partner,c=Object(a.useState)(!1)[0],u=Object(a.useState)(!1),s=u[0],m=u[1],p=Object(a.useState)(),f=p[0],v=p[1],h=Object(a.useState)(!1),b=h[0],g=h[1],E=Object(a.useState)(!1),y=E[0],x=E[1],O=Object(a.useState)({}),C=O[0],S=O[1],j=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=document.getElementById("postform");e&&C.formaction&&e.submit()}),[C]);var k=[];return C.params&&Object.keys(C.params).forEach((function(e){k.push([e,C.params[e]])})),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.A,{title:"Acknowledgement",msg:"Kindly acknowledge and confirm with the Terms and Conditions before proceeding.",open:y,onAccept:function(){return x(!1)}}),r.a.createElement(i.z,{open:s,showActions:!1},r.a.createElement(i.C,{center:!0},r.a.createElement(i.H,null),r.a.createElement("label",{style:{fontSize:20,fontWeight:800}},"Contacting Partner"),r.a.createElement("label",{style:{fontSize:14,opacity:.75}},"Kindly wait while we send your payment request to our partner."),r.a.createElement(i.x,{showMessage:!1}),r.a.createElement(i.H,null))),r.a.createElement(i.H,null),r.a.createElement(i.C,{center:!0},r.a.createElement(i.C,{style:d.poContainer},r.a.createElement(i.C,{center:!0},r.a.createElement(i.P,{color:"green"},"Your Order")),r.a.createElement(i.H,null),r.a.createElement(i.C,null,r.a.createElement(i.t,{context:l,caption:"Agency",expr:"title"}),r.a.createElement(i.t,{context:t,caption:"Reference No.",expr:"objid"}),r.a.createElement(i.t,{context:t,caption:"Transaction Type",expr:"txntypename"}),r.a.createElement(i.t,{context:t,caption:"Particulars",expr:"particulars"}),r.a.createElement(i.t,{context:t,caption:"Paid By",expr:"paidby"}),r.a.createElement(i.H,{height:10}),r.a.createElement(i.t,{caption:"Amount"},t&&Object(i.R)(t.amount)),r.a.createElement(i.t,{caption:"Web Service Fee"},t&&Object(i.R)(t.webfee)),r.a.createElement(i.t,{caption:"Total"},t&&Object(i.R)(t.total))),r.a.createElement(i.p,{row:!0,style:{marginTop:10}},r.a.createElement(i.t,{style:{color:"blue",paddingRight:5}},"Note:"),r.a.createElement(i.t,{style:{color:"red"}},t&&"Pay on or before "+t.expirydate)),r.a.createElement(i.h,{checked:b,onChange:g,style:{marginRight:5},caption:r.a.createElement("span",{style:{fontSize:14,paddingTop:8}},"I acknowledge and agree to the Terms and Conditions of this e-payment facility.")}),r.a.createElement(i.H,{height:10})),!c&&b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.n,{msg:f||n}),r.a.createElement(i.H,null),r.a.createElement(i.t,null,"Click to choose Type of Payment:"),r.a.createElement(i.p,{row:!0},o&&o.map((function(e){return r.a.createElement("button",{type:"submit",style:d.payButton,onClick:function(){return n=e,void(b?(v(null),m(!0),i.G.lookup("CloudPaymentService","epayment").invoke("getPayPartner",{objid:t.objid,payoption:n.objid},(function(e,t){e?(/syntax/gi.test(e)?v("Could not contact payment partner. Please try again."):v(e),m(!1)):S(t)}))):x(!0));var n}},r.a.createElement("input",{type:"hidden",name:"refno",value:t.objid}),r.a.createElement("input",{type:"hidden",name:"payoption",value:e.objid}),r.a.createElement(i.q,{src:"/assets/"+e.paypartnerid.toLowerCase()+".png",width:"150",style:{cursor:"pointer"}}))}))))),!0===C.isredirect?r.a.createElement("form",{id:"postform",method:"GET",action:C.formaction,ref:j},r.a.createElement("input",{type:"hidden",name:"id",value:C.id})):r.a.createElement("form",{id:"postform",method:"POST",action:C.formaction,ref:j},r.a.createElement(r.a.Fragment,null,k.map((function(e){return r.a.createElement("input",{key:e[0],type:"hidden",name:e[0],value:e[1]})})),r.a.createElement("input",{type:"hidden",name:"orgcode",value:"${po.orgcode}"}))))},d={poContainer:{display:"flex",flexDirection:"column",border:"1px solid #aaa",borderRadius:5,padding:15,maxWidth:450},payButton:{border:"none",background:"none"}},p=function(e){var t=e.module,n=e.partner,c=e.initialContact,s=void 0===c?{}:c,d=e.initialStep,p=void 0===d?0:d,f=e.cancelPayment,v=function(){k((function(e){return e+1!==b.length?e+1:e}))},h=function(){k((function(e){return e-1>=0?e-1:e}))},b=[{name:"verifyemail",title:"Email Verification",component:l,actions:{onCancel:function(){e.history.goBack()},onVerify:function(e){A(e),v()}}},{name:"billing",title:t.title,component:t.component,actions:{onCancel:function(e){f?f():h()},onSubmit:function(e){B(e),v()}}},{name:"checkout",title:"Checkout Order",component:u,actions:{onCancel:h,onSubmit:function(e){y(!0),C(null),function(){try{var t=o({},I);t.paidby=e.paidby,t.paidbyaddress=e.paidbyaddress,t.email=N.email,t.mobileno=N.mobileno;var a=i.G.lookupAsync(n.id+":EPaymentService","epayment");return Promise.resolve(a.invoke("createPaymentOrder",t)).then((function(e){var t=i.G.lookupAsync("CloudPaymentService","epayment");return Promise.resolve(t.invoke("getPaymentOrder",{objid:e.objid})).then((function(a){return e=a,Promise.resolve(t.invoke("getPaymentPartnerOptions",{partnerid:e.orgcode})).then((function(t){return{po:e,payOptions:t,partner:n}}))}))}))}catch(e){return Promise.reject(e)}}().then((function(e){_(e.po),D(e.payOptions),v(),y(!1)})).catch((function(e){C(e.toString()),y(!1)}))}}},{name:"payment",title:"Online Payment",component:m,actions:{onCancel:h,onSubmit:function(){}}}],g=Object(a.useState)(!1),E=g[0],y=g[1],x=Object(a.useState)(),O=x[0],C=x[1],S=Object(a.useState)(p),j=S[0],k=S[1],w=Object(a.useState)(b[p]),P=w[0],W=w[1],T=Object(a.useState)(s),N=T[0],A=T[1],R=Object(a.useState)(),I=R[0],B=R[1],z=Object(a.useState)(),H=z[0],_=z[1],F=Object(a.useState)(),V=F[0],D=F[1],U=Object(a.useState)(0)[0];return Object(a.useEffect)((function(){W(b[j])}),[j]),r.a.createElement(P.component,o({},e,{contact:N,bill:I,po:H,payOptions:V},P.actions,{error:O,module:t,loading:E,page:P,initialStep:U}))},f=function(e){var t=Object(a.useState)({}),n=t[0],l=t[1],c=e.partner;Object(a.useEffect)((function(){var t={orgcode:Object(i.U)(e.location,"orgcode"),paymentrefid:Object(i.U)(e.location,"paymentrefid"),txnno:Object(i.U)(e.location,"txnno"),txndate:Object(i.U)(e.location,"txndate"),amount:Object(i.U)(e.location,"amount"),paypartnerid:Object(i.U)(e.location,"paypartnerid"),paidby:Object(i.U)(e.location,"paidby"),email:Object(i.U)(e.location,"email")};l(t)}),[]);var u=[];return c.phoneno&&u.push("For inquiries, contact us on "+c.phoneno),c.email&&u.push(u.length>1?"or email to "+c.email:"For inquiries, email us on "+c.email),0==u.length&&u.push("kindly contact the Treasurer's Office."),r.a.createElement(i.f,null,r.a.createElement(i.j,{center:!0},r.a.createElement(i.q,{src:"/assets/success.png",width:60,alt:"success"}),r.a.createElement(i.K,{style:{fontSize:24}},"Payment Successful"),r.a.createElement(i.o,{context:n,handler:l,style:v.paymentInfoContainer},r.a.createElement(i.O,{caption:"Transaction #",name:"txnno",readOnly:!0}),r.a.createElement(i.O,{caption:"Payment Date #",name:"txndate",readOnly:!0}),r.a.createElement(i.C,{style:v.amountContainer},r.a.createElement("label",{style:v.amount},"Amount"),r.a.createElement("label",{style:v.amount},"PHP ",Object(i.R)(n.amount))),r.a.createElement(i.C,{center:!0},r.a.createElement("label",{style:{fontSize:10,marginTop:10}},"Payment Partner"),r.a.createElement(i.q,{src:"/assets/"+n.paypartnerid+".png",width:150}),r.a.createElement(i.q,null))),r.a.createElement(i.t,{style:o({},v.text,{maxWidth:300})},"Your e-receipt and tickets will be sent to your email at ",n.email),r.a.createElement(i.t,{labelStyle:v.text},"Thank you for using this service"),u.length>0&&r.a.createElement(i.t,{labelStyle:v.text},u.join(" ")),r.a.createElement(i.g,null,r.a.createElement(i.e,{caption:"Return",onClick:function(){c&&c.name?e.history.replace("/partner/"+c.name+"/services",{partner:c}):e.history.replace("/partners")}})),r.a.createElement(i.H,null)))},v={text:{display:"block",textAlign:"center",width:300},paymentInfoContainer:{display:"flex",flexDirection:"column",padding:15,border:"1px solid #aaa",borderRadius:5,width:"100%"},amountContainer:{display:"flex",justifyContent:"space-between",padding:10,borderBottom:"1px solid #aaa"},amount:{fontWeight:800}},h=function(e){var t=e.partner,n=e.history,o=e.location,l=Object(a.useState)(),c=l[0],u=l[1],s=Object(a.useState)(),m=s[0],d=s[1];Object(a.useEffect)((function(){d(Object(i.U)(o,"code")),u(Object(i.U)(o,"message"))}),[]);var p=[];return t.phoneno&&p.push("Contact us on "+t.phoneno),t.email&&p.push(p.length>0?"or email at "+t.email:"Email us at "+t.email),p.push(p.length>0?"for any assistance.":"For inquiries, please contact the Treasurer's Office."),r.a.createElement(i.C,{center:!0},r.a.createElement(i.C,{style:{width:400,padding:15}},r.a.createElement(i.f,null,r.a.createElement(i.j,{center:!0},r.a.createElement(i.q,{src:"/assets/error.png",width:75,alt:"success"}),r.a.createElement(i.H,null),r.a.createElement(i.P,null,"Processing Error"),r.a.createElement(i.H,null),r.a.createElement(i.t,{labelStyle:b.text},"Our partner was not able to process your payment."),r.a.createElement(i.t,{labelStyle:b.text},"Make sure to verify that your credentials are correct upon submitting your payment."),m&&r.a.createElement("h4",{style:{marginBottom:3}},"Error ",m),c&&r.a.createElement("div",null,c),r.a.createElement(i.H,null),p.length>0&&r.a.createElement(i.t,{labelStyle:b.text},p.join(" ")),r.a.createElement(i.H,null),r.a.createElement(i.e,{variant:"text",caption:"OK",onClick:function(){t&&t.name?n.replace("/partner/"+t.name+"/services",{partner:t}):n.replace("/partners")}})))))},b={text:{display:"block",textAlign:"center"}}},146:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return ye})),n.d(t,"e",(function(){return Ee})),n.d(t,"f",(function(){return Oe})),n.d(t,"g",(function(){return Ce})),n.d(t,"h",(function(){return Pe})),n.d(t,"i",(function(){return Te})),n.d(t,"j",(function(){return Re})),n.d(t,"k",(function(){return Ue})),n.d(t,"l",(function(){return qe})),n.d(t,"m",(function(){return Ge})),n.d(t,"n",(function(){return Je})),n.d(t,"o",(function(){return $e})),n.d(t,"p",(function(){return Ze})),n.d(t,"q",(function(){return et})),n.d(t,"r",(function(){return at})),n.d(t,"s",(function(){return rt})),n.d(t,"t",(function(){return Me})),n.d(t,"u",(function(){return it})),n.d(t,"v",(function(){return ot})),n.d(t,"w",(function(){return lt})),n.d(t,"x",(function(){return ct})),n.d(t,"y",(function(){return dt})),n.d(t,"z",(function(){return st})),n.d(t,"A",(function(){return pt})),n.d(t,"B",(function(){return ft})),n.d(t,"C",(function(){return Ye})),n.d(t,"D",(function(){return ht})),n.d(t,"E",(function(){return gt})),n.d(t,"F",(function(){return Ot})),n.d(t,"G",(function(){return Ft})),n.d(t,"H",(function(){return yt})),n.d(t,"I",(function(){return Lt})),n.d(t,"J",(function(){return Pt})),n.d(t,"K",(function(){return Ct})),n.d(t,"L",(function(){return jt})),n.d(t,"M",(function(){return Nt})),n.d(t,"N",(function(){return At})),n.d(t,"O",(function(){return Rt})),n.d(t,"P",(function(){return Bt})),n.d(t,"Q",(function(){return zt})),n.d(t,"R",(function(){return Be})),n.d(t,"S",(function(){return Fe})),n.d(t,"T",(function(){return Vt})),n.d(t,"U",(function(){return He})),n.d(t,"V",(function(){return ze})),n.d(t,"W",(function(){return _e})),n.d(t,"X",(function(){return Ie})),n.d(t,"Y",(function(){return Mt}));var a=n(0),r=n.n(a),i=n(189),o=n(144),l=n(184),c=n(538),u=n(302),s=n(539),m=n(541),d=n(87),p=n(304),f=n(545),v=n(33),h=n(301),b=(n(558),n(85)),g=n(145),E=n(192),y=n(61),x=n.n(y),O=n(82),C=n(104),S=n(305),j=n(86),k=n(303),w=n(190),P=n(17),W=n(556),T=n(297),N=(n(43),n(287)),A=n.n(N),R=n(142),I=(n(44),n(293),n(126),n(127),n(544)),B=(n(66),n(543),n(97),n(194)),z=n(186),H=n(187),_=n(185),F=n(179),V=n.n(F),D=n(546),U=n(542),L=(n(294),n(295),n(191)),q=n(547),G=n(180),M=n.n(G),K=n(559),J=n(549),Y=n(193),X=n(548),$=(n(296),n(550),n(552)),Q=n(554),Z=n(103),ee=n(551),te=n(553),ne=n(188),ae=n(183),re=n(557),ie=n(288),oe=n.n(ie),le=n(143),ce=n.n(le),ue=n(289),se=n(285),me=n.n(se);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}n.d(t,"d",(function(){return me.a}));var fe=Object(v.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",marginTop:50,borderTop:"solid 1px lightgrey"},center:{flexDirection:"column"}}})),ve=function(e){var t=e.children,n=e.disabled,a=void 0!==n&&n,o=e.center,l=void 0!==o&&o,c=e.visibleWhen,u=void 0===c||c,s=pe(e,["children","disabled","center","visibleWhen"]);if(!u)return null;var m=fe(),d=""+m.container;return void 0!==l&&1==l&&(d=d+" "+m.center),r.a.createElement(i.a,de({pt:2},s,{className:d,disabled:!0}),a?r.a.Children.map(t,(function(e){return r.a.cloneElement(e,{disabled:!0})})):t)},he=Object(v.a)((function(e){return{root:{backgroundColor:"#2c3e50"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)},toolBar:{paddingLeft:"50px"}}})),be=function(e){var t=he();return r.a.createElement(h.a,{variant:"outlined",position:"static",className:t.root,style:de({},e.style)},e.children)},ge=Object(v.a)((function(e){return{button:{textTransform:"none"}}})),Ee=function(e){var t=e.label,n=e.caption,a=e.action,i=e.loading,c=e.children,u=e.visibleWhen,s=void 0===u||u,m=e.disableWhen,d=void 0!==m&&m,p=pe(e,["label","caption","action","loading","children","visibleWhen","disableWhen"]);if(!s)return null;var f=ge();return r.a.createElement(o.a,de({size:"small",variant:"contained",color:"primary",onClick:a,style:{margin:2},disabled:d,endIcon:i&&r.a.createElement(l.a,de({size:18,color:"secondary"},p)),className:f.button},p),t||n||c)},ye=function(e){var t=e.label,n=e.caption,a=e.children,i=pe(e,["label","caption","children"]);return r.a.createElement(Ee,de({size:"medium"},i,{variant:"text"}),t||n||a||"Back")},xe=(Object(v.a)((function(e){return{button:{textTransform:"none"}}})),Object(v.a)({root:{marginTop:10,paddingLeft:20,paddingRight:20},title:{padding:10}})),Oe=function(e){var t=e.caption,n=e.children,a=xe();return r.a.createElement(c.a,{className:a.root},t&&r.a.createElement(b.a,{variant:"h6",component:"h3",className:a.title},t),r.a.createElement(u.a,null,n))},Ce=function(e){return r.a.createElement(s.a,null,e.children)},Se=r.a.createContext(),je=function(e,t,n,a){return n&&"function"==typeof n?n(e):n&&"string"==typeof n?x.a.get(e,""+n)||a:x.a.get(e,t)||a},ke=function(e,t){var n=t.id||t.name,a=t.expr;if(e){var r=t.onChange||e.handleChange;return{value:je(e.context,n,a,""),onChange:r}}var i=t.context,o=t.onChange;return{value:i?je(i,n,a):t.value||"",onChange:function(e,t){void 0===t&&(t=!1),o(t?e.target.checked:e.target.value)}}},we=function(){return r.a.useContext(Se)},Pe=function(e){var t=e.editable,n=void 0===t||t,a=e.readOnly,i=void 0!==a&&a,o=e.text,l=e.caption,c=pe(e,["visibleWhen","editable","readOnly","text","caption"]),u=we(),s=ke(u,c),m=!1;return!i&&n||(m=!0),r.a.createElement(g.a,{control:r.a.createElement(E.a,de({checked:"string"!=typeof s.value&&s.value,disabled:m},c,s,{onChange:function(e){s.onChange(e,!0)}})),label:o||l})},We=Object(v.a)((function(e){return{formControl:{marginTop:3},selectEmpty:{marginTop:e.spacing(2)}}})),Te=function(e){var t=e.editable,n=void 0===t||t,a=e.items,i=e.caption,o=e.label,l=e.expr,c=pe(e,["editable","items","caption","label","expr"]),u=we(),s=ke(u,c),m=We();return r.a.createElement(j.a,{className:m.formControl,fullWidth:!0,disabled:!n},r.a.createElement(C.a,{id:"select-id"},i||o||""),r.a.createElement(w.a,de({labelId:"select-id",id:"select-id"},c,s),a.map((function(e){var t="function"==typeof l?l(e):e.toString();return r.a.createElement(S.a,{key:t,value:e},t)}))),r.a.createElement(k.a,{style:{color:"red"}},c.helperText))},Ne=function(e){var t=e.visibleWhen,n=void 0===t||t,a=pe(e,["visibleWhen"]);return n?r.a.createElement(l.a,a):null},Ae={root:{padding:0},center:{display:"flex",flexDirection:"column",alignItems:"center"}},Re=function(e){var t,n,a=e.children,i=e.center,o=void 0!==i&&i,l=e.width,c=pe(e,["children","center","width"]);return r.a.createElement(m.a,de({},c,{style:(t={center:o,width:l},n={},t.width&&(n.width=t.width),de({},Ae.root,t.center?Ae.center:{},n,t.style))}),a)},Ie=function(e){return null==e||e};function Be(e,t){return void 0===t&&(t=0),e?("string"==typeof e?Number(e):e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}var ze=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},He=function(e,t){return new URLSearchParams(e.search).get(t)},_e=function(e,t){for(var n=[],a=e;a<=t;a++)n.push(a);return n},Fe=function(){return(new Date).getFullYear()},Ve=function(e,t,n){return void 0===n&&(n="0"),A()(e,t,n)},De=function(e){void 0===e&&(e=10);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},Ue=function(e){var t=e.visibleWhen,n=void 0===t||t,i=e.caption,o=e.label,l=e.editable,c=void 0===l||l,u=e.readOnly,s=void 0!==u&&u,m=e.disabled,d=void 0!==m&&m,p=e.autoOk,f=void 0===p||p,v=e.helperText,h=void 0===v?"mm/dd/yyy":v,b=e.variant,g=void 0===b?"standard":b,E=e.size,y=void 0===E?"small":E,x=pe(e,["visibleWhen","caption","label","editable","readOnly","disabled","autoOk","helperText","variant","size"]);if(!n)return null;var O=we(),C=ke(O,x),S=C.value,j=C.onChange,k=pe(C,["value","onChange"]),w=Object(a.useState)(null),N=w[0],A=w[1];return Object(a.useEffect)((function(){var e;!N&&null!==S&&S.toString().length>0&&(e=S.indexOf(" ")>0?new Date(S.split(" ")[0]+"T00:00:00+08:00"):new Date(S+"T00:00:00+08:00"),A(e))}),[S]),r.a.createElement(P.a,{utils:T.a},r.a.createElement(W.a,de({disableToolbar:!0,format:"MM/dd/yyyy",variant:"inline",margin:"normal",inputVariant:g,size:y,label:i||o,helperText:h,fullWidth:!0,autoOk:f},x,k,{value:N,onChange:function(e){A(e);var t=null;if(e&&!/invalid/i.test(e.toString())){var n=e.toLocaleDateString().split("/");n[0]=Ve(n[0],2),n[1]=Ve(n[1],2),t=n[2]+"-"+n[0]+"-"+n[1]}j({target:{name:x.name,value:t}})},disabled:!c||s||d})))};function Le(e){var t=e.inputRef,n=e.onChange,a=pe(e,["inputRef","onChange"]);return r.a.createElement(R.a,de({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,decimalScale:2,fixedDecimalScale:!0,readOnly:!e.editable||e.readOnly},a))}var qe=function(e){var t=e.label,n=e.caption,a=e.editable,i=void 0===a||a,o=e.readOnly,l=void 0!==o&&o,c=e.textAlign,u=void 0===c?"right":c,s=pe(e,["label","caption","editable","readOnly","textAlign"]),m=we(),p=ke(m,s);return r.a.createElement(d.a,de({label:t||n,autoComplete:"off",readOnly:!i||l},s,p,{InputProps:{inputComponent:Le},inputProps:{style:{textAlign:u}}}))},Ge=function(e){var t=e.label,n=e.caption,a=pe(e,["label","caption"]),i=we(),o=ke(i,a);return r.a.createElement(d.a,de({label:t||n||"Email Address",fullWidth:!0,autoComplete:"off"},a,o,{type:"email",onChange:function(e){var t=e.target;o.onChange({target:{name:t.name,value:t.value.toLowerCase()}})}}))},Me=function(e){var t=e.caption,n=e.context,a=e.expr,i=e.exprValue,o=e.children,l=e.blur,c=void 0!==l&&l,u=pe(e,["caption","context","expr","exprValue","children","blur"]),s=i||o,m=we();return n&&a?s="function"==typeof a?a(n):x.a.get(n,a):m&&(s=ke(m,de({},u,{name:a})).value),r.a.createElement("div",{style:de({},Ke.wrapper,u.style,c?Ke.blur:{})},t&&r.a.createElement("label",{style:de({},Ke.caption,u.captionStyle)},t),r.a.createElement("label",{style:de({},Ke.label,u.labelStyle)},s?s.toString():o))},Ke={wrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingTop:5,paddingBottom:5},caption:{fontWeight:"800",fontSize:14,width:200},label:{fontSize:"14px"},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},Je=function(e){var t=e.msg;return t?r.a.createElement(Me,{style:{color:"red"}},t):null},Ye=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,i=e.row,o=void 0!==i&&i,l=pe(e,["children","visibleWhen","row"]);if(!a)return null;var c=function(e){var t=e.width,n=e.center,a=void 0!==n&&n,r=e.row,i=void 0!==r&&r,o={};return t&&(o.width=t),i&&(o.display="flex",o.flexDirection="row",o.alignItems="center"),a&&(o=de({},o,Xe.center)),o}(de({},l,{row:o}));return r.a.createElement("div",de({style:de({},Xe.panel,c,l.style)},l),t)},Xe={panel:{display:"flex",flexDirection:"column"},center:{display:"flex",flexDirection:"column",alignItems:"center"}},$e=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,i=e.handler,o=pe(e,["children","visibleWhen","handler"]);if(!a)return null;var l=function(e){var t=e.context,n=void 0===t?{}:t,a=e.handler,r=pe(e,["context","handler"]);return de({context:n,handleChange:function(e,t){void 0===t&&(t=!1);var r=e.target.name,i="boolean"==typeof t&&t?e.target.checked:e.target.value,o=Object(O.a)(n,(function(e){x.a.set(e,r,i)}));a(o)}},r)}(de({},o,{handler:i}));return r.a.createElement(Se.Provider,{value:l},r.a.createElement(Ye,o,"function"==typeof t?t(l):t))},Qe=Object(v.a)((function(e){return{root:{flexWrap:"flex"}}})),Ze=function(e){var t=e.children,n=pe(e,["children"]),a=Qe();return r.a.createElement(p.a,de({className:a.root},n),t)};Object(v.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#ecf0f1"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)}}}));var et=function(e){return r.a.createElement("img",e)};function tt(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,i=void 0===a||a,o=pe(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(R.a,de({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:i,isNumericString:!0,decimalScale:0}))}function nt(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,i=void 0!==a&&a,o=pe(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(R.a,de({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:i,isNumericString:!0,decimalScale:0}))}var at=function(e){var t=e.label,n=e.caption,a=e.thousandSeparator,i=void 0===a||a,o=e.size,l=void 0===o?"small":o,c=pe(e,["label","caption","thousandSeparator","size"]),u=we(),s=ke(u,c);return r.a.createElement(d.a,de({label:t||n,size:l,autoComplete:"off"},c,s,{InputProps:{inputComponent:i?tt:nt}}))},rt=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement("label",null,e.caption),r.a.createElement("label",null,t))},it=function(e){var t=e.visibleWhen,n=void 0===t||t,a=pe(e,["visibleWhen"]);return n?r.a.createElement(I.a,a):null},ot=function(e){var t=e.caption,n=e.visibleWhen,a=void 0===n||n,i=e.children,o=pe(e,["caption","exprValue","visibleWhen","children"]);return a?r.a.createElement(f.a,de({variant:"body2"},o),t||i):null},lt=function(e){var t=e.items,n=e.children,a=pe(e,["items","children"]),i=[];return t.forEach((function(t){i.push("function"==typeof n?n(de({},a,{item:t})):function e(t,n){var a=[];if(n.children){var i=n.children,o=pe(n,["children"]);r.a.Children.forEach(i,(function(n,i){if("function"==typeof n)a.push(n(de({},o,{item:t})));else{var l=function(e,t,n){var a=de({},n);if(t.props){var r=t.props.expr;r&&(a.exprValue=e[r].toString())}return a}(t,n,o),c=e(t,n.props);l.key=De();var u=r.a.cloneElement(n,l,c);a.push(u)}}))}return a}(t,e))})),r.a.createElement("div",{style:de({},e.style)},i)},ct=function(e){var t=e.visibleWhen,n=void 0===t||t,a=e.showMessage,i=void 0===a||a,o=pe(e,["visibleWhen","showMessage"]);if(!n)return null;var l=o.msg||"Processing...";return r.a.createElement("div",{style:ut.container},r.a.createElement("div",{style:ut.progress},r.a.createElement(Ne,de({size:16,color:"secondary"},o))),i&&r.a.createElement("div",{style:ut.msg},l))},ut={container:{display:"flex",flexDirection:"row",marginTop:5,marginBottom:5},progress:{paddingRight:10},msg:{color:"#f50057"}},st=(Object(v.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),function(e){var t=e.children,n=e.onAccept,a=e.onCancel,i=e.showActions,o=void 0===i||i;return r.a.createElement(B.a,{open:e.open},r.a.createElement(H.a,null,e.caption),r.a.createElement(z.a,null,t,o&&r.a.createElement(ve,null,r.a.createElement(Ee,{variant:"text",caption:"Cancel",onClick:a}),r.a.createElement(Ee,{caption:"OK",onClick:n}))))});function mt(e){var t=e.inputRef,n=pe(e,["inputRef"]);return r.a.createElement(V.a,de({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var dt=function(e){var t=e.label,n=e.caption,a=pe(e,["label","caption"]),i=we(),o=ke(i,a);return r.a.createElement(j.a,null,r.a.createElement(C.a,{htmlFor:"formatted-text-mask-input"},t||n||"Mobile No."),r.a.createElement(_.a,de({},a,o,{id:"formatted-text-mask-input",inputComponent:mt})))},pt=function(e){var t=e.open,n=e.type,a=void 0===n?"alert":n,i=e.msg,o=e.acceptCaption,l=void 0===o?"OK":o,c=e.onAccept,u=e.onCancel,s=pe(e,["open","type","msg","acceptCaption","onAccept","onCancel"]).title||("alert"===a?"Information":"Confirmation");return r.a.createElement(B.a,{open:t},s&&r.a.createElement(H.a,null,s),r.a.createElement(z.a,null,r.a.createElement(D.a,null,i)),r.a.createElement(U.a,null,"alert"!==a&&r.a.createElement(Ee,{variant:"text",caption:"Cancel",onClick:u}),r.a.createElement(Ee,{caption:l,onClick:c})))},ft=function(e){var t,n=(t={header:null,left:null,center:null,right:null,footer:null},r.a.Children.forEach(e.children,(function(e){if(e){var n=e.props.target||"center";t[n]||(t[n]=[]),t[n].push(e)}})),t),a=n.center,i=n.right;return r.a.createElement("div",{className:"_12CqV"},r.a.createElement("div",{className:"_3rBoA"},r.a.createElement("div",{className:"_1Pt6o"},r.a.createElement("aside",{className:"_3GVFn _1JqCZ"},r.a.createElement("div",{style:{position:"fixed"}},n.left)),r.a.createElement("div",{className:"_3FaYg"},a),r.a.createElement("aside",{className:"_3GVFn _2yu7F"},i))))};function vt(e){var t=e.inputRef,n=pe(e,["inputRef"]);return r.a.createElement(V.a,de({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var ht=function(e){var t=e.label,n=e.caption,a=pe(e,["label","caption"]),i=we(),o=ke(i,a);return r.a.createElement(j.a,null,r.a.createElement(C.a,{htmlFor:"formatted-text-mask-input"},t||n||"Phone No."),r.a.createElement(_.a,de({},a,o,{id:"formatted-text-mask-input",inputComponent:vt})))},bt=function(e){var t=e.item,n=e.Control;return r.a.createElement("div",{style:Et.customItemContainer},r.a.createElement(L.a,{value:t.objid}),r.a.createElement(n,{item:t}))},gt=function(e){var t,n=e.children,a=e.readOnly,i=void 0!==a&&a,o=e.editable,l=void 0===o||o,c=e.list,u=e.Control,s=pe(e,["children","caption","readOnly","editable","list","Control"]),m=we(),d=ke(m,s),p=i||!l;return t=c?c.map((function(e){return u?r.a.createElement(bt,{item:e,Control:u}):r.a.createElement(g.a,{value:e.objid,control:r.a.createElement(L.a,null),label:e.caption||e.title,disabled:p})})):r.a.Children.map(n,(function(e){var t=e.props,n=t.readOnly,a=void 0!==n&&n,i=t.editable,o=void 0===i||i,l=pe(t,["readOnly","editable"]);return r.a.createElement(g.a,de({value:e.props.value,control:r.a.createElement(L.a,null),label:e.props.caption,disabled:p||a||!o},l))})),r.a.createElement(j.a,{component:"fieldset"},r.a.createElement(q.a,de({},s,{value:d.value,onChange:function(e,t){d.onChange({target:{name:s.name,value:t}})},style:{display:"flex"}}),t))},Et={customItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",border:"1px solid #aaa"}};M.a.setAppElement("#root");var yt=function(e){return r.a.createElement("div",{style:{height:e.height||20}},e.children)},xt=Object(v.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),Ot=function(e){var t=we(),n=ke(t,e),a=e.caption,i=e.items,o=e.name,l=e.expr,c=pe(e,["caption","items","name","expr"]),u=xt(),s=function(e,t){return e.map((function(e){var n;return"function"==typeof t&&(n=t(e)),"string"==typeof t&&"object"==typeof e&&(n=x.a.get(e,t)),r.a.createElement(S.a,{key:De(),value:e},n||e)}))}(i,l);return l&&(n.renderValue=function(e){return e[l]}),r.a.createElement(j.a,{className:u.formControl},r.a.createElement(C.a,null,a),r.a.createElement(w.a,de({},c,n,{name:o}),s))},Ct=function(e){var t=e.caption,n=e.title,a=e.children;return r.a.createElement(Me,{labelStyle:de({},St.title,e.style)},t||n||a)},St={title:{paddingTop:"10px",color:"#27ae60",fontSize:20,fontWeight:"bold"}},jt=function(e){return r.a.createElement(Me,{labelStyle:kt.title},e.caption||e.title||e.children)},kt={title:{fontSize:18,fontWeight:"bold",opacity:.85}},wt=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:"transparent"},selectedStep:{color:"#27ae60 !important"}}})),Pt=function(e){var t=e.orientation,n=e.completedStep,a=e.handleStep,i=e.steps,o=e.activeStep,l=wt(),c=n>0?n-1:o;return r.a.createElement(K.a,{className:l.root,activeStep:c,orientation:t||"vertical"},i.map((function(e,t){if(e.caption){var i={},u={};t===o&&(u.completed=l.selectedStep);var s=r.a.createElement(Y.a,i,e.caption);return a&&t<=n&&(s=r.a.createElement(X.a,{onClick:function(){return a(t)},completed:t<=c},r.a.createElement(Y.a,de({classes:u,StepIconProps:{classes:u}},i),e.caption))),r.a.createElement(J.a,de({key:e.caption},{}),s)}})))},Wt={currency:Be,number:function(e){return void 0===e&&(e=0),e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},Tt=Object(v.a)((function(e){return{head:{fontWeight:"bold",opacity:.8},paper:{width:"100%",marginBottom:e.spacing(2)},pagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),Nt=function(e){var t=e.items,n=void 0===t?[]:t,i=e.showPagination,o=void 0===i||i,l=e.rowsPerPage,c=void 0===l?5:l,u=e.fetchList,s=e.singleSelect,m=void 0!==s&&s,d=e.multiSelect,p=void 0!==d&&d,f=e.keyId,v=e.onSelectItems,h=pe(e,["items","showPagination","rowsPerPage","fetchList","singleSelect","multiSelect","keyId","onSelectItems"]),b=Object(a.useState)(0),g=b[0],y=b[1],C=Object(a.useState)(c),S=C[0],j=C[1],k=Object(a.useState)([]),w=k[0],P=k[1];Object(a.useEffect)((function(){u&&u({start:g,limit:S})}),[g,S]),Object(a.useEffect)((function(){v&&v(w)}),[w]);var W=Tt(),T=n.length===S?-1:g*S+n.length,N=p||m?{numSelected:w.length,rowCount:-1===T?S:n.length,multiSelect:p,singleSelect:m,onSelectAllClick:function(){P(0===w.length?n:[])},onSelectItem:function(e,t){var n=w.findIndex((function(e){return e[f]===t[f]}));P(n>=0?Object(O.a)((function(e){return e.filter((function(e){return e[f]!==t[f]}))})):p?w.concat(t):[t])}}:{},A=function(e,t){var n=Tt(),a=r.a.Children.map(e.children,(function(e){var t=e.props,a=t.caption,i=pe(t,["caption","expr"]);return r.a.createElement(Z.a,de({key:De(),className:n.head},i),a)}));if(t.singleSelect)a.unshift(r.a.createElement(Z.a,{key:De(),padding:"checkbox"},r.a.createElement("span",null," ")));else if(t.multiSelect){var i=t.numSelected,o=t.rowCount,l=t.onSelectAllClick;a.unshift(r.a.createElement(Z.a,{key:De(),padding:"checkbox"},r.a.createElement(E.a,{indeterminate:i>0&&i<o,checked:o>0&&i===o,onChange:l})))}return a}(e,N),R=function(e,t,n){var a=e.items,i=e.children,o=[];return(void 0===a?[]:a).forEach((function(a){var l=r.a.Children.map(i,(function(e,t){var n=e.props,i=n.expr,o=n.format,l=n.children,c=pe(n,["caption","expr","format","children"]),u=function(e){var t,n=e.item,a=e.expr,i=e.children;if(a)if("string"==typeof a){var o=Wt[e.format],l=x.a.get(n,a);t=o?o(l):l}else t=a(n).toString();else t="function"==typeof i?i(n):function e(t,n){return r.a.Children.map(n,(function(n){var a=n.props,i=a.action,o=a.children;if("function"==typeof i)return r.a.cloneElement(n,{action:function(e){e.stopPropagation(),i(t)}},o);if(o.length>0){var l=e(t,o);return r.a.cloneElement(n,{},l)}return n}))}(n,i);return t}({item:a,expr:i,format:o,children:l}),s=0===t?{component:"th",scope:"row"}:{};return r.a.createElement(Z.a,de({key:De()},s,c),u)}));if(n.multiSelect||n.singleSelect){var c=e.keyId,u=t.findIndex((function(e){return e[c]===a[c]}))>=0;l.unshift(r.a.createElement(Z.a,{key:De(),padding:"checkbox"},r.a.createElement(E.a,{checked:u}))),o.push(r.a.createElement(ne.a,{hover:!0,onClick:function(e){return n.onSelectItem(e,a)},role:"checkbox",tabIndex:-1,key:De(),selected:u},l))}else o.push(r.a.createElement(ne.a,{key:De()},l))})),o}(e,w,N);return r.a.createElement(ae.a,{className:W.paper},r.a.createElement(ee.a,null,r.a.createElement($.a,de({},h,{size:"small"}),r.a.createElement(te.a,null,r.a.createElement(ne.a,null,A)),r.a.createElement(Q.a,null,R))),o&&r.a.createElement(re.a,{rowsPerPageOptions:[5,10,25],component:"div",count:T,rowsPerPage:S,page:g,onChangePage:function(e,t){y(t),P([])},onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10))},labelDisplayedRows:function(e){var t=e.to;return e.from+"-"+t+" of "+(-1!==e.count?t:"?")}}))},At=function(e){return r.a.createElement("div",null,e.children)},Rt=function(e){var t=e.label,n=e.caption,a=e.visibleWhen,i=void 0===a||a,o=e.editable,l=void 0===o||o,c=e.readOnly,u=void 0!==c&&c,s=e.containerStyle,m=e.textCase,p=void 0===m?"UPPER":m,f=e.blur,v=void 0!==f&&f,h=pe(e,["label","caption","visibleWhen","editable","readOnly","containerStyle","textCase","blur"]);if(!i)return null;var b=we(),g=ke(b,h),E={};!u&&l||(E.readOnly=!0);var y=!0===v?It.blur:{};return r.a.createElement("div",{style:de({},It.root,s)},r.a.createElement(d.a,de({label:n||t,fullWidth:!0,inputProps:E,autoComplete:"off",helperText:h.error,size:"small"},h,g,{style:de({},y),onChange:function(e){var t=e.target,n=t.name,a=t.value;/upper/i.test(p)?g.onChange({target:{name:n,value:a.toUpperCase()}}):g.onChange(e)}})))},It={root:{width:"100%",marginBottom:3},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},Bt=function(e){var t=e.caption,n=e.exprValue,a=e.children,o=pe(e,["caption","exprValue","children"]);return r.a.createElement(i.a,de({fontSize:"1.7em",fontWeight:"bold"},o),t||n||a)},zt=function(e){var t=e.onUpload,n=e.fileId,i=e.caption,l=void 0===i?"Upload":i,c=e.color,u=void 0===c?"secondary":c,s=e.visibleWhen,m=e.multiple,d=void 0!==m&&m,p=e.url,f=void 0===p?"/filipizen/upload":p;if(void 0!==s&&!s)return null;var v=Object(a.useState)(),h=v[0],b=v[1],g=Object(a.useState)("")[1],E=Object(a.useState)(0),y=E[0],x=E[1];return r.a.createElement("div",{className:"_1L-R5"},r.a.createElement("div",{className:"_CQGbS"},r.a.createElement("input",{className:"_1d5R2",id:n,type:"file",onChange:function(e){x(0);var n=e.target.files[0];g(n),n&&function(e){b(null);var n=new FormData;n.append("file",e),oe.a.post(f,n,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);x(t)}}).then((function(e){t({name:e.data.name,path:e.data.path})})).catch((function(e){return b(e)}))}(n)},multiple:d}),r.a.createElement("label",{htmlFor:n},r.a.createElement(o.a,{variant:"outlined",component:"span",color:u},l||"Upload")),0!=y&&100!=y&&r.a.createElement("div",{className:"_3Gt_X",style:{width:y}},y,"%"),r.a.createElement(Je,{msg:h})))},Ht=function(e){return e.indexOf(":")>0},_t={},Ft={lookup:function(e,t,n,a){var r,i;return void 0===t&&(t="default"),void 0===a&&(a={debug:!1}),null==_t[e]&&(r=Ht(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=ce()("/gdx");return r.connect(),{invoke:function(i,o,l){console.log("invoke now"),function(i,o){try{var l=new Promise((function(l,c){r.emit("invoke",{service:e,method:i,channel:t,connection:n,module:a,args:o},(function(e){"OK"===e.status?l(e.data):c(e.msg)})),r.on("disconnect",(function(){console.log("AsyncFetch disconnted")}))}));return Promise.resolve(l)}catch(e){return Promise.reject(e)}}(i,o).then((function(e){return l(null,e)})).catch((function(e){console.log("ERR",e),/syntax/i.test(e)?l("Partner is currently not avaible. Please try again later.",null):l(e,null)}))}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e,t,n){return{invoke:function(a,r,i){fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:n,connection:t,name:e,action:a},args:r?[r]:null})}).then((function(e){return e.json()})).then((function(e){e.error?i(e.error,null):Array.isArray(e)||0!==Object.keys(e).length?i(null,e):i(null,null)})).catch((function(e){return i(e.toString(),null)}))}}}((i=de({serviceName:e,connection:t,module:n},a)).serviceName,i.connection,i.module),_t[e]=r),_t[e]},lookupAsync:function(e,t,n,a){void 0===t&&(t="default"),void 0===a&&(a={debug:!1});var r,i="Async"+e;return null==_t[i]&&(r=Ht(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=ce()("/gdx");return r.connect(),{invoke:function(i,o,l){try{var c=new Promise((function(c,u){var s={service:e,method:i,connection:n,module:a,channel:t,args:o};console.log("AsyncRemoteProxy [invoke] "+s.service+"."+s.method+" channel: "+s.channel+" connection: "+n+" module: "+a),r.emit("invoke",s,(function(e){"OK"===e.status?(l&&l(!1,e.data),c(e.data)):(l&&l(e.msg),u(e.msg))}))}));return Promise.resolve(c)}catch(e){return Promise.reject(e)}}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e){return t=e.serviceName,n=e.connection,a=e.module,{invoke:function(e,r){try{return Promise.resolve(fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:a,connection:n,name:t,action:e},args:r?[r]:null})})).then((function(e){if(200!==e.status)throw e.statusText;return Promise.resolve(e.json())}))}catch(e){return Promise.reject(e)}}};var t,n,a}(de({serviceName:e,connection:t,module:n},a)),_t[i]=r),_t[i]}},Vt=function(){var e={"/gdx":[]};return{register:function(t,n,a){void 0===a&&(a="/gdx");var r=ce()(a);return r.on(t,(function(e){n(e)})),void 0===e[a]?e[a]=[r]:e[a].push(r),r}}},Dt=Object(a.createContext)(),Ut=Object(a.createContext)(),Lt=function(e){var t=e.children,n=Object(ue.a)(e.reducer,e.initialState);return r.a.createElement(Dt.Provider,{value:n[0]},r.a.createElement(Ut.Provider,{value:n[1]},t))},qt=function(){var e=Object(a.useContext)(Dt);if(void 0===e)throw new Error("useStateValue must be used within a StateProvider");return e},Gt=function(){var e=Object(a.useContext)(Ut);if(void 0===e)throw new Error("useStateDispatch must be used within a StateProvider");return e},Mt=function(){return[qt(),Gt()]}},207:function(e,t,n){e.exports=n.p+"static/media/filipizen.5fd85b9e.svg"},324:function(e,t,n){e.exports=n(536)},330:function(e,t,n){},332:function(e,t,n){},523:function(e,t){},528:function(e,t,n){},529:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(286),o=n.n(i),l=(n(330),n(49)),c=n(15),u=(n(146),n(331),n(332),function(e){return r.a.createElement("div",{className:"Footer"},r.a.createElement("span",{className:"Footer__info"},"@2020 Sitemap | Privacy | Legal | Feedback"))}),s=function(e){return r.a.createElement("div",{className:"HomeScreen"},r.a.createElement("div",{className:"HomeScreen__panel"},r.a.createElement("img",Object.assign({className:"HomeScreen__image",src:n(207)},e,{alt:"filipizen logo"})),r.a.createElement("div",{className:"HomeScreen__infoContainer"},r.a.createElement("div",{className:"HomeScreen__information"},r.a.createElement("label",{className:"HomeScreen__title"},"Experience ease of doing business with the government"),r.a.createElement("label",{className:"HomeScreen__description"},"Over 50 local government units participating all over the Philippines.")),r.a.createElement("button",{className:"HomeScreen__button",onClick:function(){e.history.push("/partners")}},"Start Here"))),r.a.createElement(u,null))},m=n(298),d=n(26),p=n(2),f=n(81),v=(n(528),function(e){var t=function(e){var t=e.children,n={header:null,left:null,center:null,right:null,footer:null};return r.a.Children.forEach(t,(function(e){if(e){var t=e.props.target||"center",a="string"===typeof e.type?e.type:e.type.name;/header/i.test(a)?t="header":/footer/i.test(a)&&(t="footer"),n[t]||(n[t]=[]),n[t].push(e)}})),n}(e),n=t.header,a=t.center,i=t.footer;return r.a.createElement("div",{className:"template"},r.a.createElement("div",{className:"row header"},n),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"main"},a," "))),r.a.createElement("div",{className:"row footer"},i))}),h=function(e){return r.a.createElement("img",Object.assign({src:n(207)},e,{alt:"filipizen"}))},b=(n(529),function(){return r.a.createElement("div",{className:"Header"},r.a.createElement(l.b,{to:"/partners"},r.a.createElement(h,null)))}),g=function(e){var t=e.children,n=Object(f.a)(e,["children"]),a=void 0===n.showHeader||n.showHeader;return r.a.createElement(v,{logo:h},a&&r.a.createElement(b,null),t,r.a.createElement(u,null))},E=(n(534),p.G.lookup("CloudPartnerService","partner")),y=Object(p.T)(),x=function(e){var t=e.partners,n=t[0].group;return r.a.createElement("div",null,r.a.createElement(p.K,null,n.title),r.a.createElement(p.w,{items:t},(function(e){var t=e.item;return"0"!==t.isonline?r.a.createElement("div",{key:t.id,style:{paddingBottom:2}},r.a.createElement(p.v,{component:l.b,to:{pathname:"/partner/".concat(n.objid,"_").concat(t.name,"/services"),state:{partner:t}},caption:"".concat(t.title," (").concat(t.id,")")})):r.a.createElement(p.t,{key:t.id,style:{color:"#a9a7a7",paddingTop:0}},"".concat(t.title," (").concat(t.id,")"))})))},O=function(e){var t=e.partners,n=Object(p.V)(t,"clusterid");return r.a.createElement("div",{className:"PartnerList_group"},Object.keys(n).map((function(e){return/test/i.test(e)?null:r.a.createElement(x,{key:e,partners:n[e]})})))},C=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)([]),c=Object(d.a)(l,2),u=c[0],s=c[1],f=function(e,t){var n=u.findIndex((function(t){return t.id===e}));if(n>=0){var a=u[n];if(a.isonline!==t){a.isonline=t;var r=Object(m.a)(u);r[n]=a,s(r)}}};return y.register("activate",(function(e){console.log("ACTIVE: ",e),f(e,"1")})),y.register("deactivate",(function(e){console.log("DEACTIVE: ",e),f(e,"0")})),r.a.useEffect((function(){o(!0),E.invoke("getActivePartners",null,(function(e,t){e?console.log("Error loading partners ",e):s(t),o(!1)}))}),[]),r.a.createElement(g,null,r.a.createElement("div",{className:"PartnerList"},i&&r.a.createElement(p.u,null),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.H,{height:20}),r.a.createElement(p.P,null,"Select a Partner Agency"),r.a.createElement(O,{partners:u}))))},S={container:{padding:"4px 50px"},title:{color:"#ddd",paddingLeft:5}},j=function(e){var t=e.partner,n=e.Logo;return r.a.createElement(p.b,null,r.a.createElement(p.C,{style:S.container},r.a.createElement(l.b,{to:{pathname:"/partner/".concat(t.name,"/services"),state:{partner:t}}},r.a.createElement(p.C,{row:!0},r.a.createElement("div",null,n)))))},k=function(e){var t,n=e.children,a=Object(f.a)(e,["children"]);return r.a.createElement(g,{logo:h},r.a.createElement(j,Object.assign({Logo:(t=a.partner,r.a.createElement(p.q,{style:{height:"40px"},src:"/assets/".concat(t.name,".png"),height:"30px"}))},a)),n)},w=n(102),P=[{name:"bpls",module:"filipizen-bpls",title:"Business",services:[{module:"bpls",name:"businessbilling",title:"Business Online Billing",component:"BplsBillingWebController"},{module:"bpls",name:"renewbusiness",title:"Renew Business Application",component:"RenewBusinessWebController"}]},{name:"rptis",module:"filipizen-rptis",title:"Real Property",services:[{module:"rptis",name:"rptbilling",title:"Realty Tax Online Billing",component:"RptBillingWebController"},{module:"rptis",name:"rpttaxclearance",title:"Online Realty Tax Clearance",component:"RealtyTaxClearanceWebController"}]},{name:"waterworks",module:"filipizen-waterworks",title:"Waterworks",services:[{module:"waterworks",name:"waterworksbilling",title:"Waterworks Billing",component:"WaterworksBillingWebController"}]},{name:"obo",module:"filipizen-obo",title:"Building and Construction",services:[{module:"obo",name:"bldgpermit",title:"Building Permit Application",component:"BuildingPermitWebController"},{module:"obo",name:"occupancypermit",title:"Occupancy Permit Application",component:"OccupancyPermitWebController"},{module:"obo",name:"registerprofessionals",title:"Register Professional",component:"ProfessionalWebController"},{module:"obo",name:"apptracking",title:"Application Tracking",component:"AppTrackingWebController"},{module:"obo",name:"obobilling",title:"Building Online Billing",component:"OboBillingWebController"}]}],W=function(e){var t=e.includeservices;if(!t)return[];var n=new RegExp("(".concat(t,")"),"i"),a=e.excludeservices?new RegExp("(".concat(e.excludeservices,")"),"i"):null,r=[].concat(P);return r.forEach((function(e){var t=e.services.filter((function(e){return n.test(e.name)&&(!a||!a.test(e.name))}));e.services=t})),r.filter((function(e){return e.services.length>0}))},T={},N=function(e){var t=e.modules,n=e.onSelect;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(p.C,{key:e.name},r.a.createElement(p.K,null,e.title),r.a.createElement(p.w,{items:e.services,style:A.list},(function(t){var a=t.item;return r.a.createElement(p.v,{key:a.name,component:"button",onClick:function(){return n(e,a)}},a.title)})))})))},A={list:{display:"flex",flexDirection:"column",alignItems:"flex-start"},maintenanceContainer:{display:"flex",marginTop:20},maintenanceInfo:{},maintenanceImage:{width:350},maintenanceTitle:{fontSize:"3rem",fontWeight:800}},R=function(e){var t=e.location,n=e.history,i=Object(a.useState)(),o=Object(d.a)(i,2),l=o[0],c=o[1],u=Object(a.useState)([]),s=Object(d.a)(u,2),m=s[0],f=s[1];Object(a.useEffect)((function(){var e=t.state?t.state.partner:null;e?(c(e),f(W(e))):function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/services");(!a||a.length<3)&&n("Invalid path");var r=a[1],i=a[2];p.G.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){e?n("Partner ".concat(i," does not exist. ").concat(e)):"0"!==a.isonline?t(a):n("Partner is offline.")}))}))}(t).then((function(e){c(e),f(W(e))})).catch((function(e){return n.push("/partners")}))}),[t,n]);return l?r.a.createElement(k,{partner:l,location:t,history:n},r.a.createElement(p.B,null,r.a.createElement(p.H,{height:20}),m.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.P,null,"Select Transaction"),r.a.createElement(p.H,{height:20}),r.a.createElement(N,{modules:m,onSelect:function(e,t){n.push({pathname:"/partner/".concat(l.group.name,"_").concat(l.name,"/").concat(e.name,"/").concat(t.name),state:{partner:l,module:e,service:t}})}})),0===m.length&&r.a.createElement("div",{style:A.maintenanceContainer},r.a.createElement("div",{style:A.maintenanceInfo},r.a.createElement("label",{style:A.maintenanceTitle},"Website under maintenance"),r.a.createElement("p",null,"This website is currently undergoing a scheduled maintenance. Will return shortly. Our apologies for the inconvenience.")),r.a.createElement("img",{style:A.maintenanceImage,src:"/assets/filipizen.png",alt:"Under Maintenance"})))):r.a.createElement(g,null)},I=function(e){return function(e){var t=T[e.module];return"undefined"===typeof t&&("bpls"===e.module?t=w.a.lib((function(){return n.e(5).then(n.bind(null,1095))})):"rptis"===e.module?t=w.a.lib((function(){return n.e(7).then(n.bind(null,1096))})):"waterworks"===e.module?t=w.a.lib((function(){return n.e(6).then(n.bind(null,1097))})):"obo"===e.module&&(t=w.a.lib((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,1098))}))),T[e.module]=t),t}(e)},B=function(e){var t=Object(c.g)(),n=Object(c.f)(),i=function(e){return e&&e.state?e.state:{}}(t),o=i.partner,l=i.service,u=Object(f.a)(i,["partner","service"]),s=Object(a.useState)(o),m=Object(d.a)(s,2),v=m[0],h=m[1],b=Object(a.useState)(l),g=Object(d.a)(b,2),E=g[0],y=g[1];if(Object(a.useEffect)((function(){o||function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/(.*)/(.*)");(!a||a.length<5)&&n("Invalid path");var r=a[1],i=a[2],o=a[3],l=a[4];p.G.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){if(e)n("Partner ".concat(i," does not exist. ").concat(e));else if("0"!==a.isonline){var r,c=W(a).find((function(e){return e.name===o})),u=c?c.services.find((function(e){return e.name===l})):null;if(!c||!u)return r="/partner/".concat(a.group.name,"_").concat(a.name,"/services"),void t({redirectUrl:r});t({partner:a,module:c,service:u})}else n("Partner is offline.")}))}))}(t).then((function(e){e.redirectUrl?n.replace(e.redirectUrl):(h(e.partner),y(e.service))})).catch((function(e){return n.replace("/partners")}))}),[n,o,t]),!v||!E)return null;var x=I(E);return r.a.createElement(k,{partner:v},r.a.createElement(x,Object.assign({},e,{partner:v,service:E},u),(function(t){var n=t[E.component];return r.a.createElement(n,Object.assign({},e,{partner:v,service:E},u))})))},z=n(106),H={actions:{display:"flex",flexDirection:"row",justifyContent:"center"},code:{fontSize:120,color:"#686868"},label:{fontSize:36,fontWeight:"bold",color:"#3f51b5",textAlign:"center"}},_=[{name:"home",exact:!0,path:"/",component:s},{name:"partners",path:"/partners",component:C},{name:"services",path:"/partner/:partnerId/services",component:R},{name:"service",path:"/partner/:partnerId/:module/:service",component:B},{name:"success",path:"/payment/success",component:function(e){var t=e.location.location,n=Object(a.useState)({}),i=Object(d.a)(n,2),o=i[0],l=i[1];Object(a.useEffect)((function(){t&&function(){var e=Object(p.U)(t,"orgcode");p.G.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){l(e?{}:t)}))}()}),[t]);return r.a.createElement(k,{partner:o},r.a.createElement(p.j,{center:!0},r.a.createElement(z.d,Object.assign({onClose:function(){o&&o.name?e.history.replace({pathname:"/partner/".concat(o.name,"/services"),state:{partner:o}}):e.history.replace({pathname:"/partners",state:{partner:o}})}},e,{partner:o}))))}},{name:"error",path:"/payment/error",component:function(e){var t=e.location,n=e.history,i=Object(a.useState)({}),o=Object(d.a)(i,2),l=o[0],c=o[1];Object(a.useEffect)((function(){t&&function(){var e=Object(p.U)(t,"orgcode");p.G.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){c(e?{}:t)}))}()}),[t]);return r.a.createElement(k,{partner:l},r.a.createElement(p.C,null,r.a.createElement(z.c,Object.assign({onClose:function(){l&&l.name?n.replace({pathname:"/partner/".concat(l.name,"/services"),state:{partner:l}}):n.replace({pathname:"/partners",state:{partner:l}})}},e,{partner:l}))))}},{name:"404",path:"*",component:function(e){return r.a.createElement(g,{showHeader:!1},r.a.createElement(p.B,null,r.a.createElement(p.H,{height:60}),r.a.createElement(h,{width:200}),r.a.createElement(p.H,{height:30}),r.a.createElement(p.j,{center:!0},r.a.createElement(p.t,{labelStyle:H.code},"404"),r.a.createElement("label",{style:H.label},"Sorry, the page you tried to access cannot be found."),r.a.createElement(p.H,{height:40}),r.a.createElement(p.C,{style:H.actions},r.a.createElement(p.e,{style:{paddingLeft:50,paddingRight:50},caption:"Start Here",size:"large",onClick:function(){e.history.push("/partners")}})))))}},{name:"systools",exact:!0,path:"/admin/systool",component:s}];n(535);var F=function(){return r.a.createElement(l.a,null,r.a.createElement(c.c,null,_.map((function(e){return r.a.createElement(c.a,Object.assign({key:e.name},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[324,1,2]]]);
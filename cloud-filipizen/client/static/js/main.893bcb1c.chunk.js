(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return c}));var a=n(0),r=n.n(a),i=n(2);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}var c=function(e){var t=Object(a.useState)(e)[0],n=Object(a.useState)([]),r=n[0],o=n[1];return Object(a.useEffect)((function(){t&&i.O.lookup("CloudPartnerService","partner").invoke("getBarangayList",{orgcode:t},(function(e,t){if(e)throw e;o(t)}))}),[t]),r},u=function(e){var t=e.orgcode,n=e.name,a=e.caption,u=e.barangays,s=l(e,["orgcode","name","caption","barangays"]),d=u||c(t);return r.a.createElement(i.j,o({name:n,caption:a},s,{items:d,expr:function(e){return e.name},renderValue:function(e){return e.name}}))},s=function(e){var t=e.orgcode,n=e.name,a=e.editable,o=void 0===a||a,c=e.visibleWhen,s=void 0===c||c;return l(e,["orgcode","name","editable","visibleWhen"]),s?r.a.createElement(i.J,null,r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:n+".unitno",caption:"Unit No",editable:o}),r.a.createElement(i.W,{name:n+".bldgno",caption:"Building No",editable:o}),r.a.createElement(i.W,{name:n+".bldgname",caption:"Building Name",editable:o})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:n+".street",caption:"Street",editable:o}),r.a.createElement(i.W,{name:n+".subdivision",caption:"Subdivision",editable:o})),r.a.createElement(i.J,{row:!0},o?r.a.createElement(u,{orgcode:t,name:n+".barangay",caption:"Barangay"}):r.a.createElement(i.W,{name:n+".barangay.name",caption:"Barangay",editable:o}))):null},d=function(e){var t=e.name,n=e.editable,a=void 0===n||n,o=e.visibleWhen,c=void 0===o||o;return l(e,["name","editable","visibleWhen"]),c?r.a.createElement(i.J,null,r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".unitno",caption:"Unit No",editable:a}),r.a.createElement(i.W,{name:t+".bldgno",caption:"Building No",editable:a}),r.a.createElement(i.W,{name:t+".bldgname",caption:"Building Name",editable:a})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".street",caption:"Street",editable:a}),r.a.createElement(i.W,{name:t+".subdivision",caption:"Subdivision",editable:a})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".barangay.name",caption:"Barangay",editable:a}),r.a.createElement(i.W,{name:t+".citymunicipality",caption:"City/Municipality",editable:a}),r.a.createElement(i.W,{name:t+".province",caption:"Province",editable:a}))):null},m=function(e){var t=e.person,n=e.orgcode,a=e.name,o=e.editable,c=void 0===o||o,u=e.visibleWhen,m=void 0===u||u;if(l(e,["person","orgcode","name","editable","visibleWhen"]),!m)return null;var p,f="boolean"==typeof(p=t.resident)?p:"number"!=typeof p||1===p;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.i,{caption:"Resident?",name:a+".resident",editable:c}),f?r.a.createElement(s,{orgcode:n,name:a+".address",caption:"Address",editable:c}):r.a.createElement(d,{name:a+".address",caption:"Address",editable:c}))},p=[{name:"ctc",title:"Community Tax Certficate",caption:"CTC No"},{name:"drivers",title:"Drivers License",caption:"License No"},{name:"sss",title:"SSS",caption:"SSS No"},{name:"gsis",title:"GSIS",caption:"GSIS No"},{name:"umid",title:"UMID",caption:"UMID No"},{name:"passport",title:"PASSPORT",caption:"Passport No."},{name:"tin",title:"TIN",caption:"TIN"}],f=function(e){var t,n,l=e.name,c=e.dtIssued,u=e.visibleWhen,s=e.showIdTypes,d=void 0===s||s,m=e.disableIdNo,f=void 0!==m&&m,v=e.caption,h=e.onError,b=void 0===h?function(){}:h;if(void 0!==u&&!u)return null;var E=Object(a.useState)(p)[0],g=Object(a.useState)({}),y=g[0],O=g[1],x=Object(a.useState)(c),S=x[0],C=x[1];return Object(a.useEffect)((function(){C(c)}),[c]),r.a.createElement(i.J,null,v&&r.a.createElement(i.T,null,v),d&&r.a.createElement(i.j,{name:l+".type",items:E,caption:"ID Type",expr:function(e){return e.title},renderValue:function(e){return e.title},required:!0}),r.a.createElement(i.W,{name:l+".idno",required:!0,caption:"ID No.",readOnly:f}),r.a.createElement(i.W,{name:l+".placeissued",required:!0,caption:"Place Issued"}),r.a.createElement(i.l,((t={name:l+".dtissued",required:!0,caption:"Date Issued",helperText:"mm/dd/yyyy",onBlur:function(e){O({}),C(null);var t=e.target.value;t&&(Object(i.hb)(t)?(O(o({},y,{dtissued:"Date issued should be on or before this day"})),b(!0,"id.dtissued")):(C(t),b(!1)))},error:y.dtissued}).helperText=y.dtissued,t.disableFuture=!0,t)),r.a.createElement(i.l,((n={name:l+".dtvalid",caption:"Validity Date",helperText:"mm/dd/yyyy",onBlur:function(e){var t=e.target.value;t&&(Object(i.ib)(t,S)?(O(o({},y,{dtvalid:"Date should be after date issued"})),b(!0)):(O(o({},y,{dtvalid:null})),b(!1)))},error:y.dtvalid}).helperText=y.dtvalid,n.disabled=!S,n.disablePast=!0,n)))},v=function(e){return r.a.createElement(i.J,{row:!0},r.a.createElement(i.M,o({caption:"Gender"},e),r.a.createElement(i.x,{caption:"Male",value:"M"}),r.a.createElement(i.x,{caption:"Female",value:"F"})))},h=function(e){var t=e.name,n=e.showTitle,a=e.person,o=e.editable,l=e.orgcode,c=e.title,u=e.showIdEntry,s=void 0!==u&&u,d=e.showAddress,p=void 0!==d&&d,h=e.showExtended,b=void 0!==h&&h;return r.a.createElement(r.a.Fragment,null,void 0!==n&&n&&r.a.createElement(i.T,null,void 0===c?"Personal Information":c),r.a.createElement(i.J,null,r.a.createElement(i.W,{caption:"Last Name",name:t+".lastname",editable:o,required:!0}),r.a.createElement(i.W,{caption:"First Name",name:t+".firstname",editable:o,required:!0}),r.a.createElement(i.W,{caption:"Middle Name",name:t+".middlename",editable:o}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.l,{caption:"Birth Date",name:t+".birthdate",editable:o}),r.a.createElement(v,{name:t+".gender",editable:o}),r.a.createElement(i.W,{caption:"TIN",name:t+".tin",editable:o}),r.a.createElement(i.P,null)),p&&r.a.createElement(m,{person:a,orgcode:l,name:t,editable:o}),r.a.createElement(i.r,{name:t+".email"}),r.a.createElement(i.F,{name:t+".mobileno"}),r.a.createElement(i.K,{name:t+".phoneno"}),s&&r.a.createElement(f,{name:t+".id",editable:o})))},b=function(e){var t=e.partner,n=e.hiddenCode,o=e.email,l=e.onCancel,c=e.onVerified,u=e.onResendCode,s=void 0===u?function(){}:u,d=e.connection,m=void 0===d?"epayment":d,p=Object(a.useState)(),f=p[0],v=p[1],h=Object(a.useState)(),b=h[0],g=h[1],y=Object(a.useState)(!1),O=y[1];return r.a.createElement(i.J,null,r.a.createElement(i.H,{open:y[0],title:"Email Verification",msg:"Resend verification code?",onAccept:function(){g(null),function(){try{var e=i.O.lookupAsync(t.id+":VerifyEmailService",m);return Promise.resolve(e.invoke("verifyEmail",{email:o}))}catch(e){return Promise.reject(e)}}().then((function(e){s(e.key),O(!1)})).catch((function(e){g(e),O(!1)}))},onCancel:function(){return O(!1)}}),r.a.createElement(i.J,null,r.a.createElement(i.J,{style:E.container},r.a.createElement(i.W,{label:"Key",placeholder:"Enter code sent to your email",name:"keycode",value:f,onChange:v,maxLength:6,fullWidth:!1,variant:"outlined",error:b,helperText:b}),r.a.createElement(i.e,{label:"Resend Code",action:function(){return O(!0)},variant:"text"})),r.a.createElement(i.a,null,r.a.createElement(i.c,{caption:"Cancel",action:l}),r.a.createElement(i.e,{caption:"Verify",action:function(){g(null),n!==f?g("Invalid code"):c()}}))))},E={container:{}},g=function(e){var t=e.partner,n=e.onCancel,o=e.onSubmit,l=Object(a.useState)(!1),c=l[0],u=l[1];return r.a.createElement(i.J,null,r.a.createElement(i.S,null,"New Building Permit Application"),r.a.createElement(i.P,{height:30}),r.a.createElement(i.T,null,"Please read thoroughly before proceeding"),r.a.createElement("p",{style:{opacity:.8}},"This online service will require personal information from the applicant, lot owner(s) and professionals involved in this transaction. In compliance with the Data Privacy Act, we are securing your consent that you have been authorized by the aforementioned parties to act on their behalf. The data collected will be stored, processed and used for effectively carrying out legitimate transactions with the local government of ",t.title,". If you do not agree to these terms, you can cancel out by click on the Cancel button. If you agree to these terms, tick on the checkbox and click Continue."),r.a.createElement(i.i,{caption:"Yes, I have read and agree to the terms and conditions",value:c,name:"agreeDisclaimer",onChange:u}),r.a.createElement(i.a,null,r.a.createElement(i.c,{caption:"Cancel",action:n}),r.a.createElement(i.e,{caption:"Continue",action:o,disableWhen:!c})))},y=function(e){var t,n,l=e.name,c=e.dtIssued,u=e.editable,s=e.readOnly,d=e.visibleWhen,m=e.disableIdNo,p=e.editValidity,f=e.onError,v=void 0===f?function(){}:f,h=e.caption,b=void 0===h?"Professional Regulation Commission [PRC]":h;if(void 0!==d&&!d)return null;var E=void 0!==s&&s||!(void 0===u||u),g=E||void 0!==m&&m,y=!(void 0!==p&&p)&&E,O=Object(a.useState)({}),x=O[0],S=O[1],C=Object(a.useState)(c),j=C[0],k=C[1];return Object(a.useEffect)((function(){k(c)}),[c]),r.a.createElement(i.J,null,b&&r.a.createElement(i.T,null,b),r.a.createElement(i.E,{name:l+".idno",required:!0,caption:"ID No.",readOnly:g,autoFocus:!0}),r.a.createElement(i.W,{name:l+".placeissued",required:!0,caption:"Place Issued",readOnly:E}),r.a.createElement(i.l,((t={name:l+".dtissued",required:!0,caption:"Date Issued",defaultValue:null,readOnly:E,helperText:"mm/dd/yyyy",onBlur:function(e){S({}),k(null);var t=e.target.value;t&&(Object(i.hb)(t)?(S(o({},x,{dtissued:"Date issued should be on or before this day"})),v(!0,"prc.dtissued")):(k(t),v(!1)))},error:x.dtissued}).helperText=x.dtissued,t.disableFuture=!0,t)),r.a.createElement(i.l,((n={name:l+".dtvalid",required:!0,caption:"Validity Date",defaultValue:null,readOnly:y,helperText:"mm/dd/yyyy",onBlur:function(e){var t=e.target.value;t&&(Object(i.ib)(t,j)?(S(o({},x,{dtvalid:"Date should be after date issued"})),v(!0)):(S(o({},x,{dtvalid:null})),v(!1)))},error:x.dtvalid}).helperText=x.dtvalid,n.disabled=!j,n.disablePast=!0,n)))},O=function(e){var t,n=e.name,l=e.editable,c=e.readOnly,u=e.visibleWhen,s=e.disableRefNo,d=e.onError,m=void 0===d?function(){}:d,p=e.caption,f=void 0===p?"Professional Tax Receipt [PTR]":p;if(void 0!==u&&!u)return null;var v=void 0!==c&&c||!(void 0===l||l),h=v||void 0!==s&&s,b=Object(a.useState)({}),E=b[0],g=b[1];return r.a.createElement(i.J,null,f&&r.a.createElement(i.T,null,f),r.a.createElement(i.W,{name:n+".refno",required:!0,caption:"Receipt No.",readOnly:h}),r.a.createElement(i.W,{name:n+".placeissued",required:!0,caption:"Place Issued",readOnly:v}),r.a.createElement(i.l,((t={name:n+".dtissued",required:!0,caption:"Date Issued",defaultValue:null,readOnly:v,helperText:"mm/dd/yyyy",onBlur:function(e){g({});var t=e.target.value;t&&(Object(i.hb)(t)?(g(o({},E,{dtissued:"Date issued should be on or before this day"})),m(!0)):m(!1))},error:E.dtissued}).helperText=E.dtissued,t.disableFuture=!0,t)))},x=function(e){var t=e.partner,n=e.onVerify,o=e.onCancel,l=e.connection,c=void 0===l?"epayment":l,u=e.visibleWhen,s=e.history,d=e.showName,m=void 0!==d&&d,p=e.module,f=e.title,v=e.subtitle,h=void 0===v?"Email Verification":v,b=e.emailRequired,E=e.contact;if(void 0!==u&&!u)return null;var g=Object(a.useState)(),y=g[0],O=g[1],x=Object(a.useState)(E),S=x[0],C=x[1],j=Object(a.useState)({})[0],k=Object(a.useState)(),w=k[0],P=k[1],W=Object(a.useState)(),N=W[0],T=W[1],I=Object(a.useState)(!1),R=I[0],B=I[1],A=Object(a.useState)(!1),F=A[0],z=A[1],q=function(){try{var e=i.O.lookupAsync(t.id+":VerifyEmailService",c);return Promise.resolve(e.invoke("verifyEmail",{email:S.email,mobileno:S.mobileno}))}catch(e){return Promise.reject(e)}},D=Object(a.useRef)(),J=p&&p.title||f||null;return r.a.createElement(i.f,null,J&&r.a.createElement(i.X,null,J),r.a.createElement(i.S,null,h),r.a.createElement(i.P,null),r.a.createElement(i.s,{msg:N}),r.a.createElement(i.t,{visibleWhen:!y,context:S,handler:C},r.a.createElement("form",{ref:D},!0===m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.W,{label:"Full Name",name:"name",autoFocus:!0,required:!0}),r.a.createElement(i.W,{label:"Address",name:"address",required:!0})),r.a.createElement(i.r,{name:"email",required:b,error:j.email,helperText:j.email,autoFocus:!m}),r.a.createElement(i.F,{name:"mobileno"}),r.a.createElement(i.a,{disabled:R},r.a.createElement(i.c,{action:function(){"function"==typeof o&&o(),s&&s.goBack()}}),r.a.createElement(i.e,{label:"Submit",action:function(){D.current.reportValidity()&&(S.email||S.mobileno?(T(null),B(!0),q().then((function(e){O(e.key),B(!1)})).catch((function(e){T(e),B(!1)}))):T("Please specify email or Mobile No."))},loading:R})))),r.a.createElement(i.H,{open:F,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){T(null),q().then((function(e){O(e.key),z(!1)})).catch((function(e){T(e),z(!1)}))},onCancel:function(){return z(!1)}}),r.a.createElement(i.J,{visibleWhen:!!y},r.a.createElement(i.W,{label:"Email Code",placeholder:"Enter code sent to your email",name:"keycode",value:w,onChange:P,maxLength:6,autoFocus:!0}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(i.e,{label:"Resend Code",action:function(){return z(!0)},variant:"text"})),r.a.createElement(i.a,null,r.a.createElement(i.e,{label:"Verify",visibleWhen:y,action:function(){y!==w?T("Code is incorrect"):n(S)}}))))},S=function(e){var t,n=e.partner,o=e.moveNextStep,l=e.movePrevStep,c=e.title,u=e.subtitle,s=void 0===u?"Email Verification":u,d=e.visibleWhen,m=e.emailRequired,p=void 0!==m&&m,f=e.showName,v=void 0!==f&&f,h=e.contact,b=void 0===h?{}:h;if(void 0!==d&&!d)return null;var E=Object(i.jb)()[1];return Object(a.useState)(!1),Object(a.useState)(!1),r.a.createElement(x,((t={emailRequired:!1,partner:n,title:c,subtitle:s,onVerify:function(e){E({type:"SET_CONTACT",contact:e}),o(e)},onCancel:l}).emailRequired=p,t.contact=b,t.showName=v,t))},C=function(e){var t=e.onCancel,n=e.onSubmit,l=e.bill,c=e.loading,u=e.error,s=Object(a.useState)({}),d=s[0],m=s[1],p=Object(a.useState)({}),f=p[0],v=p[1],h=Object(a.useState)(!1),b=h[0],E=h[1];return Object(a.useEffect)((function(){E(null!=u)}),[u]),r.a.createElement(i.f,null,r.a.createElement(i.J,{style:{maxWidth:400}},r.a.createElement(i.k,{center:!0},r.a.createElement(i.X,null,"Confirm Transaction"),r.a.createElement(i.P,null),r.a.createElement(i.y,{style:o({},j.text)},"Please confirm and fill up name and address of the payer for your electronic official receipt and click Continue to proceed for payment."),r.a.createElement(i.P,null)),r.a.createElement(i.t,{context:d,handler:m},r.a.createElement(i.W,{name:"paidby",caption:"Paid By Name",required:!0,error:f.paidby,helperText:f.paidby,autoFocus:!0}),r.a.createElement(i.W,{name:"paidbyaddress",caption:"Paid By Address",required:!0,error:f.paidbyaddress,helperText:f.paidbyaddress})),r.a.createElement(i.P,null),r.a.createElement(i.J,{style:j.infoContainer},r.a.createElement("div",{style:o({},j.infoContainer,{alignItems:"center"})},r.a.createElement("label",null,"Payment Details"),r.a.createElement("h4",null,l.paymentdetails)),r.a.createElement("div",{style:j.amountContainer},r.a.createElement("label",{style:j.amount},"Php ",Object(i.Z)(l.amount)))),r.a.createElement(i.P,null),r.a.createElement(i.H,{open:b,title:"Error",onAccept:function(){return E(!1)},msg:"An error was encountered when processing your order. Please try again later or contact LGU for assistance."}),r.a.createElement(i.a,null,r.a.createElement(i.e,{variant:"text",caption:"Back",action:t}),r.a.createElement(i.e,{caption:"Continue",action:function(){var e={};d.paidby||(e.paidby="Required"),d.paidbyaddress||(e.paidbyaddress="Required"),v(e),0===Object.keys(e).length&&n(d)},disableWhen:c,loading:c}))))},j={text:{display:"block",textAlign:"center"},infoContainer:{display:"flex",flexDirection:"column"},amountContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #aaa"},amount:{fontSize:24,fontWeight:800,padding:10}},k=function(e){var t=e.po,n=e.error,o=e.payOptions,l=e.partner,c=Object(a.useState)(!1)[0],u=Object(a.useState)(!1),s=u[0],d=u[1],m=Object(a.useState)(),p=m[0],f=m[1],v=Object(a.useState)(!1),h=v[0],b=v[1],E=Object(a.useState)(!1),g=E[0],y=E[1],O=Object(a.useState)(!1),x=O[0],S=O[1],C=Object(a.useState)({}),j=C[0],k=C[1],P=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=document.getElementById("postform");e&&j.formaction&&e.submit()}),[j]);var W=[];return j.params&&Object.keys(j.params).forEach((function(e){W.push([e,j.params[e]])})),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.H,{title:"Acknowledgement",msg:"Kindly acknowledge and confirm with the Terms and Conditions before proceeding.",open:x,onAccept:function(){return S(!1)}}),r.a.createElement(i.H,{title:"Payment Processing Error",msg:"An error occurred while processing your request. Correct the problem and resubmit your request or kindly contact the LGU for assistance",open:h,onAccept:function(){return b(!1)}},r.a.createElement("ul",null,r.a.createElement("li",null,p))),r.a.createElement(i.G,{open:s,showActions:!1},r.a.createElement(i.J,{center:!0},r.a.createElement(i.P,null),r.a.createElement("label",{style:{fontSize:20,fontWeight:800}},"Contacting Partner"),r.a.createElement("label",{style:{fontSize:14,opacity:.75}},"Kindly wait while we send your payment request to our partner."),r.a.createElement(i.C,{showMessage:!1}),r.a.createElement(i.P,null))),r.a.createElement(i.P,null),r.a.createElement(i.J,{center:!0},r.a.createElement(i.J,{style:w.poContainer},r.a.createElement(i.J,{center:!0},r.a.createElement(i.X,{color:"green"},"Your Order")),r.a.createElement(i.P,null),r.a.createElement(i.J,null,r.a.createElement(i.y,{context:l,caption:"Agency",expr:"title"}),r.a.createElement(i.y,{context:t,caption:"Reference No.",expr:"objid"}),r.a.createElement(i.y,{context:t,caption:"Transaction Type",expr:"txntypename"}),r.a.createElement(i.y,{context:t,caption:"Particulars",expr:"particulars"}),r.a.createElement(i.y,{context:t,caption:"Paid By",expr:"paidby"}),r.a.createElement(i.P,{height:10}),r.a.createElement(i.y,{caption:"Amount"},t&&Object(i.Z)(t.amount)),r.a.createElement(i.y,{caption:"Web Service Fee"},t&&Object(i.Z)(t.webfee)),r.a.createElement(i.y,{caption:"Total"},t&&Object(i.Z)(t.total))),r.a.createElement(i.u,{row:!0,style:{marginTop:10}},r.a.createElement(i.y,{style:{color:"blue",paddingRight:5}},"Note:"),r.a.createElement(i.y,{style:{color:"red"}},t&&"Pay on or before "+t.expirydate)),r.a.createElement(i.i,{checked:g,onChange:y,style:{marginRight:5},caption:r.a.createElement("span",{style:{fontSize:14,paddingTop:8}},"I acknowledge and agree to the Terms and Conditions of this e-payment facility.")}),r.a.createElement(i.P,{height:10})),!c&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.s,{msg:n}),r.a.createElement(i.P,null),r.a.createElement(i.y,null,"Click to choose Type of Payment:"),r.a.createElement(i.u,{row:!0},o&&o.map((function(e){return r.a.createElement("button",{type:"submit",style:w.payButton,onClick:function(){return n=e,void(g?(f(null),d(!0),i.O.lookup("CloudPaymentService","epayment").invoke("getPayPartner",{objid:t.objid,payoption:n.objid},(function(e,t){e?("string"==typeof e?/syntax/gi.test(e)?f("Could not contact payment partner. Please try again."):f(e):f(e.errormsg),d(!1),b(!0)):k(t)}))):S(!0));var n}},r.a.createElement("input",{type:"hidden",name:"refno",value:t.objid}),r.a.createElement("input",{type:"hidden",name:"payoption",value:e.objid}),r.a.createElement(i.v,{src:"/assets/"+e.paypartnerid.toLowerCase()+".png",width:"150",style:{cursor:"pointer"}}))}))))),!0===j.isredirect?r.a.createElement("form",{id:"postform",method:"GET",action:j.formaction,ref:P},r.a.createElement("input",{type:"hidden",name:"id",value:j.id})):r.a.createElement("form",{id:"postform",method:"POST",action:j.formaction,ref:P},r.a.createElement(r.a.Fragment,null,W.map((function(e){return r.a.createElement("input",{key:e[0],type:"hidden",name:e[0],value:e[1]})})),r.a.createElement("input",{type:"hidden",name:"orgcode",value:"${po.orgcode}"}))))},w={poContainer:{display:"flex",flexDirection:"column",border:"1px solid #aaa",borderRadius:5,padding:15,maxWidth:450},payButton:{border:"none",background:"none"}},P=function(e){var t=e.module,n=e.partner,l=e.contact,c=e.initialStep,u=void 0===c?0:c,s=e.cancelPayment,d=function(){j((function(e){return e+1!==p.length?e+1:e}))},m=function(){j((function(e){return e-1>=0?e-1:e}))},p=[{name:"verifyemail",title:"Email Verification",component:x,actions:{onCancel:function(){e.history.goBack()},onVerify:function(e){setContact(e),d()}}},{name:"billing",title:t.title,component:t.component,actions:{onCancel:function(e){s?s():m()},onSubmit:function(e){I(e),j(p.findIndex(l.email?function(e){return"checkout"===e.name}:function(e){return"verification"===e.name}))}}},{name:"verification",caption:"Email Verification",component:S,actions:{movePrevStep:function(){j(1)},moveNextStep:function(){j(p.findIndex((function(e){return"checkout"===e.name})))}}},{name:"checkout",title:"Checkout Order",component:C,actions:{onCancel:function(){j(1)},onSubmit:function(e){h(!0),g(null),console.log("contact",l),function(){try{var t=o({},T);t.paidby=e.paidby,t.paidbyaddress=e.paidbyaddress,t.email=l.email,t.mobileno=l.mobileno;var a=i.O.lookupAsync(n.id+":EPaymentService","epayment");return Promise.resolve(a.invoke("createPaymentOrder",t)).then((function(e){var t=i.O.lookupAsync("CloudPaymentService","epayment");return Promise.resolve(t.invoke("getPaymentOrder",{objid:e.objid})).then((function(a){return e=a,Promise.resolve(t.invoke("getPaymentPartnerOptions",{partnerid:e.orgcode})).then((function(t){return{po:e,payOptions:t,partner:n}}))}))}))}catch(e){return Promise.reject(e)}}().then((function(e){A(e.po),q(e.payOptions),d(),h(!1)})).catch((function(e){g(e.toString()),h(!1)}))}}},{name:"payment",title:"Online Payment",component:k,actions:{onCancel:m,onSubmit:function(){}}}],f=Object(a.useState)(!1),v=f[0],h=f[1],b=Object(a.useState)(),E=b[0],g=b[1],y=Object(a.useState)(u),O=y[0],j=y[1],w=Object(a.useState)(p[u]),P=w[0],W=w[1],N=Object(a.useState)(),T=N[0],I=N[1],R=Object(a.useState)(),B=R[0],A=R[1],F=Object(a.useState)(),z=F[0],q=F[1],D=Object(a.useState)(0)[0];return Object(a.useEffect)((function(){W(p[O])}),[O]),r.a.createElement(P.component,o({},e,{contact:l,bill:T,po:B,payOptions:z},P.actions,{error:E,module:t,loading:v,page:P,initialStep:D,emailRequired:!0}))},W=function(e){var t=Object(a.useState)({}),n=t[0],l=t[1],c=e.partner;Object(a.useEffect)((function(){var t={orgcode:Object(i.db)(e.location,"orgcode"),paymentrefid:Object(i.db)(e.location,"paymentrefid"),txnno:Object(i.db)(e.location,"txnno"),txndate:Object(i.db)(e.location,"txndate"),amount:Object(i.db)(e.location,"amount"),paypartnerid:Object(i.db)(e.location,"paypartnerid"),paidby:Object(i.db)(e.location,"paidby"),email:Object(i.db)(e.location,"email")};l(t)}),[]);var u=[];return c.phoneno&&u.push("For inquiries, contact us on "+c.phoneno),c.email&&u.push(u.length>1?"or email to "+c.email:"For inquiries, email us on "+c.email),0==u.length&&u.push("kindly contact the Treasurer's Office."),r.a.createElement(i.f,null,r.a.createElement(i.k,{center:!0},r.a.createElement(i.v,{src:"/assets/success.png",width:60,alt:"success"}),r.a.createElement(i.S,{style:{fontSize:24}},"Payment Successful"),r.a.createElement(i.t,{context:n,handler:l,style:N.paymentInfoContainer},r.a.createElement(i.W,{caption:"Transaction #",name:"txnno",readOnly:!0}),r.a.createElement(i.W,{caption:"Payment Date #",name:"txndate",readOnly:!0}),r.a.createElement(i.J,{style:N.amountContainer},r.a.createElement("label",{style:N.amount},"Amount"),r.a.createElement("label",{style:N.amount},"PHP ",Object(i.Z)(n.amount))),r.a.createElement(i.J,{center:!0},r.a.createElement("label",{style:{fontSize:10,marginTop:10}},"Payment Partner"),r.a.createElement(i.v,{src:"/assets/"+n.paypartnerid+".png",width:150}),r.a.createElement(i.v,null))),r.a.createElement(i.y,{style:o({},N.text,{maxWidth:300})},"Your e-receipt and tickets will be sent to your email at ",n.email),r.a.createElement(i.y,{labelStyle:N.text},"Thank you for using this service"),u.length>0&&r.a.createElement(i.y,{labelStyle:N.text},u.join(" ")),r.a.createElement(i.g,null,r.a.createElement(i.e,{caption:"Return",onClick:function(){c&&c.name?e.history.replace("/partner/"+c.name+"/services",{partner:c}):e.history.replace("/partners")}})),r.a.createElement(i.P,null)))},N={text:{display:"block",textAlign:"center",width:300},paymentInfoContainer:{display:"flex",flexDirection:"column",padding:15,border:"1px solid #aaa",borderRadius:5,width:"100%"},amountContainer:{display:"flex",justifyContent:"space-between",padding:10,borderBottom:"1px solid #aaa"},amount:{fontWeight:800}},T=function(e){var t=e.partner,n=e.history,o=e.location,l=Object(a.useState)(),c=l[0],u=l[1],s=Object(a.useState)(),d=s[0],m=s[1];Object(a.useEffect)((function(){m(Object(i.db)(o,"code")),u(Object(i.db)(o,"message"))}),[]);var p=[];return t.phoneno&&p.push("Contact us on "+t.phoneno),t.email&&p.push(p.length>0?"or email at "+t.email:"Email us at "+t.email),p.push(p.length>0?"for any assistance.":"For inquiries, please contact the Treasurer's Office."),r.a.createElement(i.J,{center:!0},r.a.createElement(i.J,{style:{width:400,padding:15}},r.a.createElement(i.f,null,r.a.createElement(i.k,{center:!0},r.a.createElement(i.v,{src:"/assets/error.png",width:75,alt:"success"}),r.a.createElement(i.P,null),r.a.createElement(i.X,null,"Processing Error"),r.a.createElement(i.P,null),r.a.createElement(i.y,{labelStyle:I.text},"Our partner was not able to process your payment."),r.a.createElement(i.y,{labelStyle:I.text},"Make sure to verify that your credentials are correct upon submitting your payment."),d&&r.a.createElement("h4",{style:{marginBottom:3}},"Error ",d),c&&r.a.createElement("div",null,c),r.a.createElement(i.P,null),p.length>0&&r.a.createElement(i.y,{labelStyle:I.text},p.join(" ")),r.a.createElement(i.P,null),r.a.createElement(i.e,{variant:"text",caption:"OK",onClick:function(){t&&t.name?n.replace("/partner/"+t.name+"/services",{partner:t}):n.replace("/partners")}})))))},I={text:{display:"block",textAlign:"center"}}},145:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te})),n.d(t,"b",(function(){return Re})),n.d(t,"c",(function(){return Fe})),n.d(t,"e",(function(){return Ae})),n.d(t,"f",(function(){return Je})),n.d(t,"g",(function(){return Ve})),n.d(t,"i",(function(){return Ue})),n.d(t,"j",(function(){return Ke})),n.d(t,"k",(function(){return Ye})),n.d(t,"l",(function(){return ut})),n.d(t,"m",(function(){return dt})),n.d(t,"n",(function(){return mt})),n.d(t,"o",(function(){return pt})),n.d(t,"p",(function(){return ft})),n.d(t,"r",(function(){return vt})),n.d(t,"s",(function(){return Et})),n.d(t,"t",(function(){return Ot})),n.d(t,"u",(function(){return St})),n.d(t,"v",(function(){return Ct})),n.d(t,"w",(function(){return wt})),n.d(t,"x",(function(){return Pt})),n.d(t,"y",(function(){return ht})),n.d(t,"z",(function(){return Wt})),n.d(t,"A",(function(){return Nt})),n.d(t,"B",(function(){return Tt})),n.d(t,"C",(function(){return It})),n.d(t,"D",(function(){return At})),n.d(t,"E",(function(){return qt})),n.d(t,"F",(function(){return _t})),n.d(t,"G",(function(){return Dt})),n.d(t,"H",(function(){return Lt})),n.d(t,"I",(function(){return Mt})),n.d(t,"J",(function(){return gt})),n.d(t,"K",(function(){return Gt})),n.d(t,"L",(function(){return Ht})),n.d(t,"M",(function(){return Xt})),n.d(t,"N",(function(){return $t})),n.d(t,"O",(function(){return bn})),n.d(t,"P",(function(){return Yt})),n.d(t,"Q",(function(){return On})),n.d(t,"R",(function(){return on})),n.d(t,"S",(function(){return en})),n.d(t,"T",(function(){return nn})),n.d(t,"U",(function(){return un})),n.d(t,"V",(function(){return sn})),n.d(t,"W",(function(){return dn})),n.d(t,"X",(function(){return pn})),n.d(t,"Y",(function(){return fn})),n.d(t,"Z",(function(){return Qe})),n.d(t,"ab",(function(){return at})),n.d(t,"bb",(function(){return tt})),n.d(t,"cb",(function(){return En})),n.d(t,"db",(function(){return et})),n.d(t,"eb",(function(){return $e})),n.d(t,"fb",(function(){return lt})),n.d(t,"gb",(function(){return nt})),n.d(t,"hb",(function(){return ot})),n.d(t,"ib",(function(){return it})),n.d(t,"jb",(function(){return Cn}));var a=n(0),r=n.n(a),i=n(187),o=n(142),l=n(183),c=n(536),u=n(301),s=n(537),d=n(539),m=n(84),p=n(303),f=n(543),v=n(20),h=n(300),b=(n(556),n(83)),E=n(143),g=n(190),y=n(58),O=n.n(y),x=n(80),S=n(85),C=n(304),j=n(64),k=n(302),w=n(188),P=n(16),W=n(554),N=n(296),T=n(41),I=n.n(T),R=n(286),B=n.n(R),A=n(139),F=n(42),z=n(292),q=n.n(z),D=n(124),J=n.n(D),V=n(123),_=n.n(V);n.d(t,"q",(function(){return _.a}));var L=n(542),M=n(63),H=n.n(M),U=n(541),G=n(95),K=n.n(G),X=n(192),Z=n(184),Y=n(185),Q=n(144),$=n(140),ee=n.n($),te=n(544),ne=n(540),ae=(n(293),n(294),n(189)),re=n(545),ie=n(178),oe=n.n(ie),le=n(557),ce=n(547),ue=n(191),se=n(546),de=(n(295),n(548),n(550)),me=n(552),pe=n(101),fe=n(549),ve=n(551),he=n(186),be=n(182),Ee=n(555),ge=n(290),ye=n.n(ge),Oe=n(141),xe=n.n(Oe),Se=n(291),Ce=n(282),je=n.n(Ce);n.d(t,"h",(function(){return je.a}));var ke=n(283),we=n.n(ke);function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function We(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}n.d(t,"d",(function(){return we.a}));var Ne=Object(v.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",marginTop:50,borderTop:"solid 1px lightgrey"},center:{flexDirection:"column"}}})),Te=function(e){var t=e.children,n=e.disabled,a=void 0!==n&&n,o=e.center,l=void 0!==o&&o,c=e.visibleWhen,u=void 0===c||c,s=We(e,["children","disabled","center","visibleWhen"]);if(!u)return null;var d=Ne(),m=""+d.container;return void 0!==l&&1==l&&(m=m+" "+d.center),r.a.createElement(i.a,Pe({pt:2},s,{className:m,disabled:!0}),a?r.a.Children.map(t,(function(e){return r.a.cloneElement(e,{disabled:!0})})):t)},Ie=Object(v.a)((function(e){return{root:{backgroundColor:"#2c3e50"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)},toolBar:{paddingLeft:"50px"}}})),Re=function(e){var t=Ie();return r.a.createElement(h.a,{variant:"outlined",position:"static",className:t.root,style:Pe({},e.style)},e.children)},Be=Object(v.a)((function(e){return{button:{textTransform:"none"}}})),Ae=function(e){var t=e.label,n=e.caption,a=e.action,i=e.loading,c=e.children,u=e.visibleWhen,s=void 0===u||u,d=e.disableWhen,m=void 0!==d&&d,p=We(e,["label","caption","action","loading","children","visibleWhen","disableWhen"]);if(!s)return null;var f=Be();return r.a.createElement(o.a,Pe({size:"small",variant:"contained",color:"primary",onClick:a,style:{margin:2},disabled:m,endIcon:i&&r.a.createElement(l.a,Pe({size:18,color:"secondary"},p)),className:f.button},p),t||n||c)},Fe=function(e){var t=e.label,n=e.caption,a=e.children,i=We(e,["label","caption","children"]);return r.a.createElement(Ae,Pe({size:"medium"},i,{variant:"text"}),t||n||a||"Back")},ze=Object(v.a)((function(e){return{button:{textTransform:"none"}}})),qe=function(e){var t=e.caption,n=e.href,a=e.children,i=e.visibleWhen,l=void 0===i||i,c=e.disableWhen,u=void 0!==c&&c,s=e.target,d=void 0===s?"_blank":s,m=e.Icon,p=We(e,["caption","href","children","visibleWhen","disableWhen","target","Icon"]);if(!l)return null;var f=ze();return r.a.createElement(o.a,Pe({size:"small",variant:"outlined",color:"primary",href:n,style:{margin:2},disabled:u,className:f.button,endIcon:m&&r.a.createElement(m,null),target:d},p),t||a)},De=Object(v.a)({root:{marginTop:10,paddingLeft:20,paddingRight:20},title:{padding:10}}),Je=function(e){var t=e.caption,n=e.children,a=De();return r.a.createElement(c.a,{className:a.root},t&&r.a.createElement(b.a,{variant:"h6",component:"h3",className:a.title},t),r.a.createElement(u.a,null,n))},Ve=function(e){return r.a.createElement(s.a,null,e.children)},_e=r.a.createContext(),Le=function(e,t,n,a){return n&&"function"==typeof n?n(e):n&&"string"==typeof n?O.a.get(e,""+n)||a:O.a.get(e,t)||a},Me=function(e,t){var n=t.id||t.name,a=t.expr;if(e){var r=t.onChange||e.handleChange;return{value:Le(e.context,n,a,""),onChange:r}}var i=t.context,o=t.onChange;return{value:i?Le(i,n,a):t.value||"",onChange:function(e,t){void 0===t&&(t=!1),o(t?e.target.checked:e.target.value)}}},He=function(){return r.a.useContext(_e)},Ue=function(e){var t=e.editable,n=void 0===t||t,a=e.readOnly,i=void 0!==a&&a,o=e.text,l=e.caption,c=We(e,["visibleWhen","editable","readOnly","text","caption"]),u=He(),s=Me(u,c),d=!1;return!i&&n||(d=!0),r.a.createElement(E.a,{control:r.a.createElement(g.a,Pe({checked:"string"!=typeof s.value&&s.value,disabled:d},c,s,{onChange:function(e){s.onChange(e,!0)}})),label:o||l})},Ge=Object(v.a)((function(e){return{formControl:{marginTop:3}}})),Ke=function(e){var t=e.editable,n=void 0===t||t,a=e.required,i=void 0!==a&&a,o=e.items,l=e.caption,c=e.expr,u=We(e,["editable","required","items","caption","expr"]),s=He(),d=Me(s,u),m=Ge();return r.a.createElement(j.a,{className:m.formControl,fullWidth:!0,disabled:!n},r.a.createElement(S.a,{required:i,id:"select-id"},l),r.a.createElement(w.a,Pe({labelId:"select-id",id:"select-id",required:i},u,d),o.map((function(e){var t="function"==typeof c?c(e):e.toString();return r.a.createElement(C.a,{key:t,value:e},t)}))),r.a.createElement(k.a,{style:{color:"red"}},u.helperText))},Xe=function(e){var t=e.visibleWhen,n=void 0===t||t,a=We(e,["visibleWhen"]);return n?r.a.createElement(l.a,a):null},Ze={root:{padding:0},center:{display:"flex",flexDirection:"column",alignItems:"center"}},Ye=function(e){var t,n,a=e.children,i=e.center,o=void 0!==i&&i,l=e.width,c=We(e,["children","center","width"]);return r.a.createElement(d.a,Pe({},c,{style:(t={center:o,width:l},n={},t.width&&(n.width=t.width),Pe({},Ze.root,t.center?Ze.center:{},n,t.style))}),a)};function Qe(e,t){return void 0===t&&(t=0),e?("string"==typeof e?Number(e):e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}var $e=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},et=function(e,t){return new URLSearchParams(e.search).get(t)},tt=function(e,t,n){if(void 0===n&&(n="d"),!e)return"";var a=I()(e||new Date);return I()(t||new Date).diff(a,n)},nt=function(e,t){for(var n=[],a=e;a<=t;a++)n.push(a);return n},at=function(){return(new Date).getFullYear()},rt=function(e,t,n){return void 0===n&&(n="0"),B()(e,t,n)},it=function(e,t){return I()(e).isBefore(t)},ot=function(e,t){return t?I()(e).isAfter(t):I()(I()(e)).isAfter()},lt=function(e){return Object.keys(e).length>0},ct=function(e){void 0===e&&(e=10);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},ut=function(e){var t=e.visibleWhen,n=void 0===t||t,i=e.caption,o=e.label,l=e.editable,c=void 0===l||l,u=e.readOnly,s=void 0!==u&&u,d=e.disabled,m=void 0!==d&&d,p=e.autoOk,f=void 0===p||p,v=e.helperText,h=void 0===v?"mm/dd/yyy":v,b=e.variant,E=void 0===b?"standard":b,g=e.size,y=void 0===g?"small":g,O=We(e,["visibleWhen","caption","label","editable","readOnly","disabled","autoOk","helperText","variant","size"]);if(!n)return null;var x=He(),S=Me(x,O),C=S.value,j=S.onChange,k=We(S,["value","onChange"]),w=Object(a.useState)(null),T=w[0],I=w[1];return Object(a.useEffect)((function(){var e;!T&&null!==C&&C.toString().length>0&&(e=C.indexOf(" ")>0?new Date(C.split(" ")[0]+"T00:00:00+08:00"):new Date(C+"T00:00:00+08:00"),I(e))}),[C]),r.a.createElement(P.a,{utils:N.a},r.a.createElement(W.a,Pe({disableToolbar:!0,format:"MM/dd/yyyy",variant:"inline",margin:"normal",inputVariant:E,size:y,label:i||o,helperText:h,fullWidth:!0,autoOk:f},O,k,{value:T,onChange:function(e){I(e);var t=null;if(e&&!/invalid/i.test(e.toString())){var n=e.toLocaleDateString().split("/");n[0]=rt(n[0],2),n[1]=rt(n[1],2),t=n[2]+"-"+n[0]+"-"+n[1]}j({target:{name:O.name,value:t}})},disabled:!c||s||m})))};function st(e){var t=e.inputRef,n=e.onChange,a=We(e,["inputRef","onChange"]);return r.a.createElement(A.a,Pe({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,decimalScale:2,fixedDecimalScale:!0,readOnly:!e.editable||e.readOnly},a))}var dt=function(e){var t=e.label,n=e.caption,a=e.editable,i=void 0===a||a,o=e.readOnly,l=void 0!==o&&o,c=e.textAlign,u=void 0===c?"right":c,s=We(e,["label","caption","editable","readOnly","textAlign"]),d=He(),p=Me(d,s);return r.a.createElement(m.a,Pe({label:t||n,autoComplete:"off",readOnly:!i||l},s,p,{InputProps:{inputComponent:st},inputProps:{style:{textAlign:u}}}))},mt=function(e){var t=e.action,n=e.visibleWhen,a=void 0===n||n,i=e.disableWhen,o=void 0!==i&&i,l=e.iconSize,c=void 0===l?"small":l,u=We(e,["action","visibleWhen","disableWhen","iconSize"]);return a?r.a.createElement(F.a,Pe({onClick:t,color:"secondary","aria-label":"delete",disabled:o},u),r.a.createElement(q.a,{fontSize:c})):null},pt=function(e){var t=e.caption,n=e.visibleWhen,a=e.Icon;return void 0===n||n?r.a.createElement(qe,{caption:void 0===t?"Download":t,href:e.href,Icon:void 0===a?J.a:a}):null},ft=function(e){var t=e.action,n=e.visibleWhen,a=void 0===n||n,i=e.disableWhen,o=void 0!==i&&i,l=e.iconSize,c=void 0===l?"small":l,u=We(e,["action","visibleWhen","disableWhen","iconSize"]);return a?r.a.createElement(F.a,Pe({onClick:t,color:"primary","aria-label":"edit",disabled:o},u),r.a.createElement(_.a,{fontSize:c})):null},vt=function(e){var t=e.label,n=e.caption,a=We(e,["label","caption"]),i=He(),o=Me(i,a);return r.a.createElement(m.a,Pe({label:t||n||"Email Address",fullWidth:!0,autoComplete:"off"},a,o,{type:"email",onChange:function(e){var t=e.target;o.onChange({target:{name:t.name,value:t.value.toLowerCase()}})}}))},ht=function(e){var t=e.caption,n=e.context,a=e.expr,i=e.exprValue,o=e.children,l=e.blur,c=void 0!==l&&l,u=We(e,["caption","context","expr","exprValue","children","blur"]),s=i||o,d=He();return n&&a?s="function"==typeof a?a(n):O.a.get(n,a):d&&(s=Me(d,Pe({},u,{name:a})).value),r.a.createElement("div",{style:Pe({},bt.wrapper,u.style,c?bt.blur:{})},t&&r.a.createElement("label",{style:Pe({},bt.caption,u.captionStyle)},t),r.a.createElement("label",{style:Pe({},bt.label,u.labelStyle)},s?s.toString():o))},bt={wrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingTop:5,paddingBottom:5},caption:{fontWeight:"800",fontSize:14,width:200},label:{fontSize:"14px"},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},Et=function(e){var t=e.msg;return t?r.a.createElement(ht,{style:{color:"red"}},t):null},gt=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,i=e.row,o=void 0!==i&&i,l=We(e,["children","visibleWhen","row"]);if(!a)return null;var c=function(e){var t=e.width,n=e.center,a=void 0!==n&&n,r=e.row,i=void 0!==r&&r,o={};return t&&(o.width=t),i&&(o.display="flex",o.flexDirection="row",o.alignItems="center"),a&&(o=Pe({},o,yt.center)),o}(Pe({},l,{row:o}));return r.a.createElement("div",Pe({style:Pe({},yt.panel,c,l.style)},l),t)},yt={panel:{display:"flex",flexDirection:"column"},center:{display:"flex",flexDirection:"column",alignItems:"center"}},Ot=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,i=e.handler,o=We(e,["children","visibleWhen","handler"]);if(!a)return null;var l=function(e){var t=e.context,n=void 0===t?{}:t,a=e.handler,r=We(e,["context","handler"]);return Pe({context:n,handleChange:function(e,t){void 0===t&&(t=!1);var r=e.target.name,i="boolean"==typeof t&&t?e.target.checked:e.target.value,o=Object(x.a)(n,(function(e){O.a.set(e,r,i)}));a(o)}},r)}(Pe({},o,{handler:i}));return r.a.createElement(_e.Provider,{value:l},r.a.createElement(gt,o,"function"==typeof t?t(l):t))},xt=Object(v.a)((function(e){return{root:{flexWrap:"flex"}}})),St=function(e){var t=e.children,n=We(e,["children"]),a=xt();return r.a.createElement(p.a,Pe({className:a.root},n),t)};Object(v.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#ecf0f1"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)}}}));var Ct=function(e){return r.a.createElement("img",e)};function jt(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,i=void 0===a||a,o=We(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(A.a,Pe({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:i,isNumericString:!0,decimalScale:0}))}function kt(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,i=void 0!==a&&a,o=We(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(A.a,Pe({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:i,isNumericString:!0,decimalScale:0}))}var wt=function(e){var t=e.label,n=e.caption,a=e.thousandSeparator,i=void 0===a||a,o=e.size,l=void 0===o?"small":o,c=We(e,["label","caption","thousandSeparator","size"]),u=He(),s=Me(u,c);return r.a.createElement(m.a,Pe({label:t||n,size:l,autoComplete:"off"},c,s,{InputProps:{inputComponent:i?jt:kt}}))},Pt=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement("label",null,e.caption),r.a.createElement("label",null,t))},Wt=function(e){var t=e.visibleWhen,n=void 0===t||t,a=We(e,["visibleWhen"]);return n?r.a.createElement(L.a,a):null},Nt=function(e){var t=e.caption,n=e.visibleWhen,a=void 0===n||n,i=e.children,o=We(e,["caption","exprValue","visibleWhen","children"]);return a?r.a.createElement(f.a,Pe({variant:"body2"},o),t||i):null},Tt=function(e){var t=e.items,n=e.children,a=We(e,["items","children"]),i=[];return t.forEach((function(t){i.push("function"==typeof n?n(Pe({},a,{item:t})):function e(t,n){var a=[];if(n.children){var i=n.children,o=We(n,["children"]);r.a.Children.forEach(i,(function(n,i){if("function"==typeof n)a.push(n(Pe({},o,{item:t})));else{var l=function(e,t,n){var a=Pe({},n);if(t.props){var r=t.props.expr;r&&(a.exprValue=e[r].toString())}return a}(t,n,o),c=e(t,n.props);l.key=ct();var u=r.a.cloneElement(n,l,c);a.push(u)}}))}return a}(t,e))})),r.a.createElement("div",{style:Pe({},e.style)},i)},It=function(e){var t=e.visibleWhen,n=void 0===t||t,a=e.showMessage,i=void 0===a||a,o=We(e,["visibleWhen","showMessage"]);if(!n)return null;var l=o.msg||"Processing...";return r.a.createElement("div",{style:Rt.container},r.a.createElement("div",{style:Rt.progress},r.a.createElement(Xe,Pe({size:16,color:"secondary"},o))),i&&r.a.createElement("div",{style:Rt.msg},l))},Rt={container:{display:"flex",flexDirection:"row",marginTop:5,marginBottom:5},progress:{paddingRight:10},msg:{color:"#f50057"}},Bt=Object(v.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),At=function(e){var t=e.caption,n=e.visibleWhen,i=void 0===n||n,o=e.editable,l=void 0===o||o,c=e.readOnly,u=void 0!==c&&c,s=e.children,d=e.onSelect,p=e.query,f=e.setQuery,v=e.searchFieldTitle,h=e.searchField,b=e.hideSearchText,E=void 0!==b&&b,g=e.enableSelect,y=void 0===g||g,x=We(e,["caption","visibleWhen","editable","readOnly","containerStyle","children","onSelect","query","setQuery","searchFieldTitle","searchField","hideSearchText","enableSelect"]);if(!i)return null;var S=Bt(),C=Object(a.useState)(),j=C[0],k=C[1],w=Object(a.useState)(!1),P=w[0],W=w[1],N=function(){if(h){var e=O.a.set(p,h,j);f(e)}W(!0)};return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(F.a,{onClick:N},r.a.createElement(K.a,null)):r.a.createElement(m.a,Pe({className:S.margin,label:t,value:j,onChange:function(e){k(e.target.value)},variant:"outlined",size:"small",helperText:v,autoFocus:!0},x,{InputProps:{readOnly:u||!l,endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(F.a,{onClick:N},r.a.createElement(K.a,null)))}})),r.a.createElement(X.a,{open:P},r.a.createElement(Y.a,null,t),r.a.createElement(Z.a,null,s,r.a.createElement(Te,null,r.a.createElement(Ae,{variant:"text",caption:"Cancel",onClick:function(){W(!1)}}),r.a.createElement(Ae,{caption:"Select",onClick:function(){d()&&W(!1)},disableWhen:!y})))))},Ft=Object(v.a)((function(e){return{formControl:{marginTop:3}}}));function zt(e){var t=e.inputRef,n=We(e,["inputRef"]);return r.a.createElement(ee.a,Pe({ref:function(e){t(e?e.inputElement:null)},guide:!0},n))}var qt=function(e){var t=e.label,n=e.caption,a=e.mask,i=void 0===a?[/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/]:a,o=e.len,l=void 0===o?7:o,c=e.placeholderChar,u=void 0===c?" ":c,s=e.showMask,d=void 0!==s&&s,m=e.required,p=void 0!==m&&m,f=e.autoFocus,v=We(e,["label","caption","mask","len","placeholderChar","showMask","required","autoFocus"]),h=He(),b=Me(h,v),E=Ft();return r.a.createElement(j.a,{className:E.formControl,fullWidth:!0},r.a.createElement(S.a,{required:p,htmlFor:"formatted-text-mask"},t||n),r.a.createElement(Q.a,Pe({id:"formatted-text-mask",required:p,onBlur:function(e){var t=e.target,n=t.name,a=t.value.replace(new RegExp(u,"gi"),"");i.forEach((function(e){"string"==typeof e&&(a=a.replace(new RegExp(e,"gi"),""))}));var r=a;a.trim().length>0&&(r=function(e,t,n){for(var a="";t>0;)a+="0",t--;return a+e}(a,l-a.length)),b.onChange({target:{name:n,value:r}})},mask:i},v,b,{inputComponent:zt,inputProps:{mask:i,showMask:d,placeholderChar:u,autoFocus:f}})))},Dt=function(e){var t=e.children,n=e.onAccept,a=e.onCancel,i=e.showActions,o=void 0===i||i;return r.a.createElement(X.a,{open:e.open},r.a.createElement(Y.a,null,e.caption),r.a.createElement(Z.a,null,t,o&&r.a.createElement(Te,null,r.a.createElement(Ae,{variant:"text",caption:"Cancel",onClick:a}),r.a.createElement(Ae,{caption:"OK",onClick:n}))))},Jt=Object(v.a)((function(e){return{formControl:{marginTop:3}}}));function Vt(e){var t=e.inputRef,n=We(e,["inputRef"]);return r.a.createElement(ee.a,Pe({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var _t=function(e){var t=e.label,n=e.caption,a=e.required,i=void 0!==a&&a,o=We(e,["label","caption","required"]),l=He(),c=Me(l,o),u=Jt();return r.a.createElement(j.a,{className:u.formControl,fullWidth:!0},r.a.createElement(S.a,{required:i,htmlFor:"formatted-text-mask-input"},t||n||"Mobile No."),r.a.createElement(Q.a,Pe({required:i},o,c,{id:"formatted-text-mask-input",inputComponent:Vt})))},Lt=function(e){var t=e.open,n=e.type,a=void 0===n?"alert":n,i=e.msg,o=e.acceptCaption,l=void 0===o?"OK":o,c=e.onAccept,u=e.onCancel,s=e.children,d=We(e,["open","type","msg","acceptCaption","onAccept","onCancel","children"]).title||("alert"===a?"Information":"Confirmation");return r.a.createElement(X.a,{open:t},d&&r.a.createElement(Y.a,null,d),r.a.createElement(Z.a,null,r.a.createElement(te.a,null,i),s),r.a.createElement(ne.a,null,"alert"!==a&&r.a.createElement(Ae,{variant:"text",caption:"Cancel",onClick:u}),r.a.createElement(Ae,{caption:l,onClick:c})))},Mt=function(e){var t,n=(t={header:null,left:null,center:null,right:null,footer:null},r.a.Children.forEach(e.children,(function(e){if(e){var n=e.props.target||"center";t[n]||(t[n]=[]),t[n].push(e)}})),t),a=n.center,i=n.right;return r.a.createElement("div",{className:"_12CqV"},r.a.createElement("div",{className:"_3rBoA"},r.a.createElement("div",{className:"_1Pt6o"},r.a.createElement("aside",{className:"_3GVFn _1JqCZ"},r.a.createElement("div",{style:{position:"fixed"}},n.left)),r.a.createElement("div",{className:"_3FaYg"},a),r.a.createElement("aside",{className:"_3GVFn _2yu7F"},i))))},Ht=function(e){var t=e.caption,n=void 0===t?"Preview":t,a=e.href,i=e.visibleWhen,o=e.Icon,l=e.target,c=void 0===l?"_blank":l;return void 0===i||i?n?r.a.createElement(qe,{caption:n,href:a,Icon:void 0===o?H.a:o}):r.a.createElement(F.a,{size:"small",href:a,color:"primary","aria-label":"Preview Report",target:c},r.a.createElement(H.a,null)):null};function Ut(e){var t=e.inputRef,n=We(e,["inputRef"]);return r.a.createElement(ee.a,Pe({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var Gt=function(e){var t=e.label,n=e.caption,a=We(e,["label","caption"]),i=He(),o=Me(i,a);return r.a.createElement(j.a,null,r.a.createElement(S.a,{htmlFor:"formatted-text-mask-input"},t||n||"Phone No."),r.a.createElement(Q.a,Pe({},a,o,{id:"formatted-text-mask-input",inputComponent:Ut})))},Kt=function(e){var t=e.item,n=e.Control;return r.a.createElement("div",{style:Zt.customItemContainer},r.a.createElement(ae.a,{value:t.objid}),r.a.createElement(n,{item:t}))},Xt=function(e){var t,n=e.children,a=e.readOnly,i=void 0!==a&&a,o=e.editable,l=void 0===o||o,c=e.list,u=e.Control,s=We(e,["children","caption","readOnly","editable","list","Control"]),d=He(),m=Me(d,s),p=i||!l;return t=c?c.map((function(e){return u?r.a.createElement(Kt,{item:e,Control:u}):r.a.createElement(E.a,{value:e.objid,control:r.a.createElement(ae.a,null),label:e.caption||e.title,disabled:p})})):r.a.Children.map(n,(function(e){var t=e.props,n=t.readOnly,a=void 0!==n&&n,i=t.editable,o=void 0===i||i,l=We(t,["readOnly","editable"]);return r.a.createElement(E.a,Pe({value:e.props.value,control:r.a.createElement(ae.a,null),label:e.props.caption,disabled:p||a||!o},l))})),r.a.createElement(j.a,{component:"fieldset"},r.a.createElement(re.a,Pe({},s,{value:m.value,onChange:function(e,t){m.onChange({target:{name:s.name,value:t}})},style:{display:"flex"}}),t))},Zt={customItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",border:"1px solid #aaa"}};oe.a.setAppElement("#root");var Yt=function(e){return r.a.createElement("div",{style:{height:e.height||20}},e.children)},Qt=Object(v.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),$t=function(e){var t=He(),n=Me(t,e),a=e.caption,i=e.items,o=e.name,l=e.expr,c=We(e,["caption","items","name","expr"]),u=Qt(),s=function(e,t){return e.map((function(e){var n;return"function"==typeof t&&(n=t(e)),"string"==typeof t&&"object"==typeof e&&(n=O.a.get(e,t)),r.a.createElement(C.a,{key:ct(),value:e},n||e)}))}(i,l);return l&&(n.renderValue=function(e){return e[l]}),r.a.createElement(j.a,{className:u.formControl},r.a.createElement(S.a,null,a),r.a.createElement(w.a,Pe({},c,n,{name:o}),s))},en=function(e){var t=e.caption,n=e.title,a=e.children;return r.a.createElement(ht,{labelStyle:Pe({},tn.title,e.style)},t||n||a)},tn={title:{paddingTop:"10px",color:"#27ae60",fontSize:20,fontWeight:"bold"}},nn=function(e){return r.a.createElement(ht,{labelStyle:an.title},e.caption||e.title||e.children)},an={title:{fontSize:18,fontWeight:"bold",opacity:.85}},rn=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:"transparent"},selectedStep:{color:"#27ae60 !important"}}})),on=function(e){var t=e.orientation,n=e.completedStep,a=e.handleStep,i=e.steps,o=e.activeStep,l=rn(),c=n>0?n-1:o;return r.a.createElement(le.a,{className:l.root,activeStep:c,orientation:t||"vertical"},i.map((function(e,t){if(e.caption){var i={},u={};t===o&&(u.completed=l.selectedStep);var s=r.a.createElement(ue.a,i,e.caption);return a&&t<=n&&(s=r.a.createElement(se.a,{onClick:function(){return a(t)},completed:t<=c},r.a.createElement(ue.a,Pe({classes:u,StepIconProps:{classes:u}},i),e.caption))),r.a.createElement(ce.a,Pe({key:e.caption},{}),s)}})))},ln={currency:Qe,number:function(e){return void 0===e&&(e=0),e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},cn=Object(v.a)((function(e){return{head:{fontWeight:"bold",opacity:.8},paper:{width:"100%",marginBottom:e.spacing(2)},pagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),un=function(e){var t=e.items,n=void 0===t?[]:t,i=e.showPagination,o=void 0===i||i,l=e.rowsPerPage,c=void 0===l?5:l,u=e.fetchList,s=e.singleSelect,d=void 0!==s&&s,m=e.multiSelect,p=void 0!==m&&m,f=e.keyId,v=e.onSelectItems,h=We(e,["items","showPagination","rowsPerPage","fetchList","singleSelect","multiSelect","keyId","onSelectItems"]),b=Object(a.useState)(0),E=b[0],y=b[1],S=Object(a.useState)(c),C=S[0],j=S[1],k=Object(a.useState)([]),w=k[0],P=k[1];Object(a.useEffect)((function(){u&&u({start:E,limit:C})}),[E,C]),Object(a.useEffect)((function(){v&&v(w)}),[w]);var W=cn(),N=n.length===C?-1:E*C+n.length,T=p||d?{numSelected:w.length,rowCount:-1===N?C:n.length,multiSelect:p,singleSelect:d,onSelectAllClick:function(){P(0===w.length?n:[])},onSelectItem:function(e,t){var n=w.findIndex((function(e){return e[f]===t[f]}));P(n>=0?Object(x.a)((function(e){return e.filter((function(e){return e[f]!==t[f]}))})):p?w.concat(t):[t])}}:{},I=function(e,t){var n=cn(),a=r.a.Children.map(e.children,(function(e){var t=e.props,a=t.caption,i=We(t,["caption","expr"]);return r.a.createElement(pe.a,Pe({key:ct(),className:n.head},i),a)}));if(t.singleSelect)a.unshift(r.a.createElement(pe.a,{key:ct(),padding:"checkbox"},r.a.createElement("span",null," ")));else if(t.multiSelect){var i=t.numSelected,o=t.rowCount,l=t.onSelectAllClick;a.unshift(r.a.createElement(pe.a,{key:ct(),padding:"checkbox"},r.a.createElement(g.a,{indeterminate:i>0&&i<o,checked:o>0&&i===o,onChange:l})))}return a}(e,T),R=function(e,t,n){var a=e.items,i=e.children,o=[];return(void 0===a?[]:a).forEach((function(a){var l=r.a.Children.map(i,(function(e,t){var n=e.props,i=n.expr,o=n.format,l=n.children,c=We(n,["caption","expr","format","children"]),u=function(e){var t,n=e.item,a=e.expr,i=e.children;if(a)if("string"==typeof a){var o=ln[e.format],l=O.a.get(n,a);t=o?o(l):l}else t=a(n).toString();else t="function"==typeof i?i(n):function e(t,n){return r.a.Children.map(n,(function(n){var a=n.props,i=a.action,o=a.children;if("function"==typeof i)return r.a.cloneElement(n,{action:function(e){e.stopPropagation(),i(t)}},o);if(o.length>0){var l=e(t,o);return r.a.cloneElement(n,{},l)}return n}))}(n,i);return t}({item:a,expr:i,format:o,children:l}),s=0===t?{component:"th",scope:"row"}:{};return r.a.createElement(pe.a,Pe({key:ct()},s,c),u)}));if(n.multiSelect||n.singleSelect){var c=e.keyId,u=t.findIndex((function(e){return e[c]===a[c]}))>=0;l.unshift(r.a.createElement(pe.a,{key:ct(),padding:"checkbox"},r.a.createElement(g.a,{checked:u}))),o.push(r.a.createElement(he.a,{hover:!0,onClick:function(e){return n.onSelectItem(e,a)},role:"checkbox",tabIndex:-1,key:ct(),selected:u},l))}else o.push(r.a.createElement(he.a,{key:ct()},l))})),o}(e,w,T);return r.a.createElement(be.a,{className:W.paper},r.a.createElement(fe.a,null,r.a.createElement(de.a,Pe({},h,{size:"small"}),r.a.createElement(ve.a,null,r.a.createElement(he.a,null,I)),r.a.createElement(me.a,null,R))),o&&r.a.createElement(Ee.a,{rowsPerPageOptions:[5,10,25],component:"div",count:N,rowsPerPage:C,page:E,onChangePage:function(e,t){y(t),P([])},onChangeRowsPerPage:function(e){j(parseInt(e.target.value,10))},labelDisplayedRows:function(e){var t=e.to;return e.from+"-"+t+" of "+(-1!==e.count?t:"?")}}))},sn=function(e){return r.a.createElement("div",null,e.children)},dn=function(e){var t=e.label,n=e.caption,a=e.visibleWhen,i=void 0===a||a,o=e.editable,l=void 0===o||o,c=e.readOnly,u=void 0!==c&&c,s=e.containerStyle,d=e.textCase,p=void 0===d?"UPPER":d,f=e.blur,v=void 0!==f&&f,h=We(e,["label","caption","visibleWhen","editable","readOnly","containerStyle","textCase","blur"]);if(!i)return null;var b=He(),E=Me(b,h),g={};!u&&l||(g.readOnly=!0);var y=!0===v?mn.blur:{};return r.a.createElement("div",{style:Pe({},mn.root,s)},r.a.createElement(m.a,Pe({label:n||t,fullWidth:!0,inputProps:g,autoComplete:"off",helperText:h.error,size:"small"},h,E,{style:Pe({},y),onChange:function(e){var t=e.target,n=t.name,a=t.value;/upper/i.test(p)?E.onChange({target:{name:n,value:a.toUpperCase()}}):E.onChange(e)}})))},mn={root:{width:"100%",marginBottom:3},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},pn=function(e){var t=e.caption,n=e.exprValue,a=e.children,o=We(e,["caption","exprValue","children"]);return r.a.createElement(i.a,Pe({fontSize:"1.7em",fontWeight:"bold"},o),t||n||a)},fn=function(e){var t=e.onUpload,n=e.fileId,i=e.caption,l=void 0===i?"Upload":i,c=e.color,u=void 0===c?"secondary":c,s=e.visibleWhen,d=e.multiple,m=void 0!==d&&d,p=e.url,f=void 0===p?"/filipizen/attachment/upload":p;if(void 0!==s&&!s)return null;var v=Object(a.useState)(),h=v[0],b=v[1],E=Object(a.useState)("")[1],g=Object(a.useState)(0),y=g[0],O=g[1],x=Object(a.useState)(!1),S=x[1];return r.a.createElement("div",{className:"_1L-R5"},r.a.createElement("div",{className:"_CQGbS"},x[0]?r.a.createElement(It,{msg:"Uploading file..."}):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"_1d5R2",id:n,type:"file",onChange:function(e){O(0);var a=e.target.files[0];E(a),a&&function(e){b(null),S(!0);var a=new FormData;a.append("file",e),a.append("key",n),ye.a.post(f,a,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);O(t)}}).then((function(e){t({name:e.data.name,key:e.data.key,location:e.data.location}),S(!1)})).catch((function(e){b(e),S(!1)}))}(a)},multiple:m}),r.a.createElement("label",{htmlFor:n},r.a.createElement(o.a,{variant:"outlined",component:"span",color:u},l||"Upload"))),0!=y&&100!=y&&r.a.createElement("div",{className:"_3Gt_X",style:{width:y}},y,"%"),r.a.createElement(Et,{msg:h})))},vn=function(e){return e.indexOf(":")>0},hn={},bn={lookup:function(e,t,n,a){var r,i;return void 0===t&&(t="default"),void 0===a&&(a={debug:!1}),null==hn[e]&&(r=vn(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=xe()("/gdx");return r.connect(),{invoke:function(i,o,l){(function(i,o){try{var l=new Promise((function(l,c){r.emit("invoke",{service:e,method:i,channel:t,connection:n,module:a,args:o},(function(e){"OK"===e.status?l(e.data):c(e.msg)})),r.on("disconnect",(function(){console.log("AsyncFetch disconnted")}))}));return Promise.resolve(l)}catch(e){return Promise.reject(e)}})(i,o).then((function(e){return l(null,e)})).catch((function(e){/syntax/i.test(e)?l("Partner is currently not avaible. Please try again later.",null):l(e,null)}))}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e,t,n){return{invoke:function(a,r,i){fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:n,connection:t,name:e,action:a},args:r?[r]:null})}).then((function(e){return e.json()})).then((function(e){e.error?i(e.error,null):(Array.isArray(e)||0!==Object.keys(e).length||i(null,null),Array.isArray(e)||"ERROR"!==e.status?i(null,e):i(e.msg,null))})).catch((function(e){return i(e.toString(),null)}))}}}((i=Pe({serviceName:e,connection:t,module:n},a)).serviceName,i.connection,i.module),hn[e]=r),hn[e]},lookupAsync:function(e,t,n,a){void 0===t&&(t="default"),void 0===a&&(a={debug:!1});var r,i="Async"+e;return null==hn[i]&&(r=vn(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=xe()("/gdx");return r.connect(),{invoke:function(i,o,l){try{var c=new Promise((function(c,u){r.emit("invoke",{service:e,method:i,connection:n,module:a,channel:t,args:o},(function(e){"OK"===e.status?(l&&l(!1,e.data),c(e.data)):(l&&l(e.msg),u(e.msg))}))}));return Promise.resolve(c)}catch(e){return Promise.reject(e)}}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e){return t=e.serviceName,n=e.connection,a=e.module,{invoke:function(e,r){try{return Promise.resolve(fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:a,connection:n,name:t,action:e},args:r?[r]:null})})).then((function(e){if(200!==e.status)throw e.statusText;return Promise.resolve(e.json())}))}catch(e){return Promise.reject(e)}}};var t,n,a}(Pe({serviceName:e,connection:t,module:n},a)),hn[i]=r),hn[i]}},En=function(){var e={"/gdx":[]};return{register:function(t,n,a){void 0===a&&(a="/gdx");var r=xe()(a);return r.on(t,(function(e){n(e)})),void 0===e[a]?e[a]=[r]:e[a].push(r),r}}},gn=Object(a.createContext)(),yn=Object(a.createContext)(),On=function(e){var t=e.children,n=Object(Se.a)(e.reducer,e.initialState);return r.a.createElement(gn.Provider,{value:n[0]},r.a.createElement(yn.Provider,{value:n[1]},t))},xn=function(){var e=Object(a.useContext)(gn);if(void 0===e)throw new Error("useStateValue must be used within a StateProvider");return e},Sn=function(){var e=Object(a.useContext)(yn);if(void 0===e)throw new Error("useStateDispatch must be used within a StateProvider");return e},Cn=function(){return[xn(),Sn()]}},284:function(e,t,n){e.exports=n.p+"static/media/filipizen.5fd85b9e.svg"},322:function(e,t,n){e.exports=n(534)},328:function(e,t,n){},329:function(e,t,n){},522:function(e,t){},525:function(e,t,n){},526:function(e,t,n){},531:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(285),o=n.n(i),l=(n(328),n(46)),c=n(14),u=n(18),s=(n(329),function(e){return r.a.createElement("div",{className:"Footer"},r.a.createElement("span",{className:"Footer__info"},"@2020 Sitemap | Privacy | Legal | Feedback"))}),d=n(2),m=d.O.lookup("CloudPartnerService","partner"),p=function(e){var t=Object(a.useState)(null),i=Object(u.a)(t,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){m.invoke("getActivePartners",null,(function(e,t){e?console.log("Error loading partners ",e):l(t.length)}))}),[]),null===o?r.a.createElement("div",null):r.a.createElement("div",{className:"HomeScreen"},r.a.createElement("div",{className:"HomeScreen__panel"},r.a.createElement("img",Object.assign({className:"HomeScreen__image",src:n(284)},e,{alt:"filipizen logo"})),r.a.createElement("div",{className:"HomeScreen__infoContainer"},r.a.createElement("div",{className:"HomeScreen__information"},r.a.createElement("label",{className:"HomeScreen__title"},"Experience ease of doing business with the government"),o>0&&r.a.createElement("label",{className:"HomeScreen__description"},"With ".concat(o," local government units participating all over the Philippines."))),r.a.createElement("button",{className:"HomeScreen__button",onClick:function(){e.history.push("/partners")}},"Start Here"))),r.a.createElement(s,null))},f=n(297),v=n(79),h=(n(525),function(e){var t=function(e){var t=e.children,n={header:null,left:null,center:null,right:null,footer:null};return r.a.Children.forEach(t,(function(e){if(e){var t=e.props.target||"center",a="string"===typeof e.type?e.type:e.type.name;/header/i.test(a)?t="header":/footer/i.test(a)&&(t="footer"),n[t]||(n[t]=[]),n[t].push(e)}})),n}(e),n=t.header,a=t.center,i=t.footer;return r.a.createElement("div",{className:"template"},r.a.createElement("div",{className:"row header"},n),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"main"},a," "))),r.a.createElement("div",{className:"row footer"},i))}),b=function(e){return r.a.createElement("img",Object.assign({src:n(284)},e,{alt:"filipizen"}))},E=(n(145),n(526),function(){return r.a.createElement("div",{className:"Header"},r.a.createElement(l.b,{to:"/partners"},r.a.createElement(b,null)))}),g=function(e){var t=e.children,n=Object(v.a)(e,["children"]),a=void 0===n.showHeader||n.showHeader;return r.a.createElement(h,{logo:b},a&&r.a.createElement(E,null),t,r.a.createElement(s,null))},y=(n(531),d.O.lookup("CloudPartnerService","partner")),O=Object(d.cb)(),x=function(e){var t=e.partners,n=t[0].group;return r.a.createElement("div",{className:"PartnerGroup"},r.a.createElement(d.S,null,n.title),r.a.createElement(d.B,{items:t},(function(e){var t=e.item;return r.a.createElement("div",{key:t.id,style:{paddingBottom:2}},r.a.createElement(d.A,{style:"0"!==t.isonline?{}:{color:"#aaa"},component:l.b,to:{pathname:"/partner/".concat(n.objid,"_").concat(t.name,"/services"),state:{partner:t}},caption:"".concat(t.title," (").concat(t.id,")")}))})))},S=function(e){var t=e.partners,n=Object(d.eb)(t,"clusterid");return r.a.createElement("div",{className:"PartnerList_group"},Object.keys(n).map((function(e){return/test/i.test(e)?null:r.a.createElement(x,{key:e,partners:n[e]})})))},C=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)([]),c=Object(u.a)(l,2),s=c[0],m=c[1],p=function(e,t){var n=s.findIndex((function(t){return t.id===e}));if(n>=0){var a=s[n];if(a.isonline!==t){a.isonline=t;var r=Object(f.a)(s);r[n]=a,m(r)}}};return O.register("activate",(function(e){p(e,"1")})),O.register("deactivate",(function(e){p(e,"0")})),r.a.useEffect((function(){o(!0),y.invoke("getActivePartners",null,(function(e,t){e?console.log("Error loading partners ",e):m(t),o(!1)}))}),[]),r.a.createElement(g,null,r.a.createElement("div",{className:"PartnerList"},i&&r.a.createElement(d.z,null),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.P,{height:20}),r.a.createElement(d.X,null,"Select a Partner Agency"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap"}},r.a.createElement(S,{partners:s})))))},j={container:{padding:"4px 50px"},title:{color:"#ddd",paddingLeft:5}},k=function(e){var t=e.partner,n=e.Logo;return r.a.createElement(d.b,null,r.a.createElement(d.J,{style:j.container},r.a.createElement(l.b,{to:{pathname:"/partner/".concat(t.name,"/services"),state:{partner:t}}},r.a.createElement(d.J,{row:!0},r.a.createElement("div",null,n)))))},w=function(e){var t,n=e.children,a=Object(v.a)(e,["children"]);return r.a.createElement(g,{logo:b},r.a.createElement(k,Object.assign({Logo:(t=a.partner,r.a.createElement(d.v,{style:{height:"40px"},src:"/assets/".concat(t.name,".png"),height:"30px"}))},a)),n)},P=n(100),W=(n(532),[{name:"bpls",module:"filipizen-bpls",title:"Business",services:[{module:"bpls",name:"businessbilling",title:"Business Online Billing",component:"BplsBillingWebController"},{module:"bpls",name:"renewbusiness",title:"Renew Business Application",component:"RenewBusinessWebController"}]},{name:"rptis",module:"filipizen-rptis",title:"Real Property",services:[{module:"rptis",name:"rptbilling",title:"Realty Tax Online Billing",component:"RptBillingWebController"},{module:"rptis",name:"rpttaxclearance",title:"Online Realty Tax Clearance",component:"RealtyTaxClearanceWebController"}]},{name:"waterworks",module:"filipizen-waterworks",title:"Waterworks",services:[{module:"waterworks",name:"waterworksbilling",title:"Waterworks Billing",component:"WaterworksBillingWebController"}]},{name:"obo",module:"filipizen-obo",title:"Building and Construction",services:[{module:"obo",name:"bldgpermit",title:"Building Permit Application",component:"BuildingPermitWebController"},{module:"obo",name:"occupancypermit",title:"Occupancy Permit Application",component:"OccupancyPermitWebController"},{module:"obo",name:"registerprofessionals",title:"Register Professional",component:"ProfessionalWebController"},{module:"obo",name:"updateprofessional",title:"Update Professional",component:"UpdateProfessionalWebController"},{module:"obo",name:"apptracking",title:"Application Tracking",component:"AppTrackingWebController"},{module:"obo",name:"obobilling",title:"Building Online Billing",component:"OboBillingWebController"}]}]),N=function(e){var t=e.includeservices;if(!t)return[];var n=new RegExp("(".concat(t,")"),"i"),a=e.excludeservices?new RegExp("(".concat(e.excludeservices,")"),"i"):null,r=[].concat(W);return r.forEach((function(e){var t=e.services.filter((function(e){return n.test(e.name)&&(!a||!a.test(e.name))}));e.services=t})),r.filter((function(e){return e.services.length>0}))},T={},I=function(e){var t=e.modules,n=e.onSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.J,{style:R.screen},t.map((function(e,t){return r.a.createElement(d.J,{key:"".concat(e.name).concat(t),style:R.moduleContainer},r.a.createElement(d.S,null,e.title),r.a.createElement(d.B,{items:e.services,style:R.list},(function(t){var a=t.item;return r.a.createElement(d.A,{key:a.name,component:"button",onClick:function(){return n(e,a)}},a.title)})))}))))},R={screen:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"wrap"},list:{display:"flex",flexDirection:"column",alignItems:"flex-start"},moduleContainer:{width:250},maintenanceContainer:{display:"flex",marginTop:20},maintenanceInfo:{},maintenanceImage:{width:350},maintenanceTitle:{fontSize:"3rem",fontWeight:800}},B=function(e){var t=e.location,n=e.history,i=Object(a.useState)(),o=Object(u.a)(i,2),l=o[0],c=o[1],s=Object(a.useState)([]),m=Object(u.a)(s,2),p=m[0],f=m[1];Object(a.useEffect)((function(){var e=t.state?t.state.partner:null;e?(c(e),f(N(e))):function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/services");(!a||a.length<3)&&n("Invalid path");var r=a[1],i=a[2];d.O.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){e?n("Partner ".concat(i," does not exist. ").concat(e)):"0"!==a.isonline?t(a):n("Partner is offline.")}))}))}(t).then((function(e){c(e),f(N(e))})).catch((function(e){return n.push("/partners")}))}),[t,n]);return l?r.a.createElement(w,{partner:l,location:t,history:n},r.a.createElement(d.I,null,r.a.createElement(d.P,{height:20}),p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.X,null,"Select Transaction"),r.a.createElement(d.P,{height:20}),r.a.createElement(I,{modules:p,onSelect:function(e,t){n.push({pathname:"/partner/".concat(l.group.name,"_").concat(l.name,"/").concat(e.name,"/").concat(t.name),state:{partner:l,module:e,service:t}})}})),0===p.length&&r.a.createElement("div",{style:R.maintenanceContainer},r.a.createElement("div",{style:R.maintenanceInfo},r.a.createElement("label",{style:R.maintenanceTitle},"Website under maintenance"),r.a.createElement("p",null,"This website is currently undergoing a scheduled maintenance. Will return shortly. Our apologies for the inconvenience.")),r.a.createElement("img",{style:R.maintenanceImage,src:"/assets/filipizen.png",alt:"Under Maintenance"})))):r.a.createElement(g,null)},A=function(e){return function(e){var t=T[e.module];return"undefined"===typeof t&&("bpls"===e.module?t=P.a.lib((function(){return n.e(3).then(n.bind(null,607))})):"rptis"===e.module?t=P.a.lib((function(){return n.e(4).then(n.bind(null,608))})):"waterworks"===e.module?t=P.a.lib((function(){return n.e(5).then(n.bind(null,609))})):"obo"===e.module&&(t=P.a.lib((function(){return n.e(6).then(n.bind(null,610))}))),T[e.module]=t),t}(e)},F=function(e){var t=Object(c.g)(),n=Object(c.f)(),i=function(e){return e&&e.state?e.state:{}}(t),o=i.partner,l=i.service,s=Object(v.a)(i,["partner","service"]),m=Object(a.useState)(o),p=Object(u.a)(m,2),f=p[0],h=p[1],b=Object(a.useState)(l),E=Object(u.a)(b,2),g=E[0],y=E[1];if(Object(a.useEffect)((function(){o||function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/(.*)/(.*)");(!a||a.length<5)&&n("Invalid path");var r=a[1],i=a[2],o=a[3],l=a[4];d.O.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){if(e)n("Partner ".concat(i," does not exist. ").concat(e));else if("0"!==a.isonline){var r,c=N(a).find((function(e){return e.name===o})),u=c?c.services.find((function(e){return e.name===l})):null;if(!c||!u)return r="/partner/".concat(a.group.name,"_").concat(a.name,"/services"),void t({redirectUrl:r});t({partner:a,module:c,service:u})}else n("Partner is offline.")}))}))}(t).then((function(e){e.redirectUrl?n.replace(e.redirectUrl):(h(e.partner),y(e.service))})).catch((function(e){return n.replace("/partners")}))}),[n,o,t]),!f||!g)return null;var O=A(g);return r.a.createElement(w,{partner:f},r.a.createElement(O,Object.assign({},e,{partner:f,service:g},s),(function(t){var n=t[g.component];return r.a.createElement(n,Object.assign({},e,{partner:f,service:g},s))})))},z=n(102),q={actions:{display:"flex",flexDirection:"row",justifyContent:"center"},code:{fontSize:120,color:"#686868"},label:{fontSize:36,fontWeight:"bold",color:"#3f51b5",textAlign:"center"}},D=[{name:"home",exact:!0,path:"/",component:p},{name:"partners",path:"/partners",component:C},{name:"services",path:"/partner/:partnerId/services",component:B},{name:"service",path:"/partner/:partnerId/:module/:service",component:F},{name:"success",path:"/payment/success",component:function(e){var t=e.location.location,n=Object(a.useState)({}),i=Object(u.a)(n,2),o=i[0],l=i[1];Object(a.useEffect)((function(){t&&function(){var e=Object(d.db)(t,"orgcode");d.O.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){l(e?{}:t)}))}()}),[t]);return r.a.createElement(w,{partner:o},r.a.createElement(d.k,{center:!0},r.a.createElement(z.f,Object.assign({onClose:function(){o&&o.name?e.history.replace({pathname:"/partner/".concat(o.name,"/services"),state:{partner:o}}):e.history.replace({pathname:"/partners",state:{partner:o}})}},e,{partner:o}))))}},{name:"error",path:"/payment/error",component:function(e){var t=e.location,n=e.history,i=Object(a.useState)({}),o=Object(u.a)(i,2),l=o[0],c=o[1];Object(a.useEffect)((function(){t&&function(){var e=Object(d.db)(t,"orgcode");d.O.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){c(e?{}:t)}))}()}),[t]);return r.a.createElement(w,{partner:l},r.a.createElement(d.J,null,r.a.createElement(z.e,Object.assign({onClose:function(){l&&l.name?n.replace({pathname:"/partner/".concat(l.name,"/services"),state:{partner:l}}):n.replace({pathname:"/partners",state:{partner:l}})}},e,{partner:l}))))}},{name:"404",path:"*",component:function(e){return r.a.createElement(g,{showHeader:!1},r.a.createElement(d.I,null,r.a.createElement(d.P,{height:60}),r.a.createElement(b,{width:200}),r.a.createElement(d.P,{height:30}),r.a.createElement(d.k,{center:!0},r.a.createElement(d.y,{labelStyle:q.code},"404"),r.a.createElement("label",{style:q.label},"Sorry, the page you tried to access cannot be found."),r.a.createElement(d.P,{height:40}),r.a.createElement(d.J,{style:q.actions},r.a.createElement(d.e,{style:{paddingLeft:50,paddingRight:50},caption:"Start Here",size:"large",onClick:function(){e.history.push("/partners")}})))))}},{name:"systools",exact:!0,path:"/admin/systool",component:p}];n(533);var J=function(){return r.a.createElement(l.a,null,r.a.createElement(c.c,null,D.map((function(e){return r.a.createElement(c.a,Object.assign({key:e.name},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[322,1,2]]]);
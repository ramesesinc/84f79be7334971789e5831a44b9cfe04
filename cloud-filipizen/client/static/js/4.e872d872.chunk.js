(this["webpackJsonpfilipizen-client"]=this["webpackJsonpfilipizen-client"]||[]).push([[4],{1271:function(e,t){},1290:function(e,t,n){},1398:function(e,t,n){"use strict";n.r(t),n.d(t,"BplsBillingWebController",(function(){return Zt})),n.d(t,"NewBusinessWebController",(function(){return Bn})),n.d(t,"RenewBusinessWebController",(function(){return gn}));var a=n(210),r=n(356),c=n(183),l=n.n(c),i=n(211),o=n(22),u=n(0),m=n.n(u),s=n(1391),p=(n(1400),n(1402),n(1348),n(1349)),d=n(1350),f=n(1351),b=n(1352),E=(n(1353),n(1363)),v=n(1367),h=(n(1370),n(1371),n(1368),n(1341),n(1373)),y=n(1339),g=n(1374),O=n(1375),j=n(1376),S=n(1377),w=n(1378),x=n(1334),C=(n(1340),n(1346),n(1345)),k=(n(876),n(1279),n(1347),n(1281),n(1021),n(1022),n(1038)),P=n.n(k),N=n(1164),A=n.n(N),T=(n(1280),n(1403),n(1354)),I=n(1394),W=n(983),B=n(1404),_=n(1360),R=n(1355),q=(n(1362),n(1392)),F=(n(1282),n(813),n(1390),n(1181),n(1233)),z=n(880),L=n.n(z),D=(n(1284),n(1359),n(1361),n(1369),n(1283),n(881),n(882),n(1285),n(883),n(1399)),V=n(1364),U=n(1372),G=(n(1286),n(1379)),Y=n(1365),M=n(1356),H=n(1234),K=n.n(H),J=(n(1287),n(1288),n(1393)),Q=n(1380),X=n(1235),Z=n.n(X),$=n(1405),ee=n(1382),te=n(1395),ne=n(1381),ae=(n(1289),n(1383),n(1396)),re=n(1251),ce=n.n(re),le=n(1274);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t.indexOf(n=c[a])>=0||(r[n]=e[n]);return r}var ue=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",marginTop:50,borderTop:"solid 1px lightgrey"},center:{flexDirection:"column"}}})),me=function(e){var t=e.children,n=e.disabled,a=void 0!==n&&n,r=e.center,c=void 0!==r&&r,l=e.visibleWhen,i=void 0===l||l,o=oe(e,["children","disabled","center","visibleWhen"]);if(!i)return null;var u=ue(),p=""+u.container;return void 0!==c&&1==c&&(p=p+" "+u.center),m.a.createElement(s.a,ie({pt:2},o,{className:p,disabled:!0}),a?m.a.Children.map(t,(function(e){return m.a.cloneElement(e,{disabled:!0})})):t)},se=(Object(x.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryroot:{borderBottom:"1px solid #CACACA"}}})),Object(x.a)((function(e){return{root:{backgroundColor:"#2c3e50"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)},toolBar:{paddingLeft:"50px"}}})),function(){function e(){}return e.prototype.then=function(t,n){var a=new e,r=this.s;if(r){var c=1&r?t:n;if(c){try{pe(a,1,c(this.v))}catch(e){pe(a,2,e)}return a}return this}return this.o=function(e){try{var r=e.v;1&e.s?pe(a,1,t?t(r):r):n?pe(a,1,n(r)):pe(a,2,r)}catch(e){pe(a,2,e)}},a},e}());function pe(e,t,n){if(!e.s){if(n instanceof se){if(!n.s)return void(n.o=pe.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(pe.bind(null,e,t),pe.bind(null,e,2));e.s=t,e.v=n;var a=e.o;a&&a(e)}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function de(e,t){return void 0===t&&(t=0),e?("string"==typeof e?Number(e):e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}var fe=function(e,t){return new URLSearchParams(e.search).get(t)},be=function(e){void 0===e&&(e=10);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},Ee=function(e){return m.a.createElement("img",e)},ve=Object(x.a)((function(e){return{button:{textTransform:"none"}}})),he=function(e){var t=e.label,n=e.caption,a=e.action,r=e.loading,c=e.processing,l=e.children,i=e.visibleWhen,o=void 0===i||i,u=e.disableWhen,s=void 0!==u&&u,f=oe(e,["label","caption","action","loading","processing","children","visibleWhen","disableWhen"]);if(!o)return null;var b=ve();return m.a.createElement(p.a,ie({size:"small",variant:"contained",color:"primary",onClick:a,style:{margin:2},disabled:s,endIcon:(r||c)&&m.a.createElement(d.a,ie({size:18,color:"secondary"},f)),className:b.button},f),t||n||l)},ye=function(e){var t=e.label,n=e.caption,a=e.children,r=oe(e,["label","caption","children"]);return m.a.createElement(he,ie({size:"medium"},r,{variant:"text"}),t||n||a||"Back")},ge=Object(x.a)((function(e){return{button:{textTransform:"none"}}})),Oe=function(e){var t=e.caption,n=e.href,a=e.children,r=e.visibleWhen,c=void 0===r||r,l=e.disableWhen,i=void 0!==l&&l,o=e.target,u=void 0===o?"_blank":o,s=e.Icon,d=oe(e,["caption","href","children","visibleWhen","disableWhen","target","Icon"]);if(!c)return null;var f=ge();return m.a.createElement(p.a,ie({size:"small",variant:"outlined",color:"primary",href:n,style:{margin:2},disabled:i,className:f.button,endIcon:s&&m.a.createElement(s,null),target:u},d),t||a)},je=Object(x.a)({root:{marginTop:10,paddingLeft:20,paddingRight:20},title:{padding:10}}),Se=function(e){var t=e.caption,n=e.children,a=je();return m.a.createElement(f.a,{className:a.root},t&&m.a.createElement(C.a,{variant:"h6",component:"h3",className:a.title},t),m.a.createElement(b.a,null,n))},we=m.a.createContext(),xe=function(e,t,n,a){return n&&"function"==typeof n?n(e):n&&"string"==typeof n?P.a.get(e,""+n)||a:P.a.get(e,t)||a},Ce=function(e,t){var n=t.id||t.name,a=t.expr;if(e){var r=t.onChange||e.handleChange;return{name:n,value:xe(e.context,n,a,""),onChange:r}}var c=t.context,l=t.onChange;return{name:n,value:c?xe(c,n,a):t.value||"",onChange:function(e,t){void 0===t&&(t=!1),l(t?e.target.checked:e.target.value)}}},ke=function(){return m.a.useContext(we)},Pe=function(e){var t=e.editable,n=void 0===t||t,a=e.readOnly,r=void 0!==a&&a,c=e.text,l=e.caption,i=oe(e,["visibleWhen","editable","readOnly","text","caption"]),o=ke(),u=Ce(o,i),s=!1;return!r&&n||(s=!0),m.a.createElement(T.a,{control:m.a.createElement(I.a,ie({checked:"string"!=typeof u.value&&u.value,disabled:s},i,u,{onChange:function(e){u.onChange(e,!0)}})),label:c||l})},Ne=(Object(x.a)((function(e){return{formControl:{marginTop:3}}})),function(e){var t=e.visibleWhen,n=void 0===t||t,a=oe(e,["visibleWhen"]);return n?m.a.createElement(d.a,a):null}),Ae={root:{padding:0},center:{display:"flex",flexDirection:"column",alignItems:"center"}},Te=function(e){var t,n,a=e.children,r=e.center,c=void 0!==r&&r,l=e.width,i=oe(e,["children","center","width"]);return m.a.createElement(E.a,ie({},i,{style:(t={center:c,width:l},n={},t.width&&(n.width=t.width),ie({},Ae.root,t.center?Ae.center:{},n,t.style))}),a)};function Ie(e){var t=e.inputRef,n=e.onChange,a=oe(e,["inputRef","onChange"]);return m.a.createElement(F.a,ie({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:""===t.value?0:t.value}})},thousandSeparator:!0,isNumericString:!0,decimalScale:2,fixedDecimalScale:!0,readOnly:!e.editable||e.readOnly},a))}var We=Object(x.a)((function(e){return{button:{textTransform:"none"}}})),Be=function(e){var t=e.label,n=e.caption,a=void 0===n?"Delete":n,r=e.action,c=e.attachment,l=e.color,i=void 0===l?"secondary":l,o=e.children,s=e.visibleWhen,f=void 0===s||s,b=e.url,E=void 0===b?"/filipizen/fileserver/delete":b,v=oe(e,["label","caption","action","attachment","color","loading","processing","children","visibleWhen","disableWhen","url"]);if(!f)return null;var h=Object(u.useState)(!1),y=h[0],g=h[1],O=We();return m.a.createElement(p.a,ie({size:"small",variant:"contained",color:i,onClick:function(){g(!0),A.a.delete(E+"?key="+c.key).then((function(e){if(g(!1),"OK"!==e.data.status)throw Error(e.data.error);r(c)}))},style:{margin:2},disabled:y,endIcon:y&&m.a.createElement(d.a,ie({size:18,color:"secondary"},v)),className:O.button},v),t||a||o)},_e=function(e){var t=e.caption,n=e.visibleWhen,a=e.Icon;return void 0===n||n?m.a.createElement(Oe,{caption:void 0===t?"Download":t,href:e.href,Icon:void 0===a?L.a:a}):null},Re=function(e){var t=e.label,n=e.caption,a=oe(e,["label","caption"]),r=ke(),c=Ce(r,a);return m.a.createElement(v.a,ie({label:t||n||"Email Address",fullWidth:!0,autoComplete:"off"},a,c,{type:"email",onChange:function(e){var t=e.target;c.onChange({target:{name:t.name,value:t.value.toLowerCase()}})}}))},qe=function(e){var t=e.caption,n=e.context,a=e.expr,r=e.exprValue,c=e.children,l=e.blur,i=void 0!==l&&l,o=oe(e,["caption","context","expr","exprValue","children","blur"]),u=r||c,s=ke();return n&&a?u="function"==typeof a?a(n):P.a.get(n,a):s&&(u=Ce(s,ie({},o,{name:a})).value),m.a.createElement("div",{style:ie({},Fe.wrapper,o.style,i?Fe.blur:{})},t&&m.a.createElement("label",{style:ie({},Fe.caption,o.captionStyle)},t),m.a.createElement("label",{style:ie({},Fe.label,o.labelStyle)},u?u.toString():c))},Fe={wrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingTop:5,paddingBottom:5},caption:{color:"#000000DE",fontSize:14,width:200,fontWeight:"bold",opacity:.9},label:{fontSize:"14px"},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},ze=function(e){var t=e.msg;return t?m.a.createElement(qe,{style:{color:"red"}},t):null},Le=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,r=e.row,c=void 0!==r&&r,l=e.center,i=void 0!==l&&l,o=e.minWidth,u=oe(e,["children","visibleWhen","row","center","minWidth"]);if(!a)return null;var s=function(e){var t=e.width,n=e.center,a=void 0!==n&&n,r=e.row,c=void 0!==r&&r,l={};return t&&(l.width=t),c&&(l.display="flex",l.flexDirection="row",l.alignItems="center"),a&&(l=ie({},l,De.center)),l}(ie({},u,{center:i,row:c,minWidth:o}));return m.a.createElement("div",ie({style:ie({},De.panel,s,u.style)},u),t)},De={panel:{display:"flex",flexDirection:"column"},center:{display:"flex",flexDirection:"column",alignItems:"center"}},Ve=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,r=e.handler,c=oe(e,["children","visibleWhen","handler"]);if(!a)return null;var l=function(e){var t=e.context,n=void 0===t?{}:t,a=e.handler,r=oe(e,["context","handler"]);return ie({context:n,handleChange:function(e,t){void 0===t&&(t=!1);var r=e.target.name,c="boolean"==typeof t&&t?e.target.checked:e.target.value,l=Object(W.a)(n,(function(e){P.a.set(e,r,c)}));a(l)}},r)}(ie({},c,{handler:r}));return m.a.createElement(we.Provider,{value:l},m.a.createElement(Le,c,"function"==typeof t?t(l):t))};Object(x.a)((function(e){return{root:{flexWrap:"flex"}}})),Object(x.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#ecf0f1"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)}}}));function Ue(e){var t=e.inputRef,n=e.onChange,a=oe(e,["inputRef","onChange"]);return m.a.createElement(F.a,ie({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:""===t.value?0:t.value}})},thousandSeparator:!0,decimalScale:0}))}function Ge(e){var t=e.inputRef,n=e.onChange,a=oe(e,["inputRef","onChange"]);return m.a.createElement(F.a,ie({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:""===t.value?0:t.value}})},thousandSeparator:!0,isNumericString:!0,decimalScale:0,allowNegative:!1,defaultValue:0}))}function Ye(e){var t=e.inputRef,n=e.onChange,a=oe(e,["inputRef","onChange"]);return m.a.createElement(F.a,ie({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:""===t.value?0:t.value}})},thousandSeparator:!1,isNumericString:!0,decimalScale:0}))}var Me=function(e){var t=e.value;return m.a.createElement("div",null,m.a.createElement("label",null,e.caption),m.a.createElement("label",null,t))},He=function(e){var t=e.visibleWhen,n=void 0===t||t,a=e.showMessage,r=void 0===a||a,c=e.msgStyle,l=void 0===c?{}:c,i=oe(e,["visibleWhen","showMessage","msgStyle"]);if(!n)return null;var o=i.msg||"Processing...";return m.a.createElement("div",{style:Ke.container},m.a.createElement("div",{style:Ke.progress},m.a.createElement(Ne,ie({size:16,color:"secondary"},i))),r&&m.a.createElement("div",{style:ie({},Ke.msg,l)},o))},Ke={container:{display:"flex",flexDirection:"row",marginTop:5,marginBottom:5},progress:{paddingRight:10},msg:{color:"#f50057"}},Je=(Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),function(e){var t=e.children,n=e.onAccept,a=e.onCancel,r=e.showActions,c=void 0===r||r,l=e.showOk,i=void 0===l||l,o=e.showCancel,u=void 0===o||o;return m.a.createElement(D.a,{open:e.open},m.a.createElement(U.a,null,e.caption),m.a.createElement(V.a,null,t,c&&m.a.createElement(me,null,!i&&m.a.createElement("div",null),u&&m.a.createElement(he,{variant:"text",caption:"Cancel",onClick:a}),!u&&m.a.createElement("div",null),i&&m.a.createElement(he,{caption:"OK",onClick:n}))))}),Qe=function(e){var t=e.title,n=e.type,a=void 0===n?"alert":n,r=e.msg,c=e.acceptCaption,l=void 0===c?"OK":c,i=e.onAccept,o=e.onCancel,u=e.children,s=e.processing,p=void 0!==s&&s;return m.a.createElement(D.a,{open:e.open},t&&m.a.createElement(U.a,null,t||("alert"===a?"Information":"Confirmation")),m.a.createElement(V.a,null,u||m.a.createElement(G.a,null,r)),m.a.createElement(Y.a,null,"alert"!==a&&m.a.createElement(he,{variant:"text",caption:"Cancel",onClick:o}),m.a.createElement(he,{caption:l,onClick:i,disableWhen:p,processing:p})))};Object(x.a)((function(e){return{formControl:{marginTop:3}}}));var Xe=Object(x.a)((function(e){return{formControl:{marginTop:3}}}));function Ze(e){var t=e.inputRef,n=oe(e,["inputRef"]);return m.a.createElement(K.a,ie({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var $e=function(e){var t=e.label,n=e.caption,a=e.required,r=void 0!==a&&a,c=oe(e,["label","caption","required"]),l=ke(),i=Ce(l,c),o=Xe();return m.a.createElement(R.a,{className:o.formControl,fullWidth:!0},m.a.createElement(B.a,{required:r,htmlFor:"formatted-text-mask-input"},t||n||"Mobile No."),m.a.createElement(M.a,ie({required:r},c,i,{id:"formatted-text-mask-input",inputComponent:Ze})))},et=function(e){var t,n=(t={header:null,left:null,center:null,right:null,footer:null},m.a.Children.forEach(e.children,(function(e){if(e){var n=e.props.target||"center";t[n]||(t[n]=[]),t[n].push(e)}})),t),a=n.center,r=n.right;return m.a.createElement("div",{className:"_12CqV"},m.a.createElement("div",{className:"_3rBoA"},m.a.createElement("div",{className:"_1Pt6o"},m.a.createElement("aside",{className:"_3GVFn _1JqCZ"},m.a.createElement("div",{style:{position:"fixed",overflowY:"auto",overflowX:"hidden",maxHeight:"90%",marginRight:10}},n.left)),m.a.createElement("div",{className:"_3FaYg"},a),m.a.createElement("aside",{className:"_3GVFn _2yu7F"},r))))};var tt=function(e){var t=e.item,n=e.Control;return m.a.createElement("div",{style:at.customItemContainer},m.a.createElement(J.a,{value:t.objid}),m.a.createElement(n,{item:t}))},nt=function(e){var t,n=e.children,a=e.readOnly,r=void 0!==a&&a,c=e.editable,l=void 0===c||c,i=e.list,o=e.Control,u=oe(e,["children","caption","readOnly","editable","list","Control"]),s=ke(),p=Ce(s,u),d=r||!l;return t=i?i.map((function(e,t){return o?m.a.createElement(tt,{key:""+e.objid+t,item:e,Control:o}):m.a.createElement(T.a,{key:""+e.objid+t,value:e.objid,control:m.a.createElement(J.a,null),label:e.caption||e.title,disabled:d})})):m.a.Children.map(n,(function(e){var t=e.props,n=t.readOnly,a=void 0!==n&&n,r=t.editable,c=void 0===r||r,l=oe(t,["readOnly","editable"]);return m.a.createElement(T.a,ie({value:e.props.value,control:m.a.createElement(J.a,null),label:e.props.caption,disabled:d||a||!c},l))})),m.a.createElement(R.a,{component:"fieldset"},m.a.createElement(Q.a,ie({},u,{value:p.value,onChange:function(e,t){p.onChange({target:{name:u.name,value:t}})},style:{display:"flex"}}),t))},at={customItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",border:"1px solid #aaa"}};Z.a.setAppElement("#root");var rt=function(e){return m.a.createElement("div",{style:{height:e.height||20}},e.children)},ct=Object(x.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),lt=function(e){var t=ke(),n=Ce(t,e),a=e.caption,r=e.items,c=e.name,l=e.expr,i=oe(e,["caption","items","name","expr"]),o=ct(),u=function(e,t){return e.map((function(e){var n;return"function"==typeof t&&(n=t(e)),"string"==typeof t&&"object"==typeof e&&(n=P.a.get(e,t)),m.a.createElement(_.a,{key:be(),value:e},n||e)}))}(r,l);return l&&(n.renderValue=function(e){return e[l]}),m.a.createElement(R.a,{className:o.formControl},m.a.createElement(B.a,null,a),m.a.createElement(q.a,ie({},i,n,{name:c}),u))},it=(Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(1),marginBottom:e.spacing(1),paddingRight:0},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),function(e){var t=e.caption,n=e.title,a=e.children;return m.a.createElement(qe,{labelStyle:ie({},ot.title,e.style)},t||n||a)}),ot={title:{paddingTop:"10px",color:"#27ae60",fontSize:20,fontWeight:"bold"}},ut=function(e){return m.a.createElement(qe,{labelStyle:mt.title},e.caption||e.title||e.children)},mt={title:{fontSize:18,fontWeight:"bold",opacity:.85}},st=Object(x.a)((function(e){return{root:{width:"100%",backgroundColor:"transparent",marginBottom:20},selectedStep:{color:"#27ae60 !important"}}})),pt=function(e){var t=e.orientation,n=e.completedStep,a=e.handleStep,r=e.steps,c=e.activeStep,l=st(),i=n>0?n-1:c,o=0;return m.a.createElement($.a,{className:l.root,activeStep:i,orientation:t||"vertical"},r.map((function(e,t){if(!1===e.visible)return o++,null;if(e.caption){var r={},u={};t===c&&(u.completed=l.selectedStep);var s=m.a.createElement(te.a,r,e.caption);return a&&t-o<=n&&(s=m.a.createElement(ne.a,{onClick:function(){return a(t)},completed:t-o<=i},m.a.createElement(te.a,ie({classes:u,StepIconProps:{classes:u}},r),e.caption))),m.a.createElement(ee.a,ie({key:e.caption},{}),s)}})))},dt={currency:de,number:function(e){return void 0===e&&(e=0),e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},ft=Object(x.a)((function(e){return{head:{fontWeight:"bold",opacity:.8},paper:{width:"100%",marginBottom:e.spacing(2)},pagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),bt=function(e){var t=e.items,n=void 0===t?[]:t,a=e.showPagination,r=void 0===a||a,c=e.rowsPerPage,l=void 0===c?5:c,i=e.fetchList,o=e.singleSelect,s=void 0!==o&&o,p=e.multiSelect,d=void 0!==p&&p,f=e.keyId,b=e.onSelectItems,E=oe(e,["items","showPagination","rowsPerPage","fetchList","singleSelect","multiSelect","keyId","onSelectItems"]),v=Object(u.useState)(0),x=v[0],C=v[1],k=Object(u.useState)(l),N=k[0],A=k[1],T=Object(u.useState)([]),B=T[0],_=T[1];Object(u.useEffect)((function(){i&&i({start:x,limit:N})}),[x,N]),Object(u.useEffect)((function(){b&&b(B)}),[B]);var R=ft(),q=n.length===N?-1:x*N+n.length,F=d||s?{numSelected:B.length,rowCount:-1===q?N:n.length,multiSelect:d,singleSelect:s,onSelectAllClick:function(){_(0===B.length?n:[])},onSelectItem:function(e,t){var n=B.findIndex((function(e){return e[f]===t[f]}));_(n>=0?Object(W.a)((function(e){return e.filter((function(e){return e[f]!==t[f]}))})):d?B.concat(t):[t])}}:{},z=function(e,t){var n=ft(),a=m.a.Children.map(e.children,(function(e){var t=e.props,a=t.caption,r=oe(t,["caption","expr"]);return a?m.a.createElement(S.a,ie({key:be(),className:n.head},r),a):null}));if(t.singleSelect)a.unshift(m.a.createElement(S.a,{key:be(),padding:"checkbox"},m.a.createElement("span",null," ")));else if(t.multiSelect){var r=t.numSelected,c=t.rowCount,l=t.onSelectAllClick;a.unshift(m.a.createElement(S.a,{key:be(),padding:"checkbox"},m.a.createElement(I.a,{indeterminate:r>0&&r<c,checked:c>0&&r===c,onChange:l})))}return a}(e,F),L=function(e,t,n){var a=e.items,r=e.children,c=[];return(void 0===a?[]:a).forEach((function(a){var l=m.a.Children.map(r,(function(e,t){var n=e.props,r=n.expr,c=n.format,l=n.children,i=oe(n,["caption","expr","format","children"]),o=function(e){var t,n=e.item,a=e.expr,r=e.children;if(a)if("string"==typeof a){var c=dt[e.format],l=P.a.get(n,a);t=c?c(l):l}else t=a(n).toString();else t="function"==typeof r?r(n):function e(t,n){return m.a.Children.map(n,(function(n){var a=n.props,r=a.action,c=a.children;if("function"==typeof r)return m.a.cloneElement(n,{action:function(e){e.stopPropagation(),r(t)}},c);if(c.length>0){var l=e(t,c);return m.a.cloneElement(n,{},l)}return n}))}(n,r);return t}({item:a,expr:r,format:c,children:l}),u=0===t?{component:"th",scope:"row"}:{};return m.a.createElement(S.a,ie({key:be()},u,i),o)}));if(n.multiSelect||n.singleSelect){var i=e.keyId,o=t.findIndex((function(e){return e[i]===a[i]}))>=0;l.unshift(m.a.createElement(S.a,{key:be(),padding:"checkbox"},m.a.createElement(I.a,{checked:o}))),c.push(m.a.createElement(j.a,{hover:!0,onClick:function(e){return n.onSelectItem(e,a)},role:"checkbox",tabIndex:-1,key:be(),selected:o},l))}else c.push(m.a.createElement(j.a,{key:be()},l))})),c}(e,B,F);return m.a.createElement(y.a,{className:R.paper},m.a.createElement(h.a,null,m.a.createElement(g.a,ie({},E,{size:"small"}),m.a.createElement(O.a,null,m.a.createElement(j.a,null,z)),m.a.createElement(w.a,null,L))),r&&m.a.createElement(ae.a,{rowsPerPageOptions:[5,10,25],component:"div",count:q,rowsPerPage:N,page:x,onChangePage:function(e,t){C(t),_([])},onChangeRowsPerPage:function(e){A(parseInt(e.target.value,10))},labelDisplayedRows:function(e){var t=e.to;return e.from+"-"+t+" of "+(-1!==e.count?t:"?")}}))},Et=function(e){return m.a.createElement("div",null,e.children)},vt=function(e){var t=e.label,n=e.caption,a=e.visibleWhen,r=void 0===a||a,c=e.editable,l=void 0===c||c,i=e.readOnly,o=void 0!==i&&i,u=e.containerStyle,s=e.textCase,p=void 0===s?"UPPER":s,d=e.blur,f=void 0!==d&&d,b=e.expr,E=oe(e,["label","caption","visibleWhen","editable","readOnly","containerStyle","textCase","blur","expr"]);if(!r)return null;var h=ke(),y=Ce(h,ie({},E,{expr:b})),g={};!o&&l||(g.readOnly=!0);var O=!0===f?ht.blur:{};return m.a.createElement("div",{style:ie({},ht.root,u)},m.a.createElement(v.a,ie({label:n||t,fullWidth:!0,inputProps:g,autoComplete:"off",helperText:E.error,size:"small"},E,y,{style:ie({},O),onChange:function(e){var t=e.target,n=t.name,a=t.value;/upper/i.test(p)?y.onChange({target:{name:n,value:a.toUpperCase()}}):y.onChange(e)}})))},ht={root:{width:"100%",marginBottom:5},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},yt=function(e){var t=e.caption,n=e.exprValue,a=e.children,r=oe(e,["caption","exprValue","children"]);return m.a.createElement(s.a,ie({fontSize:"1.7em",fontWeight:"bold"},r),t||n||a)},gt=function(e){var t=e.onUpload,n=e.fileId,a=e.caption,r=void 0===a?"Upload":a,c=e.color,l=void 0===c?"secondary":c,i=e.visibleWhen,o=e.multiple,s=void 0!==o&&o,d=e.url,f=void 0===d?"/filipizen/fileserver/upload":d;if(void 0!==i&&!i)return null;var b=Object(u.useState)(),E=b[0],v=b[1],h=Object(u.useState)("")[1],y=Object(u.useState)(0)[1],g=Object(u.useState)(!1),O=g[1];return m.a.createElement("div",{className:"_1L-R5"},m.a.createElement("div",{className:"_CQGbS"},g[0]?m.a.createElement("div",{className:"_3Qhld"},m.a.createElement(He,{msg:"Uploading... ",msgStyle:{fontSize:"0.8rem"}})):m.a.createElement(m.a.Fragment,null,m.a.createElement("input",{className:"_1d5R2",id:n,type:"file",onChange:function(e){y(0);var a=e.target.files[0];h(a),a&&function(e){v(null),O(!0);var a=new FormData;a.append("file",e),a.append("key",n+"/"+e.name),A.a.post(f,a,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);y(t)}}).then((function(e){t({etag:e.data.etag,key:e.data.key,location:e.data.location}),O(!1)})).catch((function(e){v("Error. Please try again."),O(!1)}))}(a)},multiple:s}),m.a.createElement("label",{htmlFor:n,className:"_3sfa3"},m.a.createElement(p.a,{variant:"outlined",component:"span",color:l,size:"small"},r||"Upload"),E&&m.a.createElement("label",{style:{color:"red",fontSize:"0.7rem"}},E)))))},Ot=function(e){return e.indexOf(":")>0},jt={},St=function(e,t,n,a){var r,c;return void 0===t&&(t="default"),void 0===a&&(a={debug:!1}),null==jt[e]&&(r=Ot(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=ce()("/gdx");return r.connect(),{invoke:function(c,l,i){(function(c,l){try{var i=new Promise((function(i,o){r.emit("invoke",{service:e,method:c,channel:t,connection:n,module:a,args:l},(function(e){"OK"===e.status?i(e.data):o(e.msg)})),r.on("disconnect",(function(){console.log("AsyncFetch disconnted")}))}));return Promise.resolve(i)}catch(e){return Promise.reject(e)}})(c,l).then((function(e){return i(null,e)})).catch((function(e){/syntax/i.test(e)?i("Partner is currently not avaible. Please try again later.",null):i(e,null)}))}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e,t,n){return{invoke:function(a,r,c){fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:n,connection:t,name:e,action:a},args:r?[r]:null})}).then((function(e){return e.json()})).then((function(e){e.error?c(e.error,null):(Array.isArray(e)||0!==Object.keys(e).length||c(null,null),Array.isArray(e)||"ERROR"!==e.status?c(null,e):c(e.msg,null))})).catch((function(e){return c(e.toString(),null)}))}}}((c=ie({serviceName:e,connection:t,module:n},a)).serviceName,c.connection,c.module),jt[e]=r),jt[e]},wt=function(e,t,n,a){void 0===t&&(t="default"),void 0===a&&(a={debug:!1});var r,c="Async"+e;return null==jt[c]&&(r=Ot(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=ce()("/gdx");return r.connect(),{invoke:function(c,l,i){try{var o=new Promise((function(o,u){r.emit("invoke",{service:e,method:c,connection:n,module:a,channel:t,args:l},(function(e){"OK"===e.status?(i&&i(!1,e.data),o(e.data)):(i&&i(e.msg),u(e.msg))}))}));return Promise.resolve(o)}catch(e){return Promise.reject(e)}}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e){return t=e.serviceName,n=e.connection,a=e.module,{invoke:function(e,r){try{return Promise.resolve(fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:a,connection:n,name:t,action:e},args:r?[r]:null})})).then((function(e){if(200!==e.status)throw e.statusText;return Promise.resolve(e.json())}))}catch(e){return Promise.reject(e)}}};var t,n,a}(ie({serviceName:e,connection:t,module:n},a)),jt[c]=r),jt[c]},xt=Object(u.createContext)(),Ct=Object(u.createContext)(),kt=function(e){var t=e.children,n=Object(le.a)(e.reducer,e.initialState);return m.a.createElement(xt.Provider,{value:n[0]},m.a.createElement(Ct.Provider,{value:n[1]},t))},Pt=function(){var e=Object(u.useContext)(xt);if(void 0===e)throw new Error("useStateValue must be used within a StateProvider");return e},Nt=function(){var e=Object(u.useContext)(Ct);if(void 0===e)throw new Error("useStateDispatch must be used within a StateProvider");return e},At=function(){return[Pt(),Nt()]},Tt=(n(1290),n(224)),It=(n(96),function(e){var t=e.partner,n=e.onVerify,a=e.onCancel,r=e.connection,c=void 0===r?"epayment":r,s=e.visibleWhen,p=void 0===s||s,d=e.history,f=e.showName,b=void 0!==f&&f,E=e.module,v=e.title,h=e.subtitle,y=void 0===h?"Email Verification":h,g=e.emailRequired,O=e.contact;if(!p)return null;var j=Object(u.useState)(),S=Object(o.a)(j,2),w=S[0],x=S[1],C=Object(u.useState)(O),k=Object(o.a)(C,2),P=k[0],N=k[1],A=Object(u.useState)({}),T=Object(o.a)(A,2),I=T[0],W=(T[1],Object(u.useState)()),B=Object(o.a)(W,2),_=B[0],R=B[1],q=Object(u.useState)(),F=Object(o.a)(q,2),z=F[0],L=F[1],D=Object(u.useState)(!1),V=Object(o.a)(D,2),U=V[0],G=V[1],Y=Object(u.useState)(!1),M=Object(o.a)(Y,2),H=M[0],K=M[1],J=function(){var e=Object(i.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wt("".concat(t.id,":VerifyEmailService"),c),e.abrupt("return",n.invoke("verifyEmail",{email:P.email,mobileno:P.mobileno}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=Object(u.useRef)(),X=E&&E.title||v||null;return m.a.createElement(Se,null,X&&m.a.createElement(yt,null,X),m.a.createElement(it,null,y),m.a.createElement(rt,null),m.a.createElement(ze,{msg:z}),m.a.createElement(Ve,{visibleWhen:!w,context:P,handler:N},m.a.createElement(qe,null,"A validation key will be sent to your email. Please make sure your email is valid and you have access to it."),m.a.createElement(rt,{height:10}),m.a.createElement("form",{ref:Q},!0===b&&m.a.createElement(m.a.Fragment,null,m.a.createElement(vt,{label:"Full Name",name:"name",autoFocus:!0,required:!0}),m.a.createElement(vt,{label:"Address",name:"address",required:!0})),m.a.createElement(Re,{name:"email",required:g,error:I.email,helperText:I.email,autoFocus:!b}),m.a.createElement($e,{name:"mobileno"}),m.a.createElement(me,{disabled:U},m.a.createElement(ye,{action:function(){"function"===typeof a&&a(),d&&d.goBack()}}),m.a.createElement(he,{label:"Submit",action:function(){Q.current.reportValidity()&&(P.email||P.mobileno?(L(null),G(!0),J().then((function(e){x(e.key),G(!1)})).catch((function(e){L(e),G(!1)}))):L("Please specify email or Mobile No."))},loading:U})))),m.a.createElement(Qe,{open:H,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){L(null),J().then((function(e){x(e.key),K(!1)})).catch((function(e){L(e),K(!1)}))},onCancel:function(){return K(!1)}}),m.a.createElement(Le,{visibleWhen:!!w},m.a.createElement(qe,null,"Please check your email inbox or spam for the sent 6-digit validation key. If you have not received any email, please click resend code."),m.a.createElement(rt,{height:10}),m.a.createElement(vt,{label:"Email Code",placeholder:"Enter code sent to your email",name:"keycode",value:_,onChange:R,maxLength:6,autoFocus:!0}),m.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},m.a.createElement(he,{label:"Resend Code",action:function(){return K(!0)},variant:"text"})),m.a.createElement(me,null,m.a.createElement(he,{label:"Verify",visibleWhen:w,action:function(){w!==_?L("Code is incorrect"):n(P)}}))))}),Wt=function(e){var t,n=e.partner,a=e.moveNextStep,r=e.movePrevStep,c=e.title,l=e.subtitle,i=void 0===l?"Email Verification":l,s=e.visibleWhen,p=void 0===s||s,d=e.emailRequired,f=void 0!==d&&d,b=e.showName,E=void 0!==b&&b,v=e.contact,h=void 0===v?{}:v;if(!p)return null;var y=At(),g=Object(o.a)(y,2),O=(g[0],g[1]),j=Object(u.useState)(!1),S=Object(o.a)(j,2),w=(S[0],S[1],Object(u.useState)(!1)),x=Object(o.a)(w,2);x[0],x[1];return m.a.createElement(It,(t={emailRequired:!1,partner:n,title:c,subtitle:i,onVerify:function(e){O({type:"SET_CONTACT",contact:e}),a(e)},onCancel:r},Object(Tt.a)(t,"emailRequired",f),Object(Tt.a)(t,"contact",h),Object(Tt.a)(t,"showName",E),t))},Bt=function(e){var t=e.onCancel,n=e.onCheckout,r=e.bill,c=e.loading,l=e.error,i=e.payee,s=void 0===i?{}:i,p=Object(u.useState)(s),d=Object(o.a)(p,2),f=d[0],b=d[1],E=Object(u.useState)({}),v=Object(o.a)(E,2),h=v[0],y=v[1],g=Object(u.useState)(!1),O=Object(o.a)(g,2),j=O[0],S=O[1];Object(u.useEffect)((function(){S(null!==l&&void 0!==l)}),[l]);return m.a.createElement(Se,null,m.a.createElement(Le,{style:{maxWidth:400}},m.a.createElement(Te,{center:!0},m.a.createElement(yt,null,"Confirm Transaction"),m.a.createElement(rt,null),m.a.createElement(qe,{style:Object(a.a)({},_t.text)},"Please confirm and fill up name and address of the payer for your electronic official receipt and click Continue to proceed for payment."),m.a.createElement(rt,null)),m.a.createElement(Ve,{context:f,handler:b},m.a.createElement(vt,{name:"paidby",caption:"Paid By Name",required:!0,error:h.paidby,helperText:h.paidby,autoFocus:!0}),m.a.createElement(vt,{name:"paidbyaddress",caption:"Paid By Address",required:!0,error:h.paidbyaddress,helperText:h.paidbyaddress})),m.a.createElement(rt,null),m.a.createElement(Le,{style:_t.infoContainer},m.a.createElement("div",{style:Object(a.a)(Object(a.a)({},_t.infoContainer),{alignItems:"center"})},m.a.createElement("label",null,"Payment Details"),m.a.createElement("h4",null,r&&r.paymentdetails)),m.a.createElement("div",{style:_t.amountContainer},m.a.createElement("label",{style:_t.amount},r&&"Php ".concat(de(r.amount))))),m.a.createElement(rt,null),m.a.createElement(Qe,{open:j,title:"Error",onAccept:function(){return S(!1)},msg:"An error was encountered when processing your order. Please try again later or contact LGU for assistance."}),m.a.createElement(me,null,m.a.createElement(he,{variant:"text",caption:"Back",action:t}),m.a.createElement(he,{caption:"Continue",action:function(){var e={};f.paidby||(e.paidby="Required"),f.paidbyaddress||(e.paidbyaddress="Required"),y(e),0===Object.keys(e).length&&n(f)},disableWhen:c,loading:c}))))},_t={text:{display:"block",textAlign:"center"},infoContainer:{display:"flex",flexDirection:"column"},amountContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #aaa"},amount:{fontSize:24,fontWeight:800,padding:10}},Rt=function(e){var t=e.partner,n=e.payee,a=e.bill,r=e.error,c=e.payOptions,l=e.moveNext,i=Object(u.useState)(!1),s=Object(o.a)(i,2),p=s[0],d=(s[1],Object(u.useState)(!1)),f=Object(o.a)(d,2),b=f[0],E=f[1],v=Object(u.useState)(!1),h=Object(o.a)(v,2),y=h[0],g=h[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement(Qe,{title:"Acknowledgement",msg:"Kindly acknowledge and confirm with the Terms and Conditions before proceeding.",open:y,onAccept:function(){return g(!1)}}),m.a.createElement(rt,null),m.a.createElement(Le,{center:!0},m.a.createElement(Le,{style:qt.poContainer},m.a.createElement(Le,{center:!0},m.a.createElement(yt,{color:"green"},"Your Order")),m.a.createElement(rt,null),m.a.createElement("table",{style:qt.table},m.a.createElement("tr",null,m.a.createElement("td",{style:qt.rowTitle},"Agency"),m.a.createElement("td",{style:qt.rowInfo},t.title)),m.a.createElement("tr",null,m.a.createElement("td",{style:qt.rowTitle},"Particulars"),m.a.createElement("td",{style:qt.rowInfo},a.particulars)),m.a.createElement("tr",null,m.a.createElement("td",{style:qt.rowTitle},"Paid By"),m.a.createElement("td",{style:qt.rowInfo},n.paidby)),m.a.createElement("tr",null,m.a.createElement("td",{style:qt.rowTitle},"Amount"),m.a.createElement("td",{style:qt.rowInfo},"PHP ".concat(de(a.amount))))),m.a.createElement(rt,null),m.a.createElement(Pe,{checked:b,onChange:E,style:{marginRight:5},caption:m.a.createElement("span",{style:{fontSize:14,paddingTop:8}},"I acknowledge and agree to the Terms and Conditions of this e-payment facility.")}),m.a.createElement(rt,{height:10})),!p&&b&&m.a.createElement(m.a.Fragment,null,m.a.createElement(ze,{msg:r}),m.a.createElement(rt,null),m.a.createElement(qe,null,"Click to choose Type of Payment:"),m.a.createElement("div",{style:qt.partnerContainer},c&&c.map((function(e){return m.a.createElement("button",{key:e.objid,type:"submit",style:qt.payButton,onClick:function(){return function(e){b?l(e):g(!0)}(e)}},m.a.createElement(Ee,{src:"/assets/".concat(e.paypartnerid.toLowerCase(),".png"),width:"120",style:{cursor:"pointer"}}))}))))),m.a.createElement(rt,{height:40}))},qt={table:{width:"100%",marginLeft:"1em",marginRight:"1em",fontSize:"0.85rem"},rowTitle:{fontWeight:600,paddingRight:"2em",paddingBottom:"0.5em",verticalAlign:"top"},rowInfo:{verticalAlign:"top"},poContainer:{display:"flex",flexDirection:"column",border:"1px solid #aaa",borderRadius:5,padding:15,maxWidth:450},payButton:{border:"none",background:"none"},partnerContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"}},Ft=function(e,t){if(!t||void 0===t.objid)return 20;if(/fix/i.test(t.type))return t.fee;if(!/range/i.test(t.type))return 20;var n=t.ranges.find((function(t){var n=t.from?t.from:0,a=t.to?t.to:Number.MAX_SAFE_INTEGER;return e>=n&&e<a}));return n?n.fee:20},zt={paymentTypeContainer:{display:"flex",flexDirection:"column",minWidth:"300px"},paymentType:{paddingLeft:20},label:{fontWeight:"bold",textAlign:"right"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},Lt={label:{fontWeight:"bold"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",minWidth:"300px"}},Dt={row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},Vt={row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},Ut={paymaya:{component:function(e){var t=e.bill,n=e.onCancel,a=e.onCheckout,r=e.payOption,c=Object(u.useState)("wallet"),l=Object(o.a)(c,2),i=l[0],s=l[1],p=Object(u.useState)(0),d=Object(o.a)(p,2),f=d[0],b=d[1],E=Object(u.useState)(20),v=Object(o.a)(E,2),h=v[0],y=v[1];Object(u.useEffect)((function(){var e=Ft(t.amount,r.webfee);if(y(e),"wallet"===i)b(10+e);else{var n=Math.round(100*(t.amount/.985-t.amount))/100;b(n+e)}}),[i]);return m.a.createElement(Se,null,m.a.createElement(Te,{center:!0},m.a.createElement(Ee,{src:"/assets/paymaya.png",width:"120",style:{cursor:"pointer"}})),m.a.createElement(rt,null),m.a.createElement("div",{style:zt.paymentTypeContainer},m.a.createElement(qe,{labelStyle:zt.label},"Select Type of Payment"),m.a.createElement("div",{style:zt.paymentType},m.a.createElement(nt,{name:"payType",value:i,onChange:s},m.a.createElement(Me,{caption:"Wallet",value:"wallet"}),m.a.createElement(Me,{caption:"Credit/Debit Card",value:"card"})))),m.a.createElement(rt,null),m.a.createElement(Le,{row:!0,style:zt.row},m.a.createElement(qe,{labelStyle:zt.label},"Amount"),m.a.createElement(qe,{labelStyle:zt.label},"PHP ".concat(de(t.amount)))),m.a.createElement(Le,{row:!0,style:zt.row},m.a.createElement(qe,{labelStyle:zt.label},"Payment Partner Service Fee"),m.a.createElement(qe,{labelStyle:zt.label},"PHP ".concat(de(f)))),m.a.createElement(Le,{row:!0,style:zt.row},m.a.createElement(qe,{labelStyle:zt.label},"Sub-Total"),m.a.createElement(qe,{labelStyle:zt.label},"PHP ".concat(de(t.amount+f)))),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:n}),m.a.createElement(he,{caption:"Proceed Payment",action:function(){a({type:i,webfee:h,fee:f})}})))}},gcash:{component:function(e){var t=e.bill,n=e.onCancel,a=e.onCheckout,r=e.payOption,c=Object(u.useState)("wallet"),l=Object(o.a)(c,2),i=l[0],s=(l[1],Object(u.useState)(30)),p=Object(o.a)(s,2),d=p[0],f=p[1],b=Object(u.useState)(20),E=Object(o.a)(b,2),v=E[0],h=E[1];Object(u.useEffect)((function(){var e=Ft(t.amount,r.webfee);h(e),f(10+e)}),[]);return m.a.createElement(Se,null,m.a.createElement(Te,{center:!0},m.a.createElement(Ee,{src:"/assets/gcash.png",width:"120",style:{cursor:"pointer"}}),m.a.createElement(rt,null),m.a.createElement("h3",null,"Payment Details")),m.a.createElement(rt,{height:40}),m.a.createElement(Le,{row:!0,style:Lt.row},m.a.createElement(qe,{labelStyle:Lt.label},"Amount"),m.a.createElement(qe,{labelStyle:Lt.label},"PHP ".concat(de(t.amount)))),m.a.createElement(Le,{row:!0,style:Lt.row},m.a.createElement(qe,{labelStyle:Lt.label},"Payment Partner Service Fee"),m.a.createElement(qe,{labelStyle:Lt.label},"PHP ".concat(de(d)))),m.a.createElement(Le,{row:!0,style:Lt.row},m.a.createElement(qe,{labelStyle:Lt.label},"Sub-Total"),m.a.createElement(qe,{labelStyle:Lt.label},"PHP ".concat(de(t.amount+d)))),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:n}),m.a.createElement(he,{caption:"Proceed Payment",action:function(){a({type:i,webfee:v,fee:d})}})))}},lbp:{component:function(e){var t=e.bill,n=e.onCancel,a=e.onCheckout,r=e.payOption,c=Object(u.useState)("wallet"),l=Object(o.a)(c,2),i=l[0],s=(l[1],Object(u.useState)(20)),p=Object(o.a)(s,2),d=p[0],f=p[1];Object(u.useEffect)((function(){var e=Ft(t.amount,r.webfee);f(e)}),[]);return m.a.createElement(Se,{style:{maxWidth:"300px"}},m.a.createElement(Te,{center:!0},m.a.createElement(Ee,{src:"/assets/lbp.png",width:"150",style:{cursor:"pointer"}}),m.a.createElement(rt,null),m.a.createElement("h3",{labelStyle:Dt.label},"Payment Details")),m.a.createElement(rt,{height:40}),m.a.createElement("label",null,t.particulars),m.a.createElement(rt,null),m.a.createElement(Le,{row:!0,style:Dt.row},m.a.createElement(qe,{labelStyle:Dt.label},"Bill Amount"),m.a.createElement(qe,{labelStyle:Dt.label},"PHP ".concat(de(t.amount)))),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:n}),m.a.createElement(he,{caption:"Proceed Payment",action:function(){a({type:i,webfee:d,fee:d})}})))}},dbp:{component:function(e){var t=e.bill,n=e.onCancel,a=e.onCheckout,r=e.payOption,c=Object(u.useState)("wallet"),l=Object(o.a)(c,2),i=l[0],s=(l[1],Object(u.useState)(20)),p=Object(o.a)(s,2),d=p[0],f=p[1];Object(u.useEffect)((function(){var e=Ft(t.amount,r.webfee);f(e)}),[]);return m.a.createElement(Se,{style:{maxWidth:"300px"}},m.a.createElement(Te,{center:!0},m.a.createElement(Ee,{src:"/assets/dbp.png",width:"150",style:{cursor:"pointer"}}),m.a.createElement(rt,null),m.a.createElement("h3",{labelStyle:Vt.label},"Payment Details")),m.a.createElement(rt,{height:40}),m.a.createElement("label",null,t.particulars),m.a.createElement(rt,null),m.a.createElement(Le,{row:!0,style:Vt.row},m.a.createElement(qe,{labelStyle:Vt.label},"Bill Amount"),m.a.createElement(qe,{labelStyle:Vt.label},"PHP ".concat(de(t.amount)))),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:n}),m.a.createElement(he,{caption:"Proceed Payment",action:function(){a({type:i,webfee:d,fee:d})}})))}}},Gt="Could not contact payment partner. Please try again or contact LGU for assistance.",Yt=function(e){var t=e.contact,n=e.payee,r=e.bill,c=e.onCancel,s=e.payOption,p=e.partner,d=Object(u.useState)(!1),f=Object(o.a)(d,2),b=(f[0],f[1]),E=Object(u.useState)(!1),v=Object(o.a)(E,2),h=v[0],y=v[1],g=Object(u.useState)(),O=Object(o.a)(g,2),j=O[0],S=O[1],w=Object(u.useState)(!1),x=Object(o.a)(w,2),C=x[0],k=x[1],P=Object(u.useState)({}),N=Object(o.a)(P,2),A=N[0],T=N[1],I=Object(u.useState)("checkout"),W=Object(o.a)(I,2),B=W[0],_=W[1],R=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=document.getElementById("postform");e&&A.formaction&&e.submit()}),[A]),Object(u.useEffect)((function(){if(h){var e=setTimeout((function(){h&&(S(Gt),y(!1),k(!0),b(!1))}),25e3);return function(){return clearTimeout(e)}}}),[h]);var q=Ut[s.paypartnerid.toLowerCase()].component,F=[];return A.params&&Object.keys(A.params).forEach((function(e){F.push([e,A.params[e]])})),m.a.createElement(m.a.Fragment,null,m.a.createElement(Qe,{title:"Payment Processing Error",msg:"An error occurred while processing your request. Correct the problem and resubmit your request or kindly contact the LGU for assistance",open:C,onAccept:function(){return k(!1)}},m.a.createElement("ul",null,m.a.createElement("li",null,/timeout/gi.test(j)?"Could not contact payment partner. Please try again.":j))),m.a.createElement(Je,{open:h,showActions:!1},m.a.createElement(Le,{center:!0},m.a.createElement(rt,null),m.a.createElement("label",{style:{fontSize:20,fontWeight:800}},"Contacting Partner"),m.a.createElement("label",{style:{fontSize:14,opacity:.75}},"Kindly wait while we send your payment request to our partner."),m.a.createElement(He,{showMessage:!1}),m.a.createElement(rt,null))),m.a.createElement(q,{bill:r,onCancel:c,onCheckout:function(e){var c;c=Object(a.a)(Object(a.a)({},s),{},{checkout:e}),b(!0),S(null),y(!0),function(){var e=Object(i.a)(l.a.mark((function e(){var i,o,u,m,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.checkout.fee,o=c.checkout.webfee,(u=Object(a.a)(Object(a.a)({},r),{},{webfee:o,txnfee:i})).paidby=n.paidby,u.paidbyaddress=n.paidbyaddress,u.email=t.email,u.mobileno=t.mobileno,m=wt("".concat(p.id,":EPaymentService"),"epayment"),e.next=10,m.invoke("createPaymentOrder",u);case 10:return s=e.sent,d=wt("CloudPaymentService","epayment"),e.next=14,d.invoke("getPaymentOrder",{objid:s.objid});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){var t=St("CloudPaymentService","epayment"),n={objid:e.objid,payoption:c.objid,checkout:c.checkout};t.invoke("getPayPartner",n,(function(e,t){e?(S(Gt),y(!1),k(!0)):T(t)})),b(!1)})).catch((function(e){S(Gt),y(!1),k(!0),b(!1)})),_("payment")},payOption:s}),"payment"===B&&!0===A.isredirect?m.a.createElement("form",{id:"postform",method:"GET",action:A.formaction,ref:R},m.a.createElement("input",{type:"hidden",name:"id",value:A.id})):m.a.createElement("form",{id:"postform",method:"POST",action:A.formaction,ref:R},m.a.createElement(m.a.Fragment,null,F.map((function(e){return m.a.createElement("input",{key:e[0],type:"hidden",name:e[0],value:e[1]})})),m.a.createElement("input",{type:"hidden",name:"orgcode",value:"${po.orgcode}"}))),m.a.createElement(rt,{height:40}))},Mt=function(e){var t=e.module,n=e.partner,a=e.contact,r=e.initialStep,c=void 0===r?0:r,l=e.cancelPayment,i=e.bill,s=e.payee,p=function(){C((function(e){return e+1!==f.length?e+1:e}))},d=function(){C((function(e){return e-1>=0?e-1:e}))},f=[{name:"verifyemail",title:"Email Verification",component:It,actions:{onCancel:function(){e.history.goBack()},onVerify:function(e){setContact(e),p()}}},{name:"billing",title:t.title,component:t.component,actions:{onCancel:function(){l?l():d()},onSubmit:function(e){F(e),a.email?C(f.findIndex((function(e){return"checkout"===e.name}))):C(f.findIndex((function(e){return"verification"===e.name})))}}},{name:"verification",caption:"Email Verification",component:Wt,actions:{movePrevStep:function(){C(1)},moveNextStep:function(){C(f.findIndex((function(e){return"checkout"===e.name})))}}},{name:"checkout",title:"Checkout Order",component:Bt,actions:{onCancel:function(){C(1)},onCheckout:function(e){h(!0),j(null),St("CloudPaymentService","epayment").invoke("getPaymentPartnerOptions",{partnerid:n.id},(function(t,n){t?j(t.toString()):(Y(n),B(e),p()),h(!1)}))}}},{name:"paypartner",title:"Payment Options",component:Rt,actions:{onCancel:d,moveNext:function(e){J(e),C(f.findIndex((function(e){return"payment"===e.name})))}}},{name:"payment",title:"Online Payment",component:Yt,actions:{onCancel:d,onSubmit:function(){}}}],b=Object(u.useState)(!1),E=Object(o.a)(b,2),v=E[0],h=E[1],y=Object(u.useState)(),g=Object(o.a)(y,2),O=g[0],j=g[1],S=Object(u.useState)(c),w=Object(o.a)(S,2),x=w[0],C=w[1],k=Object(u.useState)(f[c]),P=Object(o.a)(k,2),N=P[0],A=P[1],T=Object(u.useState)(s),I=Object(o.a)(T,2),W=I[0],B=I[1],_=Object(u.useState)(i),R=Object(o.a)(_,2),q=R[0],F=R[1],z=Object(u.useState)(),L=Object(o.a)(z,2),D=L[0],V=(L[1],Object(u.useState)()),U=Object(o.a)(V,2),G=U[0],Y=U[1],M=Object(u.useState)({}),H=Object(o.a)(M,2),K=H[0],J=H[1],Q=Object(u.useState)(0),X=Object(o.a)(Q,2),Z=X[0];X[1];Object(u.useEffect)((function(){var e=f[x];A(e)}),[x]);var $=N.component,ee={contact:a,payee:W,bill:q,po:D,payOptions:G,payOption:K};return m.a.createElement($,Object.assign({},e,ee,N.actions,{error:O,module:t,loading:v,page:N,initialStep:Z,emailRequired:!0}))},Ht=function(e){var t=e.initialValue,n=void 0===t?{billtoqtr:4}:t,a=e.open,r=e.onAccept,c=e.onCancel,l=Object(u.useState)(n),i=Object(o.a)(l,2),s=i[0],p=i[1];return m.a.createElement(Je,{open:a,caption:"Pay Options",onAccept:function(){r(s)},onCancel:c,maxWidth:100},m.a.createElement(Ve,{context:s,handler:p},m.a.createElement(lt,{caption:"Quarter to Bill",name:"billtoqtr",items:[1,2,3,4]})))},Kt=function(e){var t=e.title,n=e.partner,a=e.onCancel,r=e.onSubmit,c=e.error,s=At(),p=Object(o.a)(s,2),d=p[0],f=(p[1],d.refno),b=d.txntype,E=d.contact,v=d.bill,h=Object(u.useState)(v),y=Object(o.a)(h,2),g=y[0],O=y[1],j=Object(u.useState)(c),S=Object(o.a)(j,2),w=S[0],x=S[1],C=Object(u.useState)(!1),k=Object(o.a)(C,2),P=k[0],N=k[1],A=Object(u.useState)(!1),T=Object(o.a)(A,2),I=T[0],W=T[1],B=Object(u.useState)(4),_=Object(o.a)(B,2),R=_[0],q=_[1],F=Object(u.useState)(),z=Object(o.a)(F,2),L=(z[0],z[1]),D=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={txntype:b,refno:f,qtr:R,showdetails:!0},a=wt("".concat(n.id,":OnlineBusinessBillingService"),"bpls"),e.next=4,a.invoke("getBilling",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){f&&(N(!0),x(null),D().then((function(e){var t=e.info;t.qtr=4,0==t.amount&&(t.items=[]),O(t),L("51001:".concat(t.billno)),N(!1)})).catch((function(e){x(e.toString()),N(!1)})))}),[R]);var V=E&&E.email===g.email;return m.a.createElement(Se,{style:{maxWidth:800}},m.a.createElement(yt,null,t),m.a.createElement(it,null,"Billing Information"),m.a.createElement(rt,null),m.a.createElement(ze,{msg:w}),m.a.createElement(Le,null,m.a.createElement(qe,{context:g,caption:"Application No.",expr:"appno"}),m.a.createElement(qe,{context:g,caption:"Application Type",expr:"apptype"}),m.a.createElement(qe,{context:g,caption:"Date Filed",expr:"appdate"}),m.a.createElement(qe,{context:g,caption:"BIN",expr:"bin"}),m.a.createElement(qe,{context:g,caption:"Trade Name",expr:"tradename",visibleWhen:V}),m.a.createElement(qe,{context:g,caption:"Owner Name",expr:"ownername",visibleWhen:V}),m.a.createElement(qe,{context:g,caption:"Business Address",expr:"address",visibleWhen:V}),m.a.createElement(rt,null),m.a.createElement(Le,{style:{display:"flex",justifyContent:"flex-start"}},m.a.createElement(he,{variant:"outlined",caption:"Pay Option",action:function(){return W(!0)}})),m.a.createElement(bt,{items:g?g.items:[],size:"small",showPagination:!1},m.a.createElement(Et,{caption:"Particulars",expr:function(e){return(e.lobname?e.lobname:"")+" -".concat(e.account)}}),m.a.createElement(Et,{caption:"Amount",expr:"amount",align:"right",format:"currency"}),m.a.createElement(Et,{caption:"Surcharge",expr:"surcharge",align:"right",format:"currency"}),m.a.createElement(Et,{caption:"Interest",expr:"interest",align:"right",format:"currency"}),m.a.createElement(Et,{caption:"Total",expr:"total",align:"right",format:"currency"})),m.a.createElement(Le,{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:15}},m.a.createElement(qe,{context:g,caption:"Bill Amount:",expr:function(e){return de(e.amount)}}))),m.a.createElement(me,{disabled:P},m.a.createElement(ye,{caption:"Back",action:function(){a(0)}}),m.a.createElement(he,{caption:"Confirm Payment",action:function(){r({refno:f,txntype:b,origin:"filipizen",orgcode:n.id,qtr:R,info:{data:g,qtr:R},paidby:g.paidby,paidbyaddress:g.paidbyaddress,amount:g.amount,particulars:"Business Tax for Application No. ".concat(g.appno)})},disableWhen:0===g.amount})),m.a.createElement(Ht,{initialValue:g&&{qtr:R},open:I,onAccept:function(e){W(!1),q(e.billtoqtr)},onCancel:function(){return W(!1)}}))},Jt={txntype:"bpls",refno:null,bill:{},contact:{}},Qt=function(e,t){switch(t.type){case"SET_BILL":return e.refno=t.refno,void(e.bill=t.bill);case"SET_CONTACT":return void(e.contact=t.contact)}},Xt=[{step:1,name:"verification",caption:"Verification",Component:Wt},{step:2,name:"initial",caption:"Initial Information",Component:function(e){var t=e.title,n=e.partner,a=e.moveNextStep,r=e.movePrevStep,c=At(),s=Object(o.a)(c,2),p=s[0],d=s[1],f=p.txntype,b=Object(u.useState)(),E=Object(o.a)(b,2),v=E[0],h=E[1],y=Object(u.useState)(!1),g=Object(o.a)(y,2),O=g[0],j=g[1],S=Object(u.useState)(),w=Object(o.a)(S,2),x=w[0],C=w[1],k=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={txntype:f,refno:x,qtr:4,showdetails:!0},a=wt("".concat(n.id,":OnlineBusinessBillingService"),"bpls"),e.next=4,a.invoke("getBilling",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(m.a.Fragment,null,m.a.createElement(Se,null,m.a.createElement(yt,null,t),m.a.createElement(it,null,"Initial Information"),m.a.createElement(rt,null),m.a.createElement(ze,{msg:v}),m.a.createElement(vt,{name:"appno",caption:"BIN or Application No.",value:x,onChange:C,autoFocus:!0}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",variant:"text",action:r}),m.a.createElement(he,{caption:"Next",action:function(){j(!0),h(null),k().then((function(e){var t=e.info;t.qtr=4,0==t.amount&&(t.items=[]),d({type:"SET_BILL",refno:x,bill:t}),a()})).catch((function(e){h(e.toString()),j(!1)}))},loading:O,disabled:O}))))}},{step:3,name:"payment",caption:"Payment",Component:function(e){var t=At(),n=Object(o.a)(t,2),a=n[0],r=(n[1],{title:e.title,component:Kt});return m.a.createElement(Mt,Object.assign({module:r},e,{contact:a.contact,initialStep:1,cancelPayment:e.cancelPayment}))}}],Zt=function(e){var t=e.partner,n=e.service,a=e.location,r=e.history,c=e.initialStep,l=void 0===c?0:c,i=Object(u.useState)(l),s=Object(o.a)(i,2),p=s[0],d=s[1],f=Xt[p],b=f.Component,E={partner:t,service:n,location:a,history:r,moveNextStep:function(){d((function(e){return e+1}))},movePrevStep:function(){0===p?r.goBack():d((function(e){return e-1}))},cancelPayment:function(){d(1)},title:"Business Online Billing"};return m.a.createElement(kt,{initialState:Jt,reducer:Qt},m.a.createElement(et,null,m.a.createElement(Te,{center:!0},m.a.createElement(Le,null,m.a.createElement(b,Object.assign({page:f},E))))),m.a.createElement(rt,{height:50}))},$t="SET_APP",en="SET_CONTACT",tn="UPDATE_APP_INFOS",nn={bin:null,app:{objid:"",lobs:[],infos:[],newinfos:[],redflags:[]},contact:{}},an=function(e,t){var n;switch(t.type){case $t:return e.app=t.app,void(e.bin=t.app.bin);case tn:return e.app=t.app,(n=e.app.newinfos).push.apply(n,Object(r.a)(t.infos)),void(e.bin=t.app.bin);case en:return void(e.contact=t.contact);default:return e}},rn=function(e){var t=e.partner,n=e.title,a=void 0===n?"New Permit Application":n,r=e.cancelCaption,c=void 0===r?"Cancel":r,l=e.onCancel,i=e.onContinue,s=e.error,p=Object(u.useState)(!1),d=Object(o.a)(p,2),f=d[0],b=d[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement(it,null,a),m.a.createElement(rt,{height:30}),m.a.createElement(ze,{msg:s}),m.a.createElement(ut,null,"Please read thoroughly before proceeding"),m.a.createElement("p",{style:{opacity:.8}},"This online service will require personal information from the applicant, lot owner(s) and professionals involved in this transaction. In compliance with the Data Privacy Act, we are securing your consent that you have been authorized by the aforementioned parties to act on their behalf. The data collected will be stored, processed and used for effectively carrying out legitimate transactions with the local government of ",t.title,". If you do not agree to these terms, you can cancel out by click on the Back button. If you agree to these terms, tick on the checkbox and click Continue."),m.a.createElement(Pe,{caption:"Yes, I have read and agree to the terms and conditions",value:f,name:"agreeDisclaimer",onChange:b}),m.a.createElement(me,null,m.a.createElement(ye,{caption:c,action:l}),m.a.createElement(he,{caption:"Continue",action:i,disableWhen:!f})))},cn=function(e){var t=e.title,n=void 0===t?"New Permit Application":t,a=e.buttonCaption,r=void 0===a?"Continue":a,c=e.appno,l=e.onContinue;return m.a.createElement(m.a.Fragment,null,m.a.createElement(it,null,n),m.a.createElement(rt,{height:30}),m.a.createElement(ut,null,"Application created"),m.a.createElement("p",null,"Please take note of the tracking number for this application. This will be your tracking reference for completing and follow up for this application."),m.a.createElement(ut,null,c),m.a.createElement(me,null,m.a.createElement(he,{caption:r,action:l})))},ln=function(e){var t=e.lobs,n=e.isPreviousInfo,a=void 0===n||n;return m.a.createElement(m.a.Fragment,null,m.a.createElement(bt,{items:t,showPagination:!1},m.a.createElement(Et,{caption:"Line of Business",width:400,expr:"lob.name"}),m.a.createElement(Et,{caption:a?"Previous Gross (Php)":"Gross (Php)",expr:function(e){return de(a?e.prevgross:e.gross)},type:"decimal",align:"right"})))},on=[{name:"contact",caption:"Contact Information"},{name:"enter-bin",caption:"Business Identification Number"},{name:"app-notice",caption:"Business Renewal Notice"},{name:"verify-info",caption:"Business Verify Information"},{name:"confirmation",caption:"Confirmation"},{name:"newapp",caption:"New Application "}],un="_EditInfo__EditInfo__1WWgR",mn="_EditInfo__EditInfo__item__zFpAi",sn={decimal:function(e){var t=e.label,n=e.caption,a=e.editable,r=void 0===a||a,c=e.readOnly,l=void 0!==c&&c,i=e.textAlign,o=void 0===i?"right":i,u=oe(e,["label","caption","editable","readOnly","textAlign","decimalScale"]),s=ke(),p=Ce(s,u);return m.a.createElement(v.a,ie({label:t||n,autoComplete:"off"},u,p,{InputProps:{inputComponent:Ie},inputProps:{style:{textAlign:o},readOnly:!r||l}}))},integer:function(e){var t=e.label,n=e.caption,a=e.allowNegative,r=void 0===a||a,c=e.thousandSeparator,l=void 0===c||c,i=e.editable,o=void 0===i||i,u=e.readOnly,s=void 0!==u&&u,p=e.size,d=void 0===p?"small":p,f=e.textAlign,b=void 0===f?"center":f,E=oe(e,["label","caption","allowNegative","thousandSeparator","editable","readOnly","size","textAlign"]),h=ke(),y=Ce(h,E),g={inputComponent:Ue};return r||(g.inputComponent=Ge),l||(g.inputComponent=Ye),m.a.createElement(v.a,ie({label:t||n,size:d,autoComplete:"off"},E,y,{InputProps:g,inputProps:{style:{textAlign:b},readOnly:!o||s}}))}},pn=function(e){var t=e.dataType,n=void 0===t?"integer":t,a=e.caption,r=e.name,c=e.autoFocus,l=void 0!==c&&c,i=e.error,o=void 0!==i&&i,u=e.helperText,s=e.allowNegative,p=void 0!==s&&s,d=sn[n];return m.a.createElement("div",{className:un},m.a.createElement("label",{style:{width:350}},a),m.a.createElement(d,{className:mn,name:r,fullWidth:!1,variant:"outlined",size:"small",required:!0,autoFocus:l,helperText:u,error:o,allowNegative:p}))},dn={lobTitles:{display:"flex",justifyContent:"space-between"}},fn="_RequirementList__container__2TeAB",bn="_RequirementList__documents__30N21",En="_RequirementList__documents__action__hWy1N",vn="_RequirementList__documents__title__vaLwg",hn=function(e){var t=e.app,n=e.requirements,a=e.deleteRequirement,r=e.onUpload,c=Object(u.useState)({ref:{},attachment:{}}),l=Object(o.a)(c,2),i=(l[0],l[1]),s=Object(u.useState)(-1),p=Object(o.a)(s,2),d=p[0],f=p[1];return Object(u.useEffect)((function(){n.length>0&&d<0&&(i(n[0]),f(0))}),[n]),m.a.createElement("div",{className:fn},m.a.createElement("table",{className:bn},n.map((function(e){var n=t.objid.replace(/\W/g,""),c=e.attachment.location?m.a.createElement("td",{key:e.objid},m.a.createElement("div",{className:En},m.a.createElement(Oe,{href:e.attachment.location,target:"_blank"},"View"),m.a.createElement(Be,{attachment:e.attachment,action:function(){return a(e)}}))):m.a.createElement("td",{key:e.objid,colspan:"2"},m.a.createElement(gt,{key:e.objid,fileId:"attachments/".concat(n),data:e,onUpload:function(t){return r(t,e)},uploadedFile:e.attachment}));return m.a.createElement("tr",{key:e.objid},m.a.createElement("td",{className:vn},e.ref.title),c)}))))},yn=[{step:0,name:"select",caption:"Select Application Type",component:function(e){var t=e.service,n=e.history,a=e.appService,r=e.moveNextStep,c=Object(u.useState)(),l=Object(o.a)(c,2),i=l[0],s=l[1],p=Object(u.useState)("new"),d=Object(o.a)(p,2),f=d[0],b=d[1],E=Object(u.useState)(),v=Object(o.a)(E,2),h=v[0],y=v[1],g=Object(u.useState)(!1),O=Object(o.a)(g,2),j=O[0],S=O[1],w=At(),x=Object(o.a)(w,2),C=(x[0],x[1]);return m.a.createElement(Se,null,m.a.createElement(yt,null,t.title),m.a.createElement(it,null,"Select an action"),m.a.createElement(rt,{height:30}),m.a.createElement(nt,{value:f,onChange:b},m.a.createElement(Me,{caption:"Create New Application",value:"new"}),m.a.createElement(Me,{caption:"Resume Pending Application",value:"resume"})),m.a.createElement(vt,{caption:"Application Tracking No.",value:h,onChange:y,visibleWhen:"resume"===f,variant:"outlined",fullWidth:!1,required:!0,style:{marginLeft:40},error:i,helperText:i,size:"small",autoFocus:!0}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:function(){return n.goBack()}}),m.a.createElement(he,{caption:"Next",action:function(){"new"===f?r():h?(S(!0),a.invoke("getApplication",{controlno:h},(function(e,t){console.log("APP",t),e?s(e):(t.infos=[],t.lobs=[],C({type:$t,app:t}),r(t.step+1)),S(!1)}))):s("Tracking No. is required.")},disabled:j,processing:j})))}},{step:1,name:"initial",caption:"Initial",component:function(e){var t=e.partner,n=e.history,r=e.title,c=e.appService,l=e.moveNextStep,i=At(),s=Object(o.a)(i,2),p=s[0],d=s[1],f=p.contact,b=Object(u.useState)(),E=Object(o.a)(b,2),v=E[0],h=E[1],y=Object(u.useState)(!1),g=Object(o.a)(y,2),O=g[0],j=g[1],S=Object(u.useState)(!1),w=Object(o.a)(S,2),x=(w[0],w[1],Object(u.useState)({})),C=Object(o.a)(x,2),k=C[0],P=C[1],N=Object(u.useState)(0),A=Object(o.a)(N,2),T=A[0],I=A[1],W=on[T],B=function(){h(null),I((function(e){return e+1}))},_=function(){h(null),I((function(e){return e-1}))};return m.a.createElement(m.a.Fragment,null,"contact"===W.name?m.a.createElement(Wt,{partner:t,showName:!0,moveNextStep:B,movePrevStep:_,title:r,subtitle:"Contact Verification",emailRequired:!0}):m.a.createElement(Se,null,m.a.createElement(rt,null),m.a.createElement(Ve,{context:k,handler:P,visibleWhen:"enter-bin"===W.name},m.a.createElement(yt,null,r),m.a.createElement(it,null,W.caption),m.a.createElement(rt,null),m.a.createElement(ze,{msg:v}),m.a.createElement(vt,{caption:"Enter BIN",name:"bin",required:!0,autoFocus:!0}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:function(){return n.goBack()}}),m.a.createElement(he,{caption:"Next",action:function(){h(null),j(!0),c.invoke("validateBin",Object(a.a)(Object(a.a)({},k),{},{contact:f}),(function(e,t){var n;e?h(e):(n=0==t.redflags.length?on.findIndex((function(e){return"verify-info"===e.name})):on.findIndex((function(e){return"app-notice"===e.name})),t.step=1,P(t),I(n));j(!1)}))},processing:O,disableWhen:!k.bin||O}))),m.a.createElement(Ve,{visibleWhen:"app-notice"===W.name,context:k,handler:P},m.a.createElement(yt,null,r),m.a.createElement(it,null,W.caption),m.a.createElement(rt,{height:30}),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"BIN",name:"bin",readOnly:!0}),m.a.createElement(vt,{caption:"Application No.",name:"prevapp.appno",readOnly:!0})),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"Application Year",name:"prevapp.appyear",readOnly:!0}),m.a.createElement(vt,{caption:"Application Type",name:"prevapp.apptype",readOnly:!0})),m.a.createElement(vt,{caption:"Trade Name",name:"tradename",readOnly:!0}),m.a.createElement(vt,{caption:"Owner Name",name:"owner.name",readOnly:!0}),m.a.createElement(vt,{caption:"Business Address",name:"businessaddress",readOnly:!0}),m.a.createElement("p",null,"You cannot renew business due to the following issues. Please settle it with the corresponding offices. You can contact our helpdesk at ",t.phoneno,"."),m.a.createElement(bt,{items:k.redflags,showPagination:!1},m.a.createElement(Et,{caption:"Issue",width:300,expr:"issue"}),m.a.createElement(Et,{caption:"Office/Department",expr:"office"})),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:function(){return n.goBack()}}))),m.a.createElement(Ve,{visibleWhen:"verify-info"===W.name,context:k,handler:P},m.a.createElement(yt,null,r),m.a.createElement(it,null,W.caption),m.a.createElement(rt,{height:30}),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"BIN",name:"bin",readOnly:!0}),m.a.createElement(vt,{caption:"Application No.",name:"prevapp.appno",readOnly:!0})),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"Application Year",name:"prevapp.appyear",readOnly:!0}),m.a.createElement(vt,{caption:"Application Type",name:"prevapp.apptype",readOnly:!0})),m.a.createElement(vt,{caption:"Trade Name",name:"tradename",readOnly:!0}),m.a.createElement(vt,{caption:"Owner Name",name:"owner.name",readOnly:!0}),m.a.createElement(vt,{caption:"Business Address",name:"businessaddress",readOnly:!0}),m.a.createElement(rt,null),m.a.createElement("h3",null,"Line of Businesses Operated"),m.a.createElement(ln,{lobs:k.lobs}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",action:function(){return I(1)}}),m.a.createElement(he,{caption:"Next",action:B}))),m.a.createElement(Le,{visibleWhen:"confirmation"===W.name},m.a.createElement(yt,null,r),m.a.createElement(rn,{title:"Business Renewal Application",partner:t,error:v,onCancel:_,onContinue:function(){c.invoke("create",Object(a.a)(Object(a.a)({},k),{},{partner:t}),(function(e,t){e?h(e):(t.redflags=[],d({type:$t,app:t}),P(t),B())}))}})),m.a.createElement(Le,{visibleWhen:"newapp"===W.name,width:400},m.a.createElement(yt,null,r),m.a.createElement(cn,{appno:k.controlno,onContinue:l}))))}},{step:2,name:"info",caption:"General Information",component:function(e){var t=e.moveNextStep,n=e.appService,a=e.title,r=At(),c=Object(o.a)(r,1)[0].app,l=Object(u.useState)(),i=Object(o.a)(l,2),s=i[0],p=i[1],d=Object(u.useState)(!1),f=Object(o.a)(d,2),b=(f[0],f[1]),E=Object(u.useState)(c),v=Object(o.a)(E,2),h=v[0],y=v[1];return Object(u.useEffect)((function(){b(!0),n.invoke("getInfos",{objid:h.objid},(function(e,t){e?p(e):y(t),b(!1)}))}),[]),m.a.createElement(Se,null,m.a.createElement(ze,{msg:s}),m.a.createElement(Ve,{context:h,handler:y},m.a.createElement(yt,null,a),m.a.createElement(ut,null,"Tracking No. ",h.controlno),m.a.createElement(it,null,"General Information"),m.a.createElement(rt,{height:30}),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"BIN",name:"bin",readOnly:!0}),m.a.createElement(vt,{caption:"Application No.",name:"controlno",readOnly:!0})),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"Application Year",name:"appyear",readOnly:!0}),m.a.createElement(vt,{caption:"Application Type",name:"apptype",readOnly:!0})),m.a.createElement(vt,{caption:"Trade Name",name:"tradename",readOnly:!0}),m.a.createElement(vt,{caption:"Owner Name",name:"owner.name",readOnly:!0}),m.a.createElement(vt,{caption:"Business Address",name:"businessaddress",readOnly:!0}),m.a.createElement(rt,null),h.infos.map((function(e){return m.a.createElement(qe,{key:e.name,caption:e.caption,captionStyle:{width:350}},e.value)})),m.a.createElement(rt,null),m.a.createElement(ln,{lobs:h.lobs,isPreviousInfo:!1}),m.a.createElement(me,null,m.a.createElement(he,{caption:"Next",action:t}))))}},{step:3,name:"edit-info",caption:"Edit Information",component:function(e){var t=e.appService,n=e.moveNextStep,a=e.movePrevStep,r=e.title,c=At(),l=Object(o.a)(c,2),i=l[0],s=l[1],p=(i.contact,i.app),d=Object(u.useState)([]),f=Object(o.a)(d,2),b=f[0],E=(f[1],Object(u.useState)()),v=Object(o.a)(E,2),h=v[0],y=v[1],g=Object(u.useState)(!1),O=Object(o.a)(g,2),j=O[0],S=O[1],w=Object(u.useState)(p),x=Object(o.a)(w,2),C=x[0],k=x[1];Object(u.useEffect)((function(){S(!0),t.invoke("getInfos",C,(function(e,t){e?y(e):(k(t),s({type:$t,app:t})),S(!1)}))}),[]);return m.a.createElement(Se,null,m.a.createElement(ze,{msg:h}),m.a.createElement(Ve,{context:C,handler:k},m.a.createElement(yt,null,r),m.a.createElement(ut,null,"Tracking No. ",C.controlno),m.a.createElement(it,null,"Edit Information"),m.a.createElement(rt,{height:30}),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"BIN",name:"bin",readOnly:!0}),m.a.createElement(vt,{caption:"Application No.",name:"controlno",readOnly:!0})),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"Application Year",name:"appyear",readOnly:!0}),m.a.createElement(vt,{caption:"Application Type",name:"apptype",readOnly:!0})),m.a.createElement(vt,{caption:"Trade Name",name:"tradename",readOnly:!0}),m.a.createElement(vt,{caption:"Owner Name",name:"owner.name",readOnly:!0}),m.a.createElement(vt,{caption:"Business Address",name:"businessaddress",readOnly:!0}),m.a.createElement(rt,null),m.a.createElement("h4",null,"Business Information"),C.infos.map((function(e,t){return m.a.createElement(pn,{key:"".concat(e.name,":").concat(t),name:"infos[".concat(t,"].value"),dataType:e.datatype,caption:e.caption,autoFocus:0===t})})),m.a.createElement(rt,null),m.a.createElement(Le,{style:dn.lobTitles},m.a.createElement("h4",null,"Line of Businesses"),m.a.createElement("h4",null,"Last Year Gross (Php)")),C.lobs.map((function(e,t){return m.a.createElement(pn,{key:"".concat(e.name,":").concat(t),name:"lobs[".concat(t,"].gross"),dataType:"decimal",caption:e.lob.name,error:b[t],helperText:b[t]})})),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",action:a}),m.a.createElement(he,{caption:"Next",action:function(){y(null),S(!0);var e={objid:C.objid,step:4,lobs:C.lobs,infos:C.infos};t.invoke("saveInfos",e,(function(e,t){e?y(e):n(),S(!1)}))},loading:j,disableWhen:j}))))}},{step:4,name:"requirements",caption:"Requirements",component:function(e){var t=e.appService,n=e.moveNextStep,c=e.movePrevStep,l=e.title,i=At(),s=Object(o.a)(i,2),p=s[0],d=s[1],f=(p.contact,p.app),b=Object(u.useState)(),E=Object(o.a)(b,2),v=E[0],h=E[1],y=Object(u.useState)(!1),g=Object(o.a)(y,2),O=g[0],j=g[1],S=Object(u.useState)([]),w=Object(o.a)(S,2),x=w[0],C=w[1];Object(u.useEffect)((function(){j(!0),t.invoke("getRequirements",f,(function(e,t){e?h(e):(t.forEach((function(e){e.attachment||(e.attachment={})})),d({type:$t,app:Object(a.a)(Object(a.a)({},f),{},{step:4})}),C(t)),j(!1)}))}),[]);var k=function(e){var n={objid:f.objid,requirements:e};t.invoke("update",n,(function(e,t){e&&h(e)}))},P=-1==x.findIndex((function(e){return"undefined"===typeof e.attachment}));return m.a.createElement(Se,null,m.a.createElement(ze,{msg:v}),m.a.createElement(yt,null,l),m.a.createElement(ut,null,"Tracking No. ".concat(f.controlno)),m.a.createElement(it,null,"Requirements"),m.a.createElement("h4",null,"Please attach the following documents:"),m.a.createElement(hn,{app:f,requirements:x,onUpload:function(e,t){var n=x.findIndex((function(e){return e.objid===t.objid})),a=Object(r.a)(x);a[n].attachment=e,C(a),k(a)},deleteRequirement:function(e){var t=x.findIndex((function(t){return t.objid===e.objid})),n=Object(r.a)(x);n[t].attachment={},C(n),k(n)}}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",action:c}),m.a.createElement(he,{caption:"Next",action:function(){j(!0);var e={objid:f.objid,step:f.step+1};t.invoke("update",e,(function(e,t){e?h(e):n(),j(!1)}))},processing:O,disableWhen:!P})))}},{step:5,name:"confirm",caption:"Confirm",component:function(e){var t=e.moveNextStep,n=e.movePrevStep,a=e.appService,r=e.title,c=At(),l=Object(o.a)(c,1)[0].app,i=Object(u.useState)(),s=Object(o.a)(i,2),p=s[0],d=s[1],f=Object(u.useState)(!1),b=Object(o.a)(f,2),E=(b[0],b[1],Object(u.useState)(l)),v=Object(o.a)(E,2),h=v[0],y=v[1],g=Object(u.useState)(!1),O=Object(o.a)(g,2),j=O[0],S=O[1];Object(u.useEffect)((function(){a.invoke("getInfos",{objid:h.objid},(function(e,t){e?d(e):y(t)}))}),[]);return m.a.createElement(Se,null,m.a.createElement(ze,{msg:p}),m.a.createElement(Ve,{context:h,handler:y},m.a.createElement(yt,null,r),m.a.createElement(ut,null,"Tracking No. ",h.controlno),m.a.createElement(it,null,"Confirmation"),m.a.createElement(rt,{height:30}),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"BIN",name:"bin",readOnly:!0}),m.a.createElement(vt,{caption:"Application No.",name:"prevapp.appno",readOnly:!0})),m.a.createElement(Le,{row:!0},m.a.createElement(vt,{caption:"Application Year",name:"prevapp.appyear",readOnly:!0}),m.a.createElement(vt,{caption:"Application Type",name:"prevapp.apptype",readOnly:!0})),m.a.createElement(vt,{caption:"Trade Name",name:"tradename",readOnly:!0}),m.a.createElement(vt,{caption:"Owner Name",name:"owner.name",readOnly:!0}),m.a.createElement(vt,{caption:"Business Address",name:"businessaddress",readOnly:!0}),m.a.createElement(rt,null),h.infos.map((function(e){return m.a.createElement(qe,{key:e.name,caption:e.caption,captionStyle:{width:300}},e.value)})),m.a.createElement(rt,null),m.a.createElement(ln,{lobs:h.lobs,isPreviousInfo:!1}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",action:n}),m.a.createElement(he,{caption:"Next",action:function(){return S(!0)}}))),m.a.createElement(Qe,{open:j,title:"New Application Confirmation",type:"confirm",onAccept:function(){var e={objid:h.objid,step:6};a.invoke("submit",e,(function(e,n){e?(d(e),S(!1)):t()}))},acceptCaption:"Submit Application",onCancel:function(){return S(!1)}},m.a.createElement("p",null,"Verify that all information in your application are correct and then click on Submit Application.")))}},{step:6,name:"completed",caption:"Completed",component:function(e){var t=e.history,n=e.partner,a=e.title,r=At(),c=Object(o.a)(r,1)[0].app;return m.a.createElement(Se,null,m.a.createElement(Le,null,m.a.createElement(yt,null,a),m.a.createElement(ut,null,"Tracking No. ".concat(c.controlno)),m.a.createElement(it,null,"Application Completed"),m.a.createElement(rt,{height:30}),m.a.createElement("p",null,"Your application has been successfully submitted."),m.a.createElement("p",null,"A notification would be sent on your business email account upon approval of your application for payment."),m.a.createElement("p",null,"Thank you for using this service."),m.a.createElement(me,null,m.a.createElement(he,{caption:"Return",action:function(){t.replace("/partner/".concat(n.name,"/services"),{partner:n})}}))))}}],gn=function(e){var t=e.partner,n=e.service,r=e.location,c=e.history,l=e.initialStep,i=void 0===l?0:l,s=Object(u.useState)(i),p=Object(o.a)(s,2),d=p[0],f=p[1],b=Object(u.useState)({step:0}),E=Object(o.a)(b,2),v=E[0],h=E[1],y=yn[d],g=y.component,O={partner:t,service:n,location:r,history:c,moveNextStep:function(e){"number"===typeof e?f(e>=6?6:e):(e=d+1,f((function(e){return e+1}))),h(Object(a.a)(Object(a.a)({},v),{},{step:e}))},movePrevStep:function(){0===d?c.goBack():f((function(e){return e-1}))},appService:St("".concat(t.id,":OnlineBusinessRenewalService"),"bpls"),stepCompleted:d<v.step,title:"Business Renewal Application"};return m.a.createElement(kt,{initialState:nn,reducer:an},m.a.createElement(et,null,d>1&&d<6&&m.a.createElement(Le,{target:"left",style:On.stepperContainer},m.a.createElement(pt,{steps:yn.filter((function(e){return e.step>1})),completedStep:v.step-1,activeStep:d-2,handleStep:function(e){f(e+2)}})),m.a.createElement(Te,{center:!0},m.a.createElement(Le,null,m.a.createElement(g,Object.assign({page:y},O)))),m.a.createElement(rt,{height:40})))},On={stepperContainer:{paddingTop:30,paddingLeft:40}},jn="SET_APP",Sn="SET_CONTACT",wn="SET_REQUIREMENTS",xn="SET_ATTACHMENTS",Cn=function(e,t){switch(t.type){case jn:return e.app=t.app,void(e.bin=t.app.bin);case Sn:return void(e.contact=t.contact);case xn:return void(e.app.attachments=t.attachments);case wn:return void(e.requirements=t.requirements);default:return e}},kn="_RequirementList__container__1fbZ1",Pn="_RequirementList__documents__2QOAk",Nn="_RequirementList__documents__action__1UGMU",An="_RequirementList__documents__title__2AmsP",Tn=function(e){var t=e.app,n=e.requirements,a=e.deleteRequirement,r=e.onUpload,c=Object(u.useState)({ref:{},attachment:{}}),l=Object(o.a)(c,2),i=(l[0],l[1]),s=Object(u.useState)(-1),p=Object(o.a)(s,2),d=p[0],f=p[1];return Object(u.useEffect)((function(){n.length>0&&d<0&&(i(n[0]),f(0))}),[n]),m.a.createElement("div",{className:kn},m.a.createElement("table",{className:Pn},n.map((function(e){var n=t.objid.replace(/\W/g,""),c=e.attachment.location?m.a.createElement("td",{key:e.objid},m.a.createElement("div",{className:Nn},m.a.createElement(Oe,{href:e.attachment.location,target:"_blank"},"View"),m.a.createElement(Be,{attachment:e.attachment,action:function(){return a(e)}}))):m.a.createElement("td",{key:e.objid,colspan:"2"},m.a.createElement(gt,{key:e.objid,fileId:"attachments/".concat(n),data:e,onUpload:function(t){return r(t,e)},uploadedFile:e.attachment}));return m.a.createElement("tr",{key:e.objid},m.a.createElement("td",{className:An},e.ref.title),c)}))))},In=[{name:"uaf",caption:"Unified Application Form"},{name:"contact",caption:"Contact Information"},{name:"business-name",caption:"Business Name Information"},{name:"confirmation",caption:"Confirmation"},{name:"newapp",caption:"New Application "}],Wn=[{step:0,name:"select",caption:"Select Application Type",component:function(e){var t=e.service,n=e.history,a=e.appService,r=e.partner,c=e.moveNextStep,l=Object(u.useState)(),i=Object(o.a)(l,2),s=i[0],p=i[1],d=Object(u.useState)("new"),f=Object(o.a)(d,2),b=f[0],E=f[1],v=Object(u.useState)(),h=Object(o.a)(v,2),y=h[0],g=h[1],O=Object(u.useState)(!1),j=Object(o.a)(O,2),S=j[0],w=j[1],x=At(),C=Object(o.a)(x,2),k=(C[0],C[1]);return m.a.createElement(Se,null,m.a.createElement(yt,null,t.title),m.a.createElement(it,null,"Select an action"),m.a.createElement(rt,{height:30}),m.a.createElement(nt,{value:b,onChange:E},m.a.createElement(Me,{caption:"Create New Application",value:"new"}),m.a.createElement(Me,{caption:"Resume Pending Application",value:"resume"})),m.a.createElement(vt,{caption:"Application Tracking No.",value:y,onChange:g,visibleWhen:"resume"===b,variant:"outlined",required:!0,style:{marginLeft:40},error:s,helperText:s,size:"small",autoFocus:!0}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:function(){return n.push("/partner/".concat(r.group.name,"_").concat(r.name,"/services"))}}),m.a.createElement(he,{caption:"Next",action:function(){"new"===b?c():y?(w(!0),a.invoke("findApp",{controlno:y},(function(e,t){e?p(e):(k({type:jn,app:t}),c(t.step)),w(!1)}))):p("Tracking No. is required.")},loading:S})))}},{step:1,name:"initial",caption:"Initial",component:function(e){var t=e.partner,n=e.history,c=e.title,l=e.appService,i=At(),s=Object(o.a)(i,2),p=s[0],d=s[1],f=Object(u.useState)(),b=Object(o.a)(f,2),E=b[0],v=b[1],h=Object(u.useState)(!1),y=Object(o.a)(h,2),g=y[0],O=y[1],j=Object(u.useState)({objid:be(40),attachments:[],requirements:[]}),S=Object(o.a)(j,2),w=S[0],x=S[1],C=Object(u.useState)(0),k=Object(o.a)(C,2),P=k[0],N=k[1],A=Object(u.useState)([{ref:{reftype:"uaf",title:"Unified Application Form"},attachment:{}}]),T=Object(o.a)(A,2),I=T[0],W=T[1],B=In[P],_=Object(u.useRef)(),R=function(){N((function(e){return e+1}))},q=function(){N((function(e){return e-1}))};return m.a.createElement(m.a.Fragment,null,"contact"===B.name?m.a.createElement(Wt,{partner:t,showName:!0,moveNextStep:R,movePrevStep:q,title:c,subtitle:"Contact Verification",emailRequired:!0}):m.a.createElement("form",{ref:_},m.a.createElement(Se,null,m.a.createElement(rt,null),m.a.createElement(Ve,{context:w,handler:x,visibleWhen:"uaf"===B.name},m.a.createElement(yt,null,c),m.a.createElement(it,null,B.caption),m.a.createElement(rt,null),m.a.createElement(ze,{msg:E}),m.a.createElement("p",null,"Application for New Business Permit requires the submission of a signed copy of the Unified Application Form."),m.a.createElement("p",null,"Follow the steps below to complete the submission of the application."),m.a.createElement("ol",null,m.a.createElement("li",null,m.a.createElement(Le,null,m.a.createElement("label",null,"Download the business permit Unified Application Form"),m.a.createElement("div",null,m.a.createElement(_e,{href:"/attachments/UAF-BPLS.pdf"}))),m.a.createElement(rt,null)),m.a.createElement("li",null,m.a.createElement("label",null,"Fill-up the application form completely and accurately. Be sure to affix your signature on the spaces provided."),m.a.createElement(rt,null)),m.a.createElement("li",null,"Click Apply Now to continue with the online application.")),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Cancel",action:function(){return n.push("/partner/".concat(t.group.name,"_").concat(t.name,"/services"))}}),m.a.createElement(he,{caption:"Apply Now",action:R,processing:g}))),m.a.createElement(Ve,{context:w,handler:x,visibleWhen:"business-name"===B.name},m.a.createElement(yt,null,c),m.a.createElement(it,null,B.caption),m.a.createElement(rt,null),m.a.createElement(ze,{msg:E}),m.a.createElement(vt,{caption:"Name of Business",name:"businessname",required:!0,autoFocus:!0}),m.a.createElement(rt,null),m.a.createElement(vt,{caption:"Owner Name",name:"appinfo.owner.name",required:!0}),m.a.createElement(vt,{caption:"Owner Address",name:"appinfo.owner.address",required:!0}),m.a.createElement(rt,null),m.a.createElement("p",null,"Attach the following document(s):"),m.a.createElement(Tn,{app:w,requirements:I,onUpload:function(e,t){var n=I.findIndex((function(e){return e.objid===t.objid})),a=Object(r.a)(I);a[n].attachment=e,W(a)},deleteRequirement:function(e){var t=I.findIndex((function(t){return t.objid===e.objid})),n=Object(r.a)(I);n[t].attachment={},W(n)}}),m.a.createElement(me,null,m.a.createElement(ye,{caption:"Back",action:q}),m.a.createElement(he,{caption:"Next",action:function(){v(null),I[0].attachment.location?R():v("Unified Application Form attachment should be uploaded.")},processing:g}))),m.a.createElement(Le,{visibleWhen:"confirmation"===B.name},m.a.createElement(yt,null,c),m.a.createElement(rn,{title:c,partner:t,error:E,onCancel:q,onContinue:function(){O(!0);var e=Object(a.a)(Object(a.a)({},w),{},{apptype:"NEW",orgcode:t.id,partner:t,contact:p.contact,requirements:I});l.invoke("create",e,(function(e,t){e?v(e):(t.redflags=[],d({type:jn,app:t}),x(t),R()),O(!1)}))},cancelCaption:"Back"})),m.a.createElement(Le,{visibleWhen:"newapp"===B.name,width:400},m.a.createElement(yt,null,c),m.a.createElement(cn,{buttonCaption:"Return",appno:w.controlno,onContinue:function(){return n.push("/partner/".concat(t.group.name,"_").concat(t.name,"/services"))}})))))}},{step:2,name:"completed",caption:"Completed",component:function(e){var t=e.history,n=e.partner,a=e.title,r=At(),c=Object(o.a)(r,1)[0].app;return m.a.createElement(Se,null,m.a.createElement(Le,null,m.a.createElement(yt,null,a),m.a.createElement(it,null,"Application Completed"),m.a.createElement(rt,{height:30}),m.a.createElement(ut,null,"Tracking No. ".concat(c.controlno)),m.a.createElement(rt,{height:30}),m.a.createElement("p",null,"Your application has been successfully submitted."),m.a.createElement("p",null,"A notification would be sent on your business email account upon approval of your application for payment."),m.a.createElement("p",null,"Thank you for using this service."),m.a.createElement(me,null,m.a.createElement(he,{caption:"Return",action:function(){t.replace("/partner/".concat(n.group.name,"_").concat(n.name,"/services"),{partner:n})}}))))}}],Bn=function(e){var t=e.partner,n=e.service,r=e.location,c=e.history,l=e.initialStep,i=void 0===l?0:l,s=Object(u.useState)(i),p=Object(o.a)(s,2),d=p[0],f=p[1],b=Object(u.useState)(i),E=Object(o.a)(b,2),v=E[0],h=E[1],y=Object(u.useState)({step:0}),g=Object(o.a)(y,2),O=g[0],j=g[1],S=Object(u.useState)(),w=Object(o.a)(S,2),x=w[0],C=w[1],k=Object(u.useState)(!0),P=Object(o.a)(k,2),N=P[0],A=P[1],T=Object(u.useState)(Object(a.a)({},Cn.initialState)),I=Object(o.a)(T,2),W=I[0],B=I[1],_=Object(u.useState)(!1),R=Object(o.a)(_,2),q=R[0],F=R[1];x!==r.hash&&C(r.hash),Object(u.useEffect)((function(){var e=fe(r,"refid");e&&x&&!q?appService.invoke("findApp",{objid:e},(function(e,t){if(!e&&t)if("completed"!==Wn.find((function(e){return e.step===t.step})).name){var n=Wn.find((function(e){return e.name===x.substring(1)}));n&&n.step<=t.step&&f(n.step)}else f(t.step);B(Object(a.a)(Object(a.a)({},W),{},{app:t})),A(!1),v<t.step&&h(t.step),F(!0)})):A(!1)}),[x]);var z=function(e){var t=Wn[e];r.hash="#"+t.name,c.push(r)};if(N)return null;var L=Wn[d],D=L.component,V={partner:t,service:n,location:r,history:c,page:L,moveNextStep:function(e){"number"===typeof e?f(e):e=d+1,j(Object(a.a)(Object(a.a)({},O),{},{step:e})),v<e?(h(e),f((function(e){return e+1}))):f(v),z(e)},movePrevStep:function(){if(0===d)c.goBack();else{var e=d-1;f(e),z(e)}},appService:St("".concat(t.id,":OnlineBusinessNewApplicationService"),"bpls"),stepCompleted:d<O.step,title:"New Business Application"};return m.a.createElement(kt,{initialState:W,reducer:Cn},m.a.createElement(et,null,d>1&&"completed"!==L.name&&m.a.createElement(Le,{target:"left",style:_n.stepperContainer},m.a.createElement(pt,{steps:Wn.filter((function(e){return e.step>1})),completedStep:v-1,activeStep:d-2,handleStep:function(e){var t=e+2;f(t),z(t)}})),m.a.createElement(Te,{center:!0},m.a.createElement(Le,null,m.a.createElement(D,Object.assign({page:L},V))),m.a.createElement(rt,{height:50}))))},_n={stepperContainer:{paddingLeft:40,paddingBottom:50}}}}]);
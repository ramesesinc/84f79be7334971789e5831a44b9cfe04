(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{238:function(e,t,n){var a=n(465),r=n(466),i=[n(473)];e.exports=a.createStore(r,i)},465:function(e,t,n){var a=n(80),r=a.slice,i=a.pluck,o=a.each,c=a.bind,l=a.create,u=a.isList,s=a.isFunction,m=a.isObject;e.exports={createStore:p};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,a){e.call(t,t._deserialize(n),(a||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return p.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return p(this.storage,this.plugins,e)}};function p(e,t,n){n||(n=""),e&&!u(e)&&(e=[e]),t&&!u(t)&&(t=[t]);var a=n?"__storejs_"+n+"_":"",p=n?new RegExp("^"+a):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var f=l({_namespacePrefix:a,_namespaceRegexp:p,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(a){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=r(arguments,0),a=this;function i(){if(n)return o(arguments,(function(e,n){t[n]=e})),n.apply(a,t)}var c=[i].concat(t);return e.apply(a,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(a){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(u(e))o(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!s(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!m(n))throw new Error("Plugins must return an object of function properties");o(n,(function(n,a){if(!s(n))throw new Error("Bad plugin property: "+a+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,a)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},d,{plugins:[]});return f.raw={},o(f,(function(e,t){s(e)&&(f.raw[t]=c(f,e))})),o(e,(function(e){f._addStorage(e)})),o(t,(function(e){f._addPlugin(e)})),f}},466:function(e,t,n){e.exports=[n(467),n(468),n(469),n(470),n(471),n(472)]},467:function(e,t,n){var a=n(80).Global;function r(){return a.localStorage}function i(e){return r().getItem(e)}e.exports={name:"localStorage",read:i,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},468:function(e,t,n){var a=n(80).Global;e.exports={name:"oldFF-globalStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:i,remove:function(e){return r.removeItem(e)},clearAll:function(){i((function(e,t){delete r[e]}))}};var r=a.globalStorage;function i(e){for(var t=r.length-1;t>=0;t--){var n=r.key(t);e(r[n],n)}}},469:function(e,t,n){var a=n(80).Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(o)return;var n=l(e);i((function(e){e.setAttribute(n,t),e.save("storejs")}))},read:function(e){if(o)return;var t=l(e),n=null;return i((function(e){n=e.getAttribute(t)})),n},each:function(e){i((function(t){for(var n=t.XMLDocument.documentElement.attributes,a=n.length-1;a>=0;a--){var r=n[a];e(t.getAttribute(r.name),r.name)}}))},remove:function(e){var t=l(e);i((function(e){e.removeAttribute(t),e.save("storejs")}))},clearAll:function(){i((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}};var r=a.document,i=function(){if(!r||!r.documentElement||!r.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(a){n=r.createElement("div"),e=r.body}return function(t){var a=[].slice.call(arguments,0);a.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load("storejs"),t.apply(this,a),e.removeChild(n)}}(),o=(a.navigator?a.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function l(e){return e.replace(/^\d/,"___$&").replace(c,"___")}},470:function(e,t,n){var a=n(80),r=a.Global,i=a.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!u(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(o.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;o.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:c,remove:l,clearAll:function(){c((function(e,t){l(t)}))}};var o=r.document;function c(e){for(var t=o.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var a=t[n].split("="),r=unescape(a[0]);e(unescape(a[1]),r)}}function l(e){e&&u(e)&&(o.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function u(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(o.cookie)}},471:function(e,t,n){var a=n(80).Global;function r(){return a.sessionStorage}function i(e){return r().getItem(e)}e.exports={name:"sessionStorage",read:i,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},472:function(e,t){e.exports={name:"memoryStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:function(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},remove:function(e){delete n[e]},clearAll:function(e){n={}}};var n={}},473:function(e,t,n){e.exports=function(){return n(474),{}}},474:function(module,exports){"object"!==typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,a,r,i,o,c=gap,l=t[e];switch(l&&"object"===typeof l&&"function"===typeof l.toJSON&&(l=l.toJSON(e)),"function"===typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;n<i;n+=1)o[n]=str(n,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+c+"]":"["+o.join(",")+"]",gap=c,r}if(rep&&"object"===typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"===typeof rep[n]&&(r=str(a=rep[n],l))&&o.push(quote(a)+(gap?": ":":")+r);else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(r=str(a,l))&&o.push(quote(a)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+c+"}":"{"+o.join(",")+"}",gap=c,r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!==typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var a;if(gap="",indent="","number"===typeof n)for(a=0;a<n;a+=1)indent+=" ";else"string"===typeof n&&(indent=n);if(rep=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!==typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,a,r=e[t];if(r&&"object"===typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(a=walk(r,n))?r[n]=a:delete r[n]);return reviver.call(e,t,r)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"===typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},80:function(e,t,n){(function(t){var n=Object.assign?Object.assign:function(e,t,n,a){for(var r=1;r<arguments.length;r++)c(Object(arguments[r]),(function(t,n){e[n]=t}));return e},a=function(){if(Object.create)return function(e,t,a,r){var i=o(arguments,1);return n.apply(this,[Object.create(e)].concat(i))};var e=function(){};return function(t,a,r,i){var c=o(arguments,1);return e.prototype=t,n.apply(this,[new e].concat(c))}}(),r=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i="undefined"!==typeof window?window:t;function o(e,t){return Array.prototype.slice.call(e,t||0)}function c(e,t){l(e,(function(e,n){return t(e,n),!1}))}function l(e,t){if(u(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var a in e)if(e.hasOwnProperty(a)&&t(e[a],a))return e[a]}function u(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:n,create:a,trim:r,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:o,each:c,map:function(e,t){var n=u(e)?[]:{};return l(e,(function(e,a){return n[a]=t(e,a),!1})),n},pluck:l,isList:u,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:i}}).call(this,n(19))},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return s}));var a=n(0),r=n.n(a),i=n(36),o=n(238),c=n.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(n=i[a])>=0||(r[n]=e[n]);return r}var s=function(e){var t=Object(a.useState)(e)[0],n=Object(a.useState)([]),r=n[0],o=n[1];return Object(a.useEffect)((function(){t&&i.O.lookup("CloudPartnerService","partner").invoke("getBarangayList",{orgcode:t},(function(e,t){if(e)throw e;o(t)}))}),[t]),r},m=function(e){var t=e.orgcode,n=e.name,a=e.caption,o=e.barangays,c=u(e,["orgcode","name","caption","barangays"]),m=o||s(t);return r.a.createElement(i.l,l({name:n,caption:a},c,{items:m,expr:function(e){return e.name}}))},d=function(e){var t=e.orgcode,n=e.name,a=e.editable,o=void 0===a||a,c=e.visibleWhen,l=void 0===c||c;return u(e,["orgcode","name","editable","visibleWhen"]),l?r.a.createElement(i.J,null,r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:n+".unitno",caption:"Unit No",editable:o}),r.a.createElement(i.W,{name:n+".bldgno",caption:"Building No",editable:o}),r.a.createElement(i.W,{name:n+".bldgname",caption:"Building Name",editable:o})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:n+".street",caption:"Street",editable:o}),r.a.createElement(i.W,{name:n+".subdivision",caption:"Subdivision",editable:o})),r.a.createElement(i.J,{row:!0},o?r.a.createElement(m,{orgcode:t,name:n+".barangay",caption:"Barangay"}):r.a.createElement(i.W,{name:n+".barangay.name",caption:"Barangay",editable:o}))):null},p=function(e){var t=e.name,n=e.editable,a=void 0===n||n,o=e.visibleWhen,c=void 0===o||o;return u(e,["name","editable","visibleWhen"]),c?r.a.createElement(i.J,null,r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".unitno",caption:"Unit No",editable:a}),r.a.createElement(i.W,{name:t+".bldgno",caption:"Building No",editable:a}),r.a.createElement(i.W,{name:t+".bldgname",caption:"Building Name",editable:a})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".street",caption:"Street",editable:a}),r.a.createElement(i.W,{name:t+".subdivision",caption:"Subdivision",editable:a})),r.a.createElement(i.J,{row:!0},r.a.createElement(i.W,{name:t+".barangay.name",caption:"Barangay",editable:a}),r.a.createElement(i.W,{name:t+".citymunicipality",caption:"City/Municipality",editable:a}),r.a.createElement(i.W,{name:t+".province",caption:"Province",editable:a}))):null},f=function(e){var t=e.person,n=e.orgcode,a=e.name,o=e.editable,c=void 0===o||o,l=e.visibleWhen,s=void 0===l||l;if(u(e,["person","orgcode","name","editable","visibleWhen"]),!s)return null;var m,f="boolean"==typeof(m=t.resident)?m:"number"!=typeof m||1===m;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{caption:"Resident?",name:a+".resident",editable:c}),f?r.a.createElement(d,{orgcode:n,name:a+".address",caption:"Address",editable:c}):r.a.createElement(p,{name:a+".address",caption:"Address",editable:c}))},y=[{name:"ctc",title:"Community Tax Certficate",caption:"CTC No"},{name:"drivers",title:"Drivers License",caption:"License No"},{name:"sss",title:"SSS",caption:"SSS No"},{name:"gsis",title:"GSIS",caption:"GSIS No"},{name:"umid",title:"UMID",caption:"UMID No"},{name:"passport",title:"PASSPORT",caption:"Passport No."},{name:"tin",title:"TIN",caption:"TIN"}],b=function(e){var t=e.name,n=e.visibleWhen,o=void 0===n||n,c=e.showIdTypes,l=void 0===c||c,s=e.disableIdNo,m=void 0!==s&&s,d=e.caption;if(u(e,["name","defaultType","editable","visibleWhen","showIdTypes","disableIdNo","caption"]),!o)return null;var p=Object(a.useState)(y)[0];return Object(a.useState)(),r.a.createElement(i.J,null,d&&r.a.createElement(i.T,null,d),l&&r.a.createElement(i.l,{name:t+".type",items:p,caption:"ID Type",expr:function(e){return e.title}}),r.a.createElement(i.W,{name:t+".idno",required:!0,caption:"ID No.",readOnly:m}),r.a.createElement(i.W,{name:t+".placeissued",required:!0,caption:"Place Issued"}),r.a.createElement(i.n,{name:t+".dtissued",required:!0,caption:"Date Issued",helperText:"mm/dd/yyyy"}),r.a.createElement(i.n,{name:t+".dtvalid",required:!0,caption:"Validity Date",helperText:"mm/dd/yyyy"}))},h=function(e){return r.a.createElement(i.J,{row:!0},r.a.createElement(i.L,l({caption:"Gender"},e),r.a.createElement(i.x,{caption:"Male",value:"M"}),r.a.createElement(i.x,{caption:"Female",value:"F"})))},g=function(e){var t=e.name,n=e.showTitle,a=e.person,o=e.editable,c=e.orgcode,l=e.title,u=e.showIdEntry,s=void 0!==u&&u,m=e.showAddress,d=void 0!==m&&m,p=e.showExtended,y=void 0!==p&&p;return r.a.createElement(r.a.Fragment,null,void 0!==n&&n&&r.a.createElement(i.T,null,void 0===l?"Personal Information":l),r.a.createElement(i.J,null,r.a.createElement(i.W,{caption:"Last Name",name:t+".lastname",editable:o,required:!0}),r.a.createElement(i.W,{caption:"First Name",name:t+".firstname",editable:o,required:!0}),r.a.createElement(i.W,{caption:"Middle Name",name:t+".middlename",editable:o}),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.n,{caption:"Birth Date",name:t+".birthdate",editable:o}),r.a.createElement(h,{name:t+".gender",editable:o}),r.a.createElement(i.W,{caption:"TIN",name:t+".tin",editable:o}),r.a.createElement(i.P,null)),d&&r.a.createElement(f,{person:a,orgcode:c,name:t,editable:o}),r.a.createElement(i.r,{name:t+".email"}),r.a.createElement(i.E,{name:t+".mobileno"}),r.a.createElement(i.K,{name:t+".phoneno"}),s&&r.a.createElement(b,{name:t+".id",editable:o})))},v=function(e){var t=e.partner,n=e.email,o=e.onVerified,c=Object(a.useState)(),l=c[0],u=c[1],s=Object(a.useState)(),m=s[0],d=s[1],p=Object(a.useState)(!1),f=p[0],y=p[1];return r.a.createElement(i.J,null,r.a.createElement(i.s,{msg:m}),r.a.createElement(i.G,{open:f,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){d(null),function(){try{var e=Service.lookupAsync(t.id+":VerifyEmailService","epayment");return Promise.resolve(e.invoke("verifyEmail",{email:n}))}catch(e){return Promise.reject(e)}}().then((function(e){setHiddenCode(e.key),y(!1)})).catch((function(e){d(e),y(!1)}))},onCancel:function(){return y(!1)}}),r.a.createElement(i.J,null,r.a.createElement(i.J,{style:E.container},r.a.createElement(i.W,{label:"Key",placeholder:"Enter code sent to your email",name:"keycode",value:l,onChange:u,maxLength:6,fullWidth:!1,variant:"outlined"}),r.a.createElement(i.e,{label:"Resend Code",action:function(){return y(!0)},variant:"text"})),r.a.createElement(i.a,null,r.a.createElement(i.e,{caption:"Verify",action:function(){o()}}))))},E={container:{}},S=function(e){var t=e.partner,n=e.onCancel,o=e.onSubmit,c=Object(a.useState)(!1),l=c[0],u=c[1];return r.a.createElement(i.J,null,r.a.createElement(i.S,null,"New Building Permit Application"),r.a.createElement(i.P,{height:30}),r.a.createElement(i.T,null,"Please read thoroughly before proceeding"),r.a.createElement("p",{style:{opacity:.8}},"This online service will require personal information from the applicant, lot owner(s) and professionals involved in this transaction. In compliance with the Data Privacy Act, we are securing your consent that you have been authorized by the aforementioned parties to act on their behalf. The data collected will be stored, processed and used for effectively carrying out legitimate transactions with the local government of ",t.title,". If you do not agree to these terms, you can cancel out by click on the Cancel button. If you agree to these terms, tick on the checkbox and click Continue."),r.a.createElement(i.j,{caption:"Yes, I have read and agree to the terms and conditions",value:l,name:"agreeDisclaimer",onChange:u}),r.a.createElement(i.a,null,r.a.createElement(i.c,{caption:"Cancel",action:n}),r.a.createElement(i.e,{caption:"Continue",action:o,disableWhen:!l})))},O=function(e){var t=e.name,n=e.editable,a=e.readOnly,o=e.visibleWhen,c=e.disableIdNo,l=e.caption,u=void 0===l?"Professional Regulation Commission [PRC]":l;if(void 0!==o&&!o)return null;var s=void 0!==a&&a||!(void 0===n||n),m=s||void 0!==c&&c;return r.a.createElement(i.J,null,u&&r.a.createElement(i.T,null,u),r.a.createElement(i.W,{name:t+".idno",required:!0,caption:"ID No.",readOnly:m}),r.a.createElement(i.W,{name:t+".placeissued",required:!0,caption:"Place Issued",readOnly:s}),r.a.createElement(i.n,{name:t+".dtissued",required:!0,caption:"Date Issued",defaultValue:null,readOnly:s}),r.a.createElement(i.n,{name:t+".dtvalid",required:!0,caption:"Validity Date",defaultValue:null,readOnly:s}))},x=function(e){var t=e.name,n=e.editable,a=e.readOnly,o=e.visibleWhen,c=e.disableRefNo,l=e.caption,u=void 0===l?"Professional Tax Receipt [PTR]":l;if(void 0!==o&&!o)return null;var s=void 0!==a&&a||!(void 0===n||n),m=s||void 0!==c&&c;return r.a.createElement(i.J,null,u&&r.a.createElement(i.T,null,u),r.a.createElement(i.W,{name:t+".refno",required:!0,caption:"Receipt No.",readOnly:m}),r.a.createElement(i.W,{name:t+".placeissued",required:!0,caption:"Place Issued",readOnly:s}),r.a.createElement(i.n,{name:t+".dtissued",required:!0,caption:"Date Issued",defaultValue:null,readOnly:s}))},j=function(e){if(!Object(i.gb)(e.visibleWhen))return null;var t=Object(a.useState)(),n=t[0],o=t[1],c=Object(a.useState)({}),l=c[0],u=c[1],s=Object(a.useState)({}),m=s[0],d=s[1],p=Object(a.useState)(),f=p[0],y=p[1],b=Object(a.useState)(),h=b[0],g=b[1],v=Object(a.useState)(!1),E=v[0],S=v[1],O=Object(a.useState)(!1),x=O[0],j=O[1],w=e.partner,P=e.onVerify,C=e.onCancel,k=function(){try{var e=i.O.lookupAsync(w.id+":VerifyEmailService","epayment");return Promise.resolve(e.invoke("verifyEmail",{email:l.email,mobileno:l.mobileno}))}catch(e){return Promise.reject(e)}},_=e.module&&e.module.title||e.title||null;return r.a.createElement(i.g,null,_&&r.a.createElement(i.X,null,_),r.a.createElement(i.S,null,"Email Verification"),r.a.createElement(i.P,null),r.a.createElement(i.s,{msg:h}),r.a.createElement(i.t,{visibleWhen:!n,context:l,handler:u},!0===e.showName&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.W,{label:"Full Name",name:"name",autoFocus:!0}),r.a.createElement(i.W,{label:"Address",name:"address"})),r.a.createElement(i.r,{name:"email",required:!0,error:m.email,helperText:m.email}),r.a.createElement(i.E,{name:"mobileno"}),r.a.createElement(i.a,{disabled:E},r.a.createElement(i.c,{action:function(){"function"==typeof C&&C(),e.history&&e.history.goBack()}}),r.a.createElement(i.e,{label:"Submit",action:function(){l&&l.email?(g(null),S(!0),k().then((function(e){o(e.key),S(!1)})).catch((function(e){g(e),S(!1)}))):d({email:"A valid email is required."})},loading:E}))),r.a.createElement(i.G,{open:x,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){g(null),k().then((function(e){o(e.key),j(!1)})).catch((function(e){g(e),j(!1)}))},onCancel:function(){return j(!1)}}),r.a.createElement(i.J,{visibleWhen:!!n},r.a.createElement(i.W,{label:"Email Code",placeholder:"Enter code sent to your email",name:"keycode",value:f,onChange:y,maxLength:6,autoFocus:!0}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(i.e,{label:"Resend Code",action:function(){return j(!0)},variant:"text"})),r.a.createElement(i.a,null,r.a.createElement(i.e,{label:"Verify",visibleWhen:n,action:function(){n!==f?g("Code is incorrect"):P(l)}}))))},w=function(e){var t=e.partner,n=e.moveNextStep,o=e.movePrevStep,c=e.title,l=e.visibleWhen;if(void 0!==l&&!l)return null;var u=Object(i.hb)()[1];return Object(a.useState)(!1),Object(a.useState)(!1),r.a.createElement(j,{partner:t,title:c,onVerify:function(e){u({type:"SET_CONTACT",contact:e}),n()},onCancel:o})},P=function(e){var t=e.onCancel,n=e.onSubmit,o=e.bill,c=e.loading,u=Object(a.useState)({}),s=u[0],m=u[1],d=Object(a.useState)({}),p=d[0],f=d[1];return r.a.createElement(i.g,null,r.a.createElement(i.J,{style:{maxWidth:400}},r.a.createElement(i.m,{center:!0},r.a.createElement(i.X,null,"Confirm Transaction"),r.a.createElement(i.P,null),r.a.createElement(i.y,{style:l({},C.text)},"Please confirm and fill up name and address of the payer for your electronic official receipt and click Continue to proceed for payment."),r.a.createElement(i.P,null)),r.a.createElement(i.t,{context:s,handler:m},r.a.createElement(i.W,{name:"paidby",caption:"Paid By Name",required:!0,error:p.paidby,helperText:p.paidby,autoFocus:!0}),r.a.createElement(i.W,{name:"paidbyaddress",caption:"Paid By Address",required:!0,error:p.paidbyaddress,helperText:p.paidbyaddress})),r.a.createElement(i.P,null),r.a.createElement(i.J,{style:C.infoContainer},r.a.createElement("div",{style:l({},C.infoContainer,{alignItems:"center"})},r.a.createElement("label",null,"Payment Details"),r.a.createElement("h4",null,o.paymentdetails)),r.a.createElement("div",{style:C.amountContainer},r.a.createElement("label",{style:C.amount},"Php ",Object(i.Z)(o.amount)))),r.a.createElement(i.P,null),r.a.createElement(i.a,null,r.a.createElement(i.e,{variant:"text",caption:"Back",action:t}),r.a.createElement(i.e,{caption:"Continue",action:function(){var e={};s.paidby||(e.paidby="Required"),s.paidbyaddress||(e.paidbyaddress="Required"),f(e),0===Object.keys(e).length&&n(s)},disableWhen:c,loading:c}))))},C={text:{display:"block",textAlign:"center"},infoContainer:{display:"flex",flexDirection:"column"},amountContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #aaa"},amount:{fontSize:24,fontWeight:800,padding:10}},k=function(e){var t=e.po,n=e.error,o=e.payOptions,l=e.partner,u=Object(a.useState)(!1)[0],s=Object(a.useState)(!1),m=s[0],d=s[1],p=Object(a.useState)(),f=p[0],y=p[1],b=Object(a.useState)(!1),h=b[0],g=b[1],v=Object(a.useState)(!1),E=v[0],S=v[1],O=Object(a.useState)({}),x=O[0],j=O[1],w=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=document.getElementById("postform");e&&x.formaction&&e.submit()}),[x]);var P=[];return x.params&&Object.keys(x.params).forEach((function(e){P.push([e,x.params[e]])})),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.G,{title:"Acknowledgement",msg:"Kindly acknowledge and confirm with the Terms and Conditions before proceeding.",open:E,onAccept:function(){return S(!1)}}),r.a.createElement(i.F,{open:m,showActions:!1},r.a.createElement(i.J,{center:!0},r.a.createElement(i.P,null),r.a.createElement("label",{style:{fontSize:20,fontWeight:800}},"Contacting Partner"),r.a.createElement("label",{style:{fontSize:14,opacity:.75}},"Kindly wait while we send your payment request to our partner."),r.a.createElement(i.C,{showMessage:!1}),r.a.createElement(i.P,null))),r.a.createElement(i.P,null),r.a.createElement(i.J,{center:!0},r.a.createElement(i.J,{style:_.poContainer},r.a.createElement(i.J,{center:!0},r.a.createElement(i.X,{color:"green"},"Your Order")),r.a.createElement(i.P,null),r.a.createElement(i.J,null,r.a.createElement(i.y,{context:l,caption:"Agency",expr:"title"}),r.a.createElement(i.y,{context:t,caption:"Reference No.",expr:"objid"}),r.a.createElement(i.y,{context:t,caption:"Transaction Type",expr:"txntypename"}),r.a.createElement(i.y,{context:t,caption:"Particulars",expr:"particulars"}),r.a.createElement(i.y,{context:t,caption:"Paid By",expr:"paidby"}),r.a.createElement(i.P,{height:10}),r.a.createElement(i.y,{caption:"Amount"},t&&Object(i.Z)(t.amount)),r.a.createElement(i.y,{caption:"Web Service Fee"},t&&Object(i.Z)(t.webfee)),r.a.createElement(i.y,{caption:"Total"},t&&Object(i.Z)(t.total))),r.a.createElement(i.u,{row:!0,style:{marginTop:10}},r.a.createElement(i.y,{style:{color:"blue",paddingRight:5}},"Note:"),r.a.createElement(i.y,{style:{color:"red"}},t&&"Pay on or before "+t.expirydate)),r.a.createElement(i.j,{checked:h,onChange:g,style:{marginRight:5},caption:r.a.createElement("span",{style:{fontSize:14,paddingTop:8}},"I acknowledge and agree to the Terms and Conditions of this e-payment facility.")}),r.a.createElement(i.P,{height:10})),!u&&h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.s,{msg:f||n}),r.a.createElement(i.P,null),r.a.createElement(i.y,null,"Click to choose Type of Payment:"),r.a.createElement(i.u,{row:!0},o&&o.map((function(e){return r.a.createElement("button",{type:"submit",style:_.payButton,onClick:function(){return n=e,void(h?(y(null),d(!0),i.O.lookup("CloudPaymentService","epayment").invoke("getPayPartner",{objid:t.objid,payoption:n.objid},(function(e,t){e?(/syntax/gi.test(e)?y("Could not contact payment partner. Please try again."):y(e),d(!1)):(j(t),c.a.set("partner",l))}))):S(!0));var n}},r.a.createElement("input",{type:"hidden",name:"refno",value:t.objid}),r.a.createElement("input",{type:"hidden",name:"payoption",value:e.objid}),r.a.createElement(i.v,{src:"/assets/"+e.paypartnerid.toLowerCase()+".png",width:"150",style:{cursor:"pointer"}}))}))))),!0===x.isredirect?r.a.createElement("form",{id:"postform",method:"GET",action:x.formaction,ref:w},r.a.createElement("input",{type:"hidden",name:"id",value:x.id})):r.a.createElement("form",{id:"postform",method:"POST",action:x.formaction,ref:w},r.a.createElement(r.a.Fragment,null,P.map((function(e){return r.a.createElement("input",{key:e[0],type:"hidden",name:e[0],value:e[1]})})),r.a.createElement("input",{type:"hidden",name:"orgcode",value:"${po.orgcode}"}))))},_={poContainer:{display:"flex",flexDirection:"column",border:"1px solid #aaa",borderRadius:5,padding:15,maxWidth:450},payButton:{border:"none",background:"none"}},W=function(e){var t=e.module,n=e.partner,o=e.initialContact,c=void 0===o?{}:o,u=e.initialStep,s=void 0===u?0:u,m=e.cancelPayment,d=function(){x((function(e){return e+1!==f.length?e+1:e}))},p=function(){x((function(e){return e-1>=0?e-1:e}))},f=[{name:"verifyemail",title:"Email Verification",component:j,actions:{onCancel:function(){e.history.goBack()},onVerify:function(e){N(e),d()}}},{name:"billing",title:t.title,component:t.component,actions:{onCancel:function(e){m?m():p()},onSubmit:function(e){I(e),d()}}},{name:"checkout",title:"Checkout Order",component:P,actions:{onCancel:p,onSubmit:function(e){h(!0),E(null),function(){try{var t=l({},A);t.paidby=e.paidby,t.paidbyaddress=e.paidbyaddress,t.email=T.email,t.mobileno=T.mobileno;var a=i.O.lookupAsync(n.id+":EPaymentService","epayment");return Promise.resolve(a.invoke("createPaymentOrder",t)).then((function(e){var t=i.O.lookupAsync("CloudPaymentService","epayment");return Promise.resolve(t.invoke("getPaymentOrder",{objid:e.objid})).then((function(a){return e=a,Promise.resolve(t.invoke("getPaymentPartnerOptions",{partnerid:e.orgcode})).then((function(t){return{po:e,payOptions:t,partner:n}}))}))}))}catch(e){return Promise.reject(e)}}().then((function(e){D(e.po),M(e.payOptions),d(),h(!1)})).catch((function(e){E(e.toString()),h(!1)}))}}},{name:"payment",title:"Online Payment",component:k,actions:{onCancel:p,onSubmit:function(){}}}],y=Object(a.useState)(!1),b=y[0],h=y[1],g=Object(a.useState)(),v=g[0],E=g[1],S=Object(a.useState)(s),O=S[0],x=S[1],w=Object(a.useState)(f[s]),C=w[0],_=w[1],W=Object(a.useState)(c),T=W[0],N=W[1],J=Object(a.useState)(),A=J[0],I=J[1],F=Object(a.useState)(),q=F[0],D=F[1],R=Object(a.useState)(),B=R[0],M=R[1],V=Object(a.useState)(0)[0];return Object(a.useEffect)((function(){_(f[O])}),[O]),r.a.createElement(C.component,l({},e,{contact:T,bill:A,po:q,payOptions:B},C.actions,{error:v,module:t,loading:b,page:C,initialStep:V}))},T=function(e){var t=Object(a.useState)({}),n=t[0],o=t[1],c=e.partner;Object(a.useEffect)((function(){var t={orgcode:Object(i.db)(e.location,"orgcode"),paymentrefid:Object(i.db)(e.location,"paymentrefid"),txnno:Object(i.db)(e.location,"txnno"),txndate:Object(i.db)(e.location,"txndate"),amount:Object(i.db)(e.location,"amount"),paypartnerid:Object(i.db)(e.location,"paypartnerid"),paidby:Object(i.db)(e.location,"paidby"),email:Object(i.db)(e.location,"email")};o(t)}),[]);var u=[];return c.phoneno&&u.push("For inquiries, contact us on "+c.phoneno),c.email&&u.push(u.length>1?"or email to "+c.email:"For inquiries, email us on "+c.email),0==u.length&&u.push("kindly contact the Treasurer's Office."),r.a.createElement(i.g,null,r.a.createElement(i.m,{center:!0},r.a.createElement(i.v,{src:"/assets/success.png",width:60,alt:"success"}),r.a.createElement(i.S,{style:{fontSize:24}},"Payment Successful"),r.a.createElement(i.t,{context:n,handler:o,style:N.paymentInfoContainer},r.a.createElement(i.W,{caption:"Transaction #",name:"txnno",readOnly:!0}),r.a.createElement(i.W,{caption:"Payment Date #",name:"txndate",readOnly:!0}),r.a.createElement(i.J,{style:N.amountContainer},r.a.createElement("label",{style:N.amount},"Amount"),r.a.createElement("label",{style:N.amount},"PHP ",Object(i.Z)(n.amount))),r.a.createElement(i.J,{center:!0},r.a.createElement("label",{style:{fontSize:10,marginTop:10}},"Payment Partner"),r.a.createElement(i.v,{src:"/assets/"+n.paypartnerid+".png",width:150}),r.a.createElement(i.v,null))),r.a.createElement(i.y,{style:l({},N.text,{maxWidth:300})},"Your e-receipt and tickets will be sent to your email at ",n.email),r.a.createElement(i.y,{labelStyle:N.text},"Thank you for using this service"),u.length>0&&r.a.createElement(i.y,{labelStyle:N.text},u.join(" ")),r.a.createElement(i.h,null,r.a.createElement(i.e,{caption:"Return",onClick:function(){c&&c.name?e.history.replace("/partner/"+c.name+"/services",{partner:c}):e.history.replace("/partners")}})),r.a.createElement(i.P,null)))},N={text:{display:"block",textAlign:"center",width:300},paymentInfoContainer:{display:"flex",flexDirection:"column",padding:15,border:"1px solid #aaa",borderRadius:5,width:"100%"},amountContainer:{display:"flex",justifyContent:"space-between",padding:10,borderBottom:"1px solid #aaa"},amount:{fontWeight:800}},J=function(e){var t=e.partner,n=e.history,o=e.location,c=Object(a.useState)(),l=c[0],u=c[1],s=Object(a.useState)(),m=s[0],d=s[1];Object(a.useEffect)((function(){d(Object(i.db)(o,"code")),u(Object(i.db)(o,"message"))}),[]);var p=[];return t.phoneno&&p.push("Contact us on "+t.phoneno),t.email&&p.push(p.length>0?"or email at "+t.email:"Email us at "+t.email),p.push(p.length>0?"for any assistance.":"For inquiries, please contact the Treasurer's Office."),r.a.createElement(i.J,{center:!0},r.a.createElement(i.J,{style:{width:400,padding:15}},r.a.createElement(i.g,null,r.a.createElement(i.m,{center:!0},r.a.createElement(i.v,{src:"/assets/error.png",width:75,alt:"success"}),r.a.createElement(i.P,null),r.a.createElement(i.X,null,"Processing Error"),r.a.createElement(i.P,null),r.a.createElement(i.y,{labelStyle:A.text},"Our partner was not able to process your payment."),r.a.createElement(i.y,{labelStyle:A.text},"Make sure to verify that your credentials are correct upon submitting your payment."),m&&r.a.createElement("h4",{style:{marginBottom:3}},"Error ",m),l&&r.a.createElement("div",null,l),r.a.createElement(i.P,null),p.length>0&&r.a.createElement(i.y,{labelStyle:A.text},p.join(" ")),r.a.createElement(i.P,null),r.a.createElement(i.e,{variant:"text",caption:"OK",onClick:function(){t&&t.name?n.replace("/partner/"+t.name+"/services",{partner:t}):n.replace("/partners")}})))))},A={text:{display:"block",textAlign:"center"}}}}]);
//# sourceMappingURL=1.e4c69766.chunk.js.map
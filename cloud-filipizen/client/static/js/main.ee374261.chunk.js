(this["webpackJsonpfilipizen-client"]=this["webpackJsonpfilipizen-client"]||[]).push([[0],{221:function(e,t,n){e.exports=n.p+"static/media/filipizen.5fd85b9e.svg"},394:function(e,t,n){e.exports=n(694)},399:function(e,t,n){},589:function(e,t){},593:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){},604:function(e,t){},606:function(e,t){},616:function(e,t){},618:function(e,t){},643:function(e,t){},644:function(e,t){},649:function(e,t){},651:function(e,t){},658:function(e,t){},677:function(e,t){},693:function(e,t,n){},694:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=(n(399),n(75)),l=n(19),s=function(e){return r.a.createElement("div",{className:"HomeScreen"},r.a.createElement("div",{className:"HomeScreen__panel"},r.a.createElement("img",Object.assign({className:"HomeScreen__image",src:n(221)},e,{alt:"filipizen logo"})),r.a.createElement("div",{className:"HomeScreen__infoContainer"},r.a.createElement("div",{className:"HomeScreen__information"},r.a.createElement("label",{className:"HomeScreen__title"},"Experience ease of doing business with the government"),r.a.createElement("label",{className:"HomeScreen__description"},"Over 50 local government units participating all over the Philippines.")),r.a.createElement("button",{className:"HomeScreen__button",onClick:function(){e.history.push("/partners")}},"Start Here"),r.a.createElement("div",{className:"Spacer"}))))},m=n(370),u=n(369),p=n(22),f=n(2),d=n(97),b=(n(593),function(e){var t=function(e){var t=e.children,n={header:null,left:null,center:null,right:null,footer:null};return r.a.Children.forEach(t,(function(e){if(e){var t=e.props.target||"center",a="string"===typeof e.type?e.type:e.type.name;/header/i.test(a)?t="header":/footer/i.test(a)&&(t="footer"),n[t]||(n[t]=[]),n[t].push(e)}})),n}(e),n=t.header,a=t.center,i=t.footer;return r.a.createElement("div",{className:"template"},r.a.createElement("div",{className:"row header"},n),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"panel"},r.a.createElement("div",{className:"main"},a," "))),r.a.createElement("div",{className:"row footer"},i))}),g=function(e){return r.a.createElement("img",Object.assign({src:n(221)},e,{alt:"filipizen"}))},v=(n(117),n(594),function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("a",{href:"/partners"},r.a.createElement(g,null)))}),h=(n(595),function(e){var t=new Date;return r.a.createElement("div",{className:"Footer"},r.a.createElement("span",{className:"Footer__info"},"@",t.getFullYear()," Sitemap | Privacy | Legal | Feedback"))}),E=["children"],y=function(e){var t=e.children,n=Object(d.a)(e,E),a=void 0===n.showHeader||n.showHeader;return r.a.createElement(b,{logo:g},a&&r.a.createElement(v,null),t,r.a.createElement(h,null))},O=(n(596),f.Q.lookup("CloudPartnerService","partner")),j=Object(f.gb)(),w=function(e){var t=e.partners,n=t[0].group;return r.a.createElement("div",{className:"PartnerGroup"},r.a.createElement(f.U,null,n.title),r.a.createElement(f.C,{items:t},(function(e){var t=e.item;return r.a.createElement("div",{key:t.id,style:{paddingBottom:2}},r.a.createElement(f.A,{style:"0"!==t.isonline?{}:{color:"#aaa"},component:o.b,to:{pathname:"/partner/".concat(n.objid,"_").concat(t.name,"/services"),state:{partner:t}},caption:"".concat(t.title," (").concat(t.id,")")}))})))},k=function(e){var t=e.partners,n=Object(f.ib)(t,"clusterid");return r.a.createElement("div",{className:"PartnerList_group"},Object.keys(n).map((function(e){return/test/i.test(e)?null:r.a.createElement(w,{key:e,partners:n[e]})})))},S=function(e){var t=Object(a.useState)(!0),n=Object(p.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)([]),l=Object(p.a)(o,2),s=l[0],d=l[1],b=function(e,t){var n=s.findIndex((function(t){return t.id===e}));if(n>=0){var a=s[n];if(a.isonline!==t){a.isonline=t;var r=Object(u.a)(s);r[n]=a,d(r)}}};return j.register("activate",(function(e){b(e,"1")})),j.register("deactivate",(function(e){b(e,"0")})),r.a.useEffect((function(){i&&O.invoke("getActivePartners",null,(function(e,t){e?console.log("Error loading partners ",e):j.emit("get-partners",{},(function(e){var n=t.map((function(t){var n=Object(m.a)({},t),a=e.find((function(e){return e.id===t.id}));return a&&(n.isonline=a.isonline?"1":"0"),n}));d(n)})),c(!1)}))}),[]),r.a.createElement(y,null,r.a.createElement("div",{className:"PartnerList"},i&&r.a.createElement(f.z,null),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.R,{height:20}),r.a.createElement(f.ab,null,"Select a Partner Agency"),r.a.createElement(k,{partners:s}))))},C={container:{background:"#2c3e50",padding:"4px 50px",display:"flex",flexDirection:"row",alignItems:"center"},title:{color:"#ddd",paddingLeft:5,fontSize:"16pt",fontWeight:"bold",textDecoration:"none"}},x=function(e){var t=e.partner,n=e.Logo;return r.a.createElement(f.K,{style:C.container},r.a.createElement(o.b,{to:{pathname:"/partner/".concat(t.name,"/services"),state:{partner:t}}},r.a.createElement("div",null,n)),r.a.createElement("div",{style:C.title},t.title&&t.title.toUpperCase()))},P=["children"],W=function(e){var t,n=e.children,a=Object(d.a)(e,P);return r.a.createElement(y,{logo:g},r.a.createElement(x,Object.assign({Logo:(t=a.partner,r.a.createElement(f.v,{style:{height:"40px"},src:"/assets/".concat(t?t.id:"null",".png"),height:"30px"}))},a)),n)},B=n(77),N=(n(598),n(599),[{name:"bpls",lib:"filipizen-bpls",title:"Business",services:[{module:"bpls",name:"businessbilling",title:"Business Online Billing",component:"BplsBillingWebController"},{module:"bpls",name:"renewbusiness",title:"Renew Business Application",component:"RenewBusinessWebController"},{module:"bpls",name:"newbusiness",title:"New Business Application",component:"NewBusinessWebController"}]},{name:"rptis",lib:"filipizen-rptis",title:"Real Property",services:[{module:"rptis",name:"rptbilling",title:"Realty Tax Online Billing",component:"RptBillingWebController"},{module:"rptis",name:"rpttaxclearance",title:"Online Realty Tax Clearance",component:"RealtyTaxClearanceWebController"}]},{name:"waterworks",lib:"filipizen-waterworks",title:"Waterworks",services:[{module:"waterworks",name:"waterworksbilling",title:"Waterworks Billing",component:"WaterworksBillingWebController"}]},{name:"ticketing",title:"Ticketing",services:[{module:"ticketing",name:"terminalpass",title:"Terminal Pass",component:"TerminalTicketWebController"}]},{name:"po",title:"Payment Order",services:[{module:"po",name:"po",title:"Online Payment Order",component:"PoWebController"}]},{name:"obo",lib:"filipizen-obo",title:"Building and Construction",services:[{module:"obo",name:"bldgpermit",title:"Building Permit Application",component:"BuildingPermitWebController"},{module:"obo",name:"occupancypermit",title:"Certificate of Occupancy Application",component:"OccupancyPermitWebController"},{module:"obo",name:"registerprofessionals",title:"Register Professional",component:"ProfessionalWebController"},{module:"obo",name:"updateprofessional",title:"Update Professional",component:"UpdateProfessionalWebController"},{module:"obo",name:"apptracking",title:"Application Tracking",component:"AppTrackingWebController"},{module:"obo",name:"obobilling",title:"OSCP Online Billing and Payment",component:"OboBillingWebController"},{module:"obo",name:"ptrbilling",title:"Pay PTR (Professional Tax Receipt)",component:"PtrBillingWebController"}]}]),R=function(e){var t=e.includeservices;if(!t)return[];var n=new RegExp("(".concat(t,")"),"i"),a=e.excludeservices?new RegExp("(".concat(e.excludeservices,")"),"i"):null,r=JSON.parse(JSON.stringify(N));return r.forEach((function(e){var t=e.services.filter((function(e){return n.test(e.name)&&(!a||!a.test(e.name))}));e.services=t})),r.filter((function(e){return e.services.length>0}))},_={},I=function(e){var t=e.modules,n=e.onSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.K,{style:z.screen},t.map((function(e,t){return r.a.createElement(f.K,{key:"".concat(e.name).concat(t),style:z.moduleContainer},r.a.createElement(f.U,null,e.title),r.a.createElement(f.C,{items:e.services,style:z.list},(function(t){var a=t.item;return r.a.createElement(f.A,{key:a.name,component:"button",onClick:function(){return n(e,a)}},a.title)})))}))))},z={screen:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"wrap"},list:{display:"flex",flexDirection:"column",alignItems:"flex-start"},moduleContainer:{width:300},maintenanceContainer:{display:"flex",marginTop:20},maintenanceInfo:{},maintenanceImage:{width:350},maintenanceTitle:{fontSize:"3rem",fontWeight:800}},T=function(e){var t=e.location,n=e.history,i=Object(a.useState)(),c=Object(p.a)(i,2),o=c[0],l=c[1],s=Object(a.useState)([]),m=Object(p.a)(s,2),u=m[0],d=m[1];Object(a.useEffect)((function(){var e=t.state?t.state.partner:null;e?(l(e),d(R(e))):function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/services");(!a||a.length<3)&&n("Invalid path");var r=a[1],i=a[2];f.Q.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){e?n("Partner ".concat(i," does not exist. ").concat(e)):"0"!==a.isonline?t(a):n("Partner is offline.")}))}))}(t).then((function(e){l(e),d(R(e))})).catch((function(e){return n.push("/partners")}))}),[t,n]);return o?r.a.createElement(W,{partner:o,location:t,history:n},r.a.createElement(f.J,null,r.a.createElement(f.R,{height:20}),u.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.ab,null,"Select Transaction"),r.a.createElement(f.R,{height:20}),r.a.createElement(I,{modules:u,onSelect:function(e,t){n.push({pathname:"/partner/".concat(o.group.name,"_").concat(o.name,"/").concat(e.name,"/").concat(t.name),state:{partner:o,module:e,service:t}})}}),r.a.createElement(f.R,{height:50})),0===u.length&&r.a.createElement("div",{style:z.maintenanceContainer},r.a.createElement("div",{style:z.maintenanceInfo},r.a.createElement("label",{style:z.maintenanceTitle},"Website under maintenance"),r.a.createElement("p",null,"This website is currently undergoing a scheduled maintenance. Will return shortly. Our apologies for the inconvenience.")),r.a.createElement("img",{style:z.maintenanceImage,src:"/assets/filipizen.png",alt:"Under Maintenance"})))):r.a.createElement(y,null)},H=["partner","service"],A=function(e){return function(e){var t=_[e.module];return"undefined"===typeof t&&("bpls"===e.module?t=B.a.lib((function(){return n.e(3).then(n.bind(null,743))})):"rptis"===e.module?t=B.a.lib((function(){return n.e(6).then(n.bind(null,744))})):"waterworks"===e.module?t=B.a.lib((function(){return n.e(8).then(n.bind(null,745))})):"obo"===e.module?t=B.a.lib((function(){return n.e(4).then(n.bind(null,746))})):"ticketing"===e.module?t=B.a.lib((function(){return n.e(7).then(n.bind(null,747))})):"po"===e.module&&(t=B.a.lib((function(){return n.e(5).then(n.bind(null,748))}))),_[e.module]=t),t}(e)},Q=function(e){var t=Object(l.g)(),n=Object(l.f)(),i=function(e){return e&&e.state?e.state:{}}(t),c=i.partner,o=i.service,s=Object(d.a)(i,H),m=Object(a.useState)(c),u=Object(p.a)(m,2),b=u[0],g=u[1],v=Object(a.useState)(o),h=Object(p.a)(v,2),E=h[0],y=h[1];if(Object(a.useEffect)((function(){c||function(e){return new Promise((function(t,n){var a=e.pathname.match("/partner/(.*)_(.*)/(.*)/(.*)");(!a||a.length<5)&&n("Invalid path");var r=a[1],i=a[2],c=a[3],o=a[4];f.Q.lookup("CloudPartnerService","partner").invoke("findByGroupAndName",{groupname:r,name:i},(function(e,a){if(e)n("Partner ".concat(i," does not exist. ").concat(e));else if("0"!==a.isonline){var r,l=R(a).find((function(e){return e.name===c})),s=l?l.services.find((function(e){return e.name===o})):null;if(!l||!s)return r="/partner/".concat(a.group.name,"_").concat(a.name,"/services"),void t({redirectUrl:r});t({partner:a,module:l,service:s})}else n("Partner is offline.")}))}))}(t).then((function(e){e.redirectUrl?n.replace(e.redirectUrl):(g(e.partner),y(e.service))})).catch((function(e){return n.replace("/partners")}))}),[n,c,t]),!b||!E)return null;var O=A(E);return r.a.createElement(W,{partner:b},r.a.createElement(O,Object.assign({},e,{partner:b,service:E},s),(function(t){var n=t[E.component];return r.a.createElement(n,Object.assign({},e,{partner:b,service:E},s))})))},U=n(118),D=function(e){var t=e.location.location,n=Object(a.useState)({}),i=Object(p.a)(n,2),c=i[0],o=i[1];Object(a.useEffect)((function(){t&&function(){var e=Object(f.hb)(t,"orgcode");f.Q.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){o(e?{}:t)}))}()}),[t]);return r.a.createElement(W,{partner:c},r.a.createElement(f.j,{center:!0},r.a.createElement(U.f,Object.assign({onClose:function(){c&&c.name?e.history.replace({pathname:"/partner/".concat(c.name,"/services"),state:{partner:c}}):e.history.replace({pathname:"/partners",state:{partner:c}})}},e,{partner:c}))))},L=function(e){var t=e.location,n=e.history,i=Object(a.useState)({}),c=Object(p.a)(i,2),o=c[0],l=c[1];Object(a.useEffect)((function(){t&&function(){var e=Object(f.hb)(t,"orgcode");f.Q.lookup("CloudPartnerService","partner").invoke("findById",{id:e},(function(e,t){l(e?{}:t)}))}()}),[t]);return r.a.createElement(W,{partner:o},r.a.createElement(f.K,null,r.a.createElement(U.e,Object.assign({onClose:function(){o&&o.name?n.replace({pathname:"/partner/".concat(o.name,"/services"),state:{partner:o}}):n.replace({pathname:"/partners",state:{partner:o}})}},e,{partner:o}))))},F=n(207),J=n.n(F),K=n(367),G=f.Q.lookup("CloudPartnerService","partner"),q=f.Q.lookup("CloudQrCodeInfoService","partner"),M=function(){var e=Object(K.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Q.lookupAsync("".concat(t.orgcode,":OnlineQrCodeInfoService"),t.connection,t.module);case 2:return n=e.sent,e.next=5,n.invoke("getInfos",t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=e.msg;return r.a.createElement("div",{style:Y.container},r.a.createElement(f.e,null,r.a.createElement("div",{style:{maxWidth:450}},r.a.createElement(g,{width:200}),r.a.createElement("h2",null,"Document Validation"),r.a.createElement(f.t,{msg:t}))))},Y={container:{padding:"0px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#f5f5f5",minHeight:"100%",paddingLeft:20,paddingRight:20,paddingBottom:20},caption:{width:200,fontWeight:600}},$=function(e){var t=e.location,n=Object(a.useState)(!0),i=Object(p.a)(n,2),c=i[0],o=i[1],l=Object(a.useState)({}),s=Object(p.a)(l,2),m=s[0],u=s[1],d=Object(a.useState)([]),b=Object(p.a)(d,2),v=b[0],h=b[1],E=Object(a.useState)(),y=Object(p.a)(E,2),O=y[0],j=y[1],w=Object(a.useState)(!1),k=Object(p.a)(w,2),S=k[0],C=k[1],x=Object(a.useState)(),P=Object(p.a)(x,2),W=P[0],B=P[1];return Object(a.useEffect)((function(){G.invoke("findById",{id:m.orgcode},(function(e,t){B(t)}))}),[m]),Object(a.useEffect)((function(){var e={};e.data=Object(f.hb)(t,"data"),C(!0),q.invoke("decode",e,(function(e,t){e?(j(e),C(!1),o(!1)):(u(t),M(t).then((function(e){h(e),C(!1),o(!1)})).catch((function(e){j(e.toString()),C(!1),o(!1)})))}))}),[t]),c||S||!W?null:O?r.a.createElement(V,{msg:O}):0===v.length?r.a.createElement(V,{msg:"QR Code or document is invalid"}):r.a.createElement("div",{style:Y.container},r.a.createElement(f.e,null,r.a.createElement("div",{style:{maxWidth:450}},r.a.createElement(g,{width:200}),r.a.createElement("h2",null,"Document Validation"),v.map((function(e,t){return e.title?r.a.createElement(f.U,{key:t},e.title):r.a.createElement(f.K,null,r.a.createElement(f.y,{style:Y.caption},e.caption),r.a.createElement(f.y,null,e.value))})))))},X={actions:{display:"flex",flexDirection:"row",justifyContent:"center"},code:{fontSize:120,color:"#686868"},label:{fontSize:36,fontWeight:"bold",color:"#3f51b5",textAlign:"center"}},Z=function(e){return r.a.createElement(y,{showHeader:!1},r.a.createElement(f.J,null,r.a.createElement(f.R,{height:60}),r.a.createElement(g,{width:200}),r.a.createElement(f.R,{height:30}),r.a.createElement(f.j,{center:!0},r.a.createElement(f.y,{labelStyle:X.code},"404"),r.a.createElement("label",{style:X.label},"Sorry, the page you tried to access cannot be found."),r.a.createElement(f.R,{height:40}),r.a.createElement(f.K,{style:X.actions},r.a.createElement(f.c,{style:{paddingLeft:50,paddingRight:50},caption:"Start Here",size:"large",onClick:function(){e.history.push("/partners")}})))))},ee=n(208),te=[{name:"home",exact:!0,path:"/",component:s},{name:"partners",path:"/partners",component:S},{name:"services",path:"/partner/:partnerId/services",component:T},{name:"service",path:"/partner/:partnerId/:module/:service",component:Q},{name:"success",path:"/payment/success",component:D},{name:"error",path:"/payment/error",component:L},{name:"systools",exact:!0,path:"/admin/systool",component:s},{name:"epayment-monitoring",exact:!0,path:"/admin/epayment/monitor",component:ee.b},{name:"epayment-monitoring",exact:!0,path:"/admin/epayment/billing",component:ee.a},{name:"qrcode",exact:!0,path:"/qr",component:$},{name:"404",path:"*",component:Z}];n(693);var ne=function(){return r.a.createElement(o.a,null,r.a.createElement(l.c,null,te.map((function(e){return r.a.createElement(l.a,Object.assign({key:e.name},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[394,1,2]]]);
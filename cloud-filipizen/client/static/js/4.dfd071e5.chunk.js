(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{611:function(e,t,n){},616:function(e,t,n){"use strict";n.r(t),n.d(t,"RealtyTaxClearanceWebController",(function(){return Ot})),n.d(t,"RptBillingWebController",(function(){return vt}));var a=n(0),r=n.n(a),l=n(190),o=n(145),i=n(186),c=n(540),u=n(306),m=(n(541),n(543)),s=n(92),d=n(308),p=(n(547),n(22)),f=(n(305),n(560),n(91)),y=n(146),b=n(193),v=n(61),E=n.n(v),h=n(81),g=n(93),x=n(309),O=n(69),C=n(307),S=n(191),j=(n(20),n(558),n(213),n(50),n(206),n(132)),P=(n(42),n(209),n(106),n(107),n(546),n(64),n(545),n(94),n(195)),w=n(187),T=n(188),k=n(147),W=n(133),N=n.n(W),A=n(548),B=n(544),R=(n(210),n(211),n(192)),I=n(549),q=n(172),D=n.n(q),F=(n(561),n(551),n(194),n(550),n(212),n(552),n(554),n(556),n(105),n(553),n(555),n(189),n(185),n(559),n(207),n(134)),V=n.n(F),L=n(208);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t.indexOf(n=l[a])>=0||(r[n]=e[n]);return r}var M=Object(p.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",marginTop:50,borderTop:"solid 1px lightgrey"},center:{flexDirection:"column"}}})),H=function(e){var t=e.children,n=e.disabled,a=void 0!==n&&n,o=e.center,i=void 0!==o&&o,c=e.visibleWhen,u=void 0===c||c,m=_(e,["children","disabled","center","visibleWhen"]);if(!u)return null;var s=M(),d=""+s.container;return void 0!==i&&1==i&&(d=d+" "+s.center),r.a.createElement(l.a,z({pt:2},m,{className:d,disabled:!0}),a?r.a.Children.map(t,(function(e){return r.a.cloneElement(e,{disabled:!0})})):t)},G=(Object(p.a)((function(e){return{root:{backgroundColor:"#2c3e50"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)},toolBar:{paddingLeft:"50px"}}})),Object(p.a)((function(e){return{button:{textTransform:"none"}}}))),K=function(e){var t=e.label,n=e.caption,a=e.action,l=e.loading,c=e.children,u=e.visibleWhen,m=void 0===u||u,s=e.disableWhen,d=void 0!==s&&s,p=_(e,["label","caption","action","loading","children","visibleWhen","disableWhen"]);if(!m)return null;var f=G();return r.a.createElement(o.a,z({size:"small",variant:"contained",color:"primary",onClick:a,style:{margin:2},disabled:d,endIcon:l&&r.a.createElement(i.a,z({size:18,color:"secondary"},p)),className:f.button},p),t||n||c)},Y=function(e){var t=e.label,n=e.caption,a=e.children,l=_(e,["label","caption","children"]);return r.a.createElement(K,z({size:"medium"},l,{variant:"text"}),t||n||a||"Back")},J=(Object(p.a)((function(e){return{button:{textTransform:"none"}}})),Object(p.a)({root:{marginTop:10,paddingLeft:20,paddingRight:20},title:{padding:10}})),U=function(e){var t=e.caption,n=e.children,a=J();return r.a.createElement(c.a,{className:a.root},t&&r.a.createElement(f.a,{variant:"h6",component:"h3",className:a.title},t),r.a.createElement(u.a,null,n))},X=r.a.createContext(),Q=function(e,t,n,a){return n&&"function"==typeof n?n(e):n&&"string"==typeof n?E.a.get(e,""+n)||a:E.a.get(e,t)||a},Z=function(e,t){var n=t.id||t.name,a=t.expr;if(e){var r=t.onChange||e.handleChange;return{value:Q(e.context,n,a,""),onChange:r}}var l=t.context,o=t.onChange;return{value:l?Q(l,n,a):t.value||"",onChange:function(e,t){void 0===t&&(t=!1),o(t?e.target.checked:e.target.value)}}},$=function(){return r.a.useContext(X)},ee=function(e){var t=e.editable,n=void 0===t||t,a=e.readOnly,l=void 0!==a&&a,o=e.text,i=e.caption,c=_(e,["visibleWhen","editable","readOnly","text","caption"]),u=$(),m=Z(u,c),s=!1;return!l&&n||(s=!0),r.a.createElement(y.a,{control:r.a.createElement(b.a,z({checked:"string"!=typeof m.value&&m.value,disabled:s},c,m,{onChange:function(e){m.onChange(e,!0)}})),label:o||i})},te=Object(p.a)((function(e){return{formControl:{marginTop:3}}})),ne=function(e){var t=e.editable,n=void 0===t||t,a=e.required,l=void 0!==a&&a,o=e.items,i=e.caption,c=e.expr,u=e.fullWidth,m=void 0===u||u,s=_(e,["editable","required","items","caption","expr","fullWidth"]),d=$(),p=Z(d,s),f=te();return r.a.createElement(O.a,{className:f.formControl,fullWidth:m,disabled:!n},r.a.createElement(g.a,{required:l,id:"select-id"},i),r.a.createElement(S.a,z({labelId:"select-id",id:"select-id",required:l},s,p),o.map((function(e){var t="function"==typeof c?c(e):e.toString();return r.a.createElement(x.a,{key:t,value:e},t)}))),r.a.createElement(C.a,{style:{color:"red"}},s.helperText))},ae=function(e){var t=e.visibleWhen,n=void 0===t||t,a=_(e,["visibleWhen"]);return n?r.a.createElement(i.a,a):null},re={root:{padding:0},center:{display:"flex",flexDirection:"column",alignItems:"center"}},le=function(e){var t,n,a=e.children,l=e.center,o=void 0!==l&&l,i=e.width,c=_(e,["children","center","width"]);return r.a.createElement(m.a,z({},c,{style:(t={center:o,width:i},n={},t.width&&(n.width=t.width),z({},re.root,t.center?re.center:{},n,t.style))}),a)};function oe(e,t){return void 0===t&&(t=0),e?("string"==typeof e?Number(e):e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):t}var ie=function(e,t){for(var n=[],a=e;a<=t;a++)n.push(a);return n},ce=function(e){void 0===e&&(e=10);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t};function ue(e){var t=e.inputRef,n=e.onChange,a=_(e,["inputRef","onChange"]);return r.a.createElement(j.a,z({},a,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,decimalScale:2,fixedDecimalScale:!0,readOnly:!e.editable||e.readOnly},a))}var me=function(e){var t=e.label,n=e.caption,a=e.editable,l=void 0===a||a,o=e.readOnly,i=void 0!==o&&o,c=e.textAlign,u=void 0===c?"right":c,m=_(e,["label","caption","editable","readOnly","textAlign"]),d=$(),p=Z(d,m);return r.a.createElement(s.a,z({label:t||n,autoComplete:"off",readOnly:!l||i},m,p,{InputProps:{inputComponent:ue},inputProps:{style:{textAlign:u}}}))},se=function(e){var t=e.label,n=e.caption,a=_(e,["label","caption"]),l=$(),o=Z(l,a);return r.a.createElement(s.a,z({label:t||n||"Email Address",fullWidth:!0,autoComplete:"off"},a,o,{type:"email",onChange:function(e){var t=e.target;o.onChange({target:{name:t.name,value:t.value.toLowerCase()}})}}))},de=function(e){var t=e.caption,n=e.context,a=e.expr,l=e.exprValue,o=e.children,i=e.blur,c=void 0!==i&&i,u=_(e,["caption","context","expr","exprValue","children","blur"]),m=l||o,s=$();return n&&a?m="function"==typeof a?a(n):E.a.get(n,a):s&&(m=Z(s,z({},u,{name:a})).value),r.a.createElement("div",{style:z({},pe.wrapper,u.style,c?pe.blur:{})},t&&r.a.createElement("label",{style:z({},pe.caption,u.captionStyle)},t),r.a.createElement("label",{style:z({},pe.label,u.labelStyle)},m?m.toString():o))},pe={wrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingTop:5,paddingBottom:5},caption:{fontWeight:"800",fontSize:14,width:200},label:{fontSize:"14px"},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},fe=function(e){var t=e.msg;return t?r.a.createElement(de,{style:{color:"red"}},t):null},ye=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,l=e.row,o=void 0!==l&&l,i=_(e,["children","visibleWhen","row"]);if(!a)return null;var c=function(e){var t=e.width,n=e.center,a=void 0!==n&&n,r=e.row,l=void 0!==r&&r,o={};return t&&(o.width=t),l&&(o.display="flex",o.flexDirection="row",o.alignItems="center"),a&&(o=z({},o,be.center)),o}(z({},i,{row:o}));return r.a.createElement("div",z({style:z({},be.panel,c,i.style)},i),t)},be={panel:{display:"flex",flexDirection:"column"},center:{display:"flex",flexDirection:"column",alignItems:"center"}},ve=function(e){var t=e.children,n=e.visibleWhen,a=void 0===n||n,l=e.handler,o=_(e,["children","visibleWhen","handler"]);if(!a)return null;var i=function(e){var t=e.context,n=void 0===t?{}:t,a=e.handler,r=_(e,["context","handler"]);return z({context:n,handleChange:function(e,t){void 0===t&&(t=!1);var r=e.target.name,l="boolean"==typeof t&&t?e.target.checked:e.target.value,o=Object(h.a)(n,(function(e){E.a.set(e,r,l)}));a(o)}},r)}(z({},o,{handler:l}));return r.a.createElement(X.Provider,{value:i},r.a.createElement(ye,o,"function"==typeof t?t(i):t))},Ee=Object(p.a)((function(e){return{root:{flexWrap:"flex"}}})),he=function(e){var t=e.children,n=_(e,["children"]),a=Ee();return r.a.createElement(d.a,z({className:a.root},n),t)};Object(p.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#ecf0f1"},container:{padding:"4px 50px"},menuButton:{marginRight:e.spacing(2)}}}));var ge=function(e){return r.a.createElement("img",e)};function xe(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,l=void 0===a||a,o=_(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(j.a,z({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:l,isNumericString:!0,decimalScale:0}))}function Oe(e){var t=e.inputRef,n=e.onChange,a=e.thousandSeparator,l=void 0!==a&&a,o=_(e,["inputRef","onChange","thousandSeparator"]);return r.a.createElement(j.a,z({},o,{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},thousandSeparator:l,isNumericString:!0,decimalScale:0}))}var Ce=function(e){var t=e.label,n=e.caption,a=e.thousandSeparator,l=void 0===a||a,o=e.size,i=void 0===o?"small":o,c=_(e,["label","caption","thousandSeparator","size"]),u=$(),m=Z(u,c);return r.a.createElement(s.a,z({label:t||n,size:i,autoComplete:"off"},c,m,{InputProps:{inputComponent:l?xe:Oe}}))},Se=function(e){var t=e.value;return r.a.createElement("div",null,r.a.createElement("label",null,e.caption),r.a.createElement("label",null,t))},je=function(e){var t=e.visibleWhen,n=void 0===t||t,a=e.showMessage,l=void 0===a||a,o=_(e,["visibleWhen","showMessage"]);if(!n)return null;var i=o.msg||"Processing...";return r.a.createElement("div",{style:Pe.container},r.a.createElement("div",{style:Pe.progress},r.a.createElement(ae,z({size:16,color:"secondary"},o))),l&&r.a.createElement("div",{style:Pe.msg},i))},Pe={container:{display:"flex",flexDirection:"row",marginTop:5,marginBottom:5},progress:{paddingRight:10},msg:{color:"#f50057"}};Object(p.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"}}})),Object(p.a)((function(e){return{formControl:{marginTop:3}}}));var we=function(e){var t=e.children,n=e.onAccept,a=e.onCancel,l=e.showActions,o=void 0===l||l;return r.a.createElement(P.a,{open:e.open},r.a.createElement(T.a,null,e.caption),r.a.createElement(w.a,null,t,o&&r.a.createElement(H,null,r.a.createElement(K,{variant:"text",caption:"Cancel",onClick:a}),r.a.createElement(K,{caption:"OK",onClick:n}))))},Te=Object(p.a)((function(e){return{formControl:{marginTop:3}}}));function ke(e){var t=e.inputRef,n=_(e,["inputRef"]);return r.a.createElement(N.a,z({ref:function(e){t(e?e.inputElement:null)},mask:["(",/\d/,/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000"},n))}var We=function(e){var t=e.label,n=e.caption,a=e.required,l=void 0!==a&&a,o=_(e,["label","caption","required"]),i=$(),c=Z(i,o),u=Te();return r.a.createElement(O.a,{className:u.formControl,fullWidth:!0},r.a.createElement(g.a,{required:l,htmlFor:"formatted-text-mask-input"},t||n||"Mobile No."),r.a.createElement(k.a,z({required:l},o,c,{id:"formatted-text-mask-input",inputComponent:ke})))},Ne=function(e){var t=e.title,n=e.type,a=void 0===n?"alert":n,l=e.msg,o=e.acceptCaption,i=void 0===o?"OK":o,c=e.onAccept,u=e.onCancel,m=e.children;return r.a.createElement(P.a,{open:e.open},t&&r.a.createElement(T.a,null,t||("alert"===a?"InformationXX":"Confirmation")),r.a.createElement(w.a,null,m||r.a.createElement(A.a,null,l)),r.a.createElement(B.a,null,"alert"!==a&&r.a.createElement(K,{variant:"text",caption:"Cancel",onClick:u}),r.a.createElement(K,{caption:i,onClick:c})))},Ae=function(e){var t,n=(t={header:null,left:null,center:null,right:null,footer:null},r.a.Children.forEach(e.children,(function(e){if(e){var n=e.props.target||"center";t[n]||(t[n]=[]),t[n].push(e)}})),t),a=n.center,l=n.right;return r.a.createElement("div",{className:"_12CqV"},r.a.createElement("div",{className:"_3rBoA"},r.a.createElement("div",{className:"_1Pt6o"},r.a.createElement("aside",{className:"_3GVFn _1JqCZ"},r.a.createElement("div",{style:{position:"fixed"}},n.left)),r.a.createElement("div",{className:"_3FaYg"},a),r.a.createElement("aside",{className:"_3GVFn _2yu7F"},l))))};var Be=function(e){var t=e.item,n=e.Control;return r.a.createElement("div",{style:Ie.customItemContainer},r.a.createElement(R.a,{value:t.objid}),r.a.createElement(n,{item:t}))},Re=function(e){var t,n=e.children,a=e.readOnly,l=void 0!==a&&a,o=e.editable,i=void 0===o||o,c=e.list,u=e.Control,m=_(e,["children","caption","readOnly","editable","list","Control"]),s=$(),d=Z(s,m),p=l||!i;return t=c?c.map((function(e){return u?r.a.createElement(Be,{item:e,Control:u}):r.a.createElement(y.a,{value:e.objid,control:r.a.createElement(R.a,null),label:e.caption||e.title,disabled:p})})):r.a.Children.map(n,(function(e){var t=e.props,n=t.readOnly,a=void 0!==n&&n,l=t.editable,o=void 0===l||l,i=_(t,["readOnly","editable"]);return r.a.createElement(y.a,z({value:e.props.value,control:r.a.createElement(R.a,null),label:e.props.caption,disabled:p||a||!o},i))})),r.a.createElement(O.a,{component:"fieldset"},r.a.createElement(I.a,z({},m,{value:d.value,onChange:function(e,t){d.onChange({target:{name:m.name,value:t}})},style:{display:"flex"}}),t))},Ie={customItemContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",border:"1px solid #aaa"}};D.a.setAppElement("#root");var qe=function(e){return r.a.createElement("div",{style:{height:e.height||20}},e.children)},De=Object(p.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),Fe=function(e){var t=$(),n=Z(t,e),a=e.caption,l=e.items,o=e.name,i=e.expr,c=_(e,["caption","items","name","expr"]),u=De(),m=function(e,t){return e.map((function(e){var n;return"function"==typeof t&&(n=t(e)),"string"==typeof t&&"object"==typeof e&&(n=E.a.get(e,t)),r.a.createElement(x.a,{key:ce(),value:e},n||e)}))}(l,i);return i&&(n.renderValue=function(e){return e[i]}),r.a.createElement(O.a,{className:u.formControl},r.a.createElement(g.a,null,a),r.a.createElement(S.a,z({},c,n,{name:o}),m))},Ve=function(e){var t=e.caption,n=e.title,a=e.children;return r.a.createElement(de,{labelStyle:z({},Le.title,e.style)},t||n||a)},Le={title:{paddingTop:"10px",color:"#27ae60",fontSize:20,fontWeight:"bold"}},ze=(Object(p.a)((function(e){return{root:{width:"100%",backgroundColor:"transparent"},selectedStep:{color:"#27ae60 !important"}}})),Object(p.a)((function(e){return{head:{fontWeight:"bold",opacity:.8},paper:{width:"100%",marginBottom:e.spacing(2)},pagination:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),function(e){var t=e.label,n=e.caption,a=e.visibleWhen,l=void 0===a||a,o=e.editable,i=void 0===o||o,c=e.readOnly,u=void 0!==c&&c,m=e.containerStyle,d=e.textCase,p=void 0===d?"UPPER":d,f=e.blur,y=void 0!==f&&f,b=_(e,["label","caption","visibleWhen","editable","readOnly","containerStyle","textCase","blur"]);if(!l)return null;var v=$(),E=Z(v,b),h={};!u&&i||(h.readOnly=!0);var g=!0===y?_e.blur:{};return r.a.createElement("div",{style:z({},_e.root,m)},r.a.createElement(s.a,z({label:n||t,fullWidth:!0,inputProps:h,autoComplete:"off",helperText:b.error,size:"small"},b,E,{style:z({},g),onChange:function(e){var t=e.target,n=t.name,a=t.value;/upper/i.test(p)?E.onChange({target:{name:n,value:a.toUpperCase()}}):E.onChange(e)}})))}),_e={root:{width:"100%",marginBottom:3},blur:{filter:"blur(3px)","-webkit":"blur(3px)"}},Me=function(e){var t=e.caption,n=e.exprValue,a=e.children,o=_(e,["caption","exprValue","children"]);return r.a.createElement(l.a,z({fontSize:"1.7em",fontWeight:"bold"},o),t||n||a)},He=function(e){return e.indexOf(":")>0},Ge={},Ke=function(e,t,n,a){var r,l;return void 0===t&&(t="default"),void 0===a&&(a={debug:!1}),null==Ge[e]&&(r=He(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=V()("/gdx");return r.connect(),{invoke:function(l,o,i){(function(l,o){try{var i=new Promise((function(i,c){r.emit("invoke",{service:e,method:l,channel:t,connection:n,module:a,args:o},(function(e){"OK"===e.status?i(e.data):c(e.msg)})),r.on("disconnect",(function(){console.log("AsyncFetch disconnted")}))}));return Promise.resolve(i)}catch(e){return Promise.reject(e)}})(l,o).then((function(e){return i(null,e)})).catch((function(e){/syntax/i.test(e)?i("Partner is currently not avaible. Please try again later.",null):i(e,null)}))}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e,t,n){return{invoke:function(a,r,l){fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:n,connection:t,name:e,action:a},args:r?[r]:null})}).then((function(e){return e.json()})).then((function(e){e.error?l(e.error,null):(Array.isArray(e)||0!==Object.keys(e).length||l(null,null),Array.isArray(e)||"ERROR"!==e.status?l(null,e):l(e.msg,null))})).catch((function(e){return l(e.toString(),null)}))}}}((l=z({serviceName:e,connection:t,module:n},a)).serviceName,l.connection,l.module),Ge[e]=r),Ge[e]},Ye=function(e,t,n,a){void 0===t&&(t="default"),void 0===a&&(a={debug:!1});var r,l="Async"+e;return null==Ge[l]&&(r=He(e)?function(e,t,n){var a=e.indexOf(":"),r=e.substring(0,a);return function(e,t,n,a){var r=V()("/gdx");return r.connect(),{invoke:function(l,o,i){try{var c=new Promise((function(c,u){r.emit("invoke",{service:e,method:l,connection:n,module:a,channel:t,args:o},(function(e){"OK"===e.status?(i&&i(!1,e.data),c(e.data)):(i&&i(e.msg),u(e.msg))}))}));return Promise.resolve(c)}catch(e){return Promise.reject(e)}}}}(e.substring(a+1),r,t,n)}(e,t,n):function(e){return t=e.serviceName,n=e.connection,a=e.module,{invoke:function(e,r){try{return Promise.resolve(fetch("/filipizen/service/invoke",{method:"POST",cache:"no-cache",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:{module:a,connection:n,name:t,action:e},args:r?[r]:null})})).then((function(e){if(200!==e.status)throw e.statusText;return Promise.resolve(e.json())}))}catch(e){return Promise.reject(e)}}};var t,n,a}(z({serviceName:e,connection:t,module:n},a)),Ge[l]=r),Ge[l]},Je=Object(a.createContext)(),Ue=Object(a.createContext)(),Xe=function(e){var t=e.children,n=Object(L.a)(e.reducer,e.initialState);return r.a.createElement(Je.Provider,{value:n[0]},r.a.createElement(Ue.Provider,{value:n[1]},t))},Qe=function(){var e=Object(a.useContext)(Je);if(void 0===e)throw new Error("useStateValue must be used within a StateProvider");return e},Ze=function(){var e=Object(a.useContext)(Ue);if(void 0===e)throw new Error("useStateDispatch must be used within a StateProvider");return e},$e=function(){return[Qe(),Ze()]};n(611);function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var tt=function(e){var t=e.partner,n=e.onVerify,l=e.onCancel,o=e.connection,i=void 0===o?"epayment":o,c=e.visibleWhen,u=e.history,m=e.showName,s=void 0!==m&&m,d=e.module,p=e.title,f=e.subtitle,y=void 0===f?"Email Verification":f,b=e.emailRequired,v=e.contact;if(void 0!==c&&!c)return null;var E=Object(a.useState)(),h=E[0],g=E[1],x=Object(a.useState)(v),O=x[0],C=x[1],S=Object(a.useState)({})[0],j=Object(a.useState)(),P=j[0],w=j[1],T=Object(a.useState)(),k=T[0],W=T[1],N=Object(a.useState)(!1),A=N[0],B=N[1],R=Object(a.useState)(!1),I=R[0],q=R[1],D=function(){try{var e=Ye(t.id+":VerifyEmailService",i);return Promise.resolve(e.invoke("verifyEmail",{email:O.email,mobileno:O.mobileno}))}catch(e){return Promise.reject(e)}},F=Object(a.useRef)(),V=d&&d.title||p||null;return r.a.createElement(U,null,V&&r.a.createElement(Me,null,V),r.a.createElement(Ve,null,y),r.a.createElement(qe,null),r.a.createElement(fe,{msg:k}),r.a.createElement(ve,{visibleWhen:!h,context:O,handler:C},r.a.createElement("form",{ref:F},!0===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{label:"Full Name",name:"name",autoFocus:!0,required:!0}),r.a.createElement(ze,{label:"Address",name:"address",required:!0})),r.a.createElement(se,{name:"email",required:b,error:S.email,helperText:S.email,autoFocus:!s}),r.a.createElement(We,{name:"mobileno"}),r.a.createElement(H,{disabled:A},r.a.createElement(Y,{action:function(){"function"==typeof l&&l(),u&&u.goBack()}}),r.a.createElement(K,{label:"Submit",action:function(){F.current.reportValidity()&&(O.email||O.mobileno?(W(null),B(!0),D().then((function(e){g(e.key),B(!1)})).catch((function(e){W(e),B(!1)}))):W("Please specify email or Mobile No."))},loading:A})))),r.a.createElement(Ne,{open:I,title:"Email Verification",msg:"Resend verification code?",onAccept:function(){W(null),D().then((function(e){g(e.key),q(!1)})).catch((function(e){W(e),q(!1)}))},onCancel:function(){return q(!1)}}),r.a.createElement(ye,{visibleWhen:!!h},r.a.createElement(ze,{label:"Email Code",placeholder:"Enter code sent to your email",name:"keycode",value:P,onChange:w,maxLength:6,autoFocus:!0}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(K,{label:"Resend Code",action:function(){return q(!0)},variant:"text"})),r.a.createElement(H,null,r.a.createElement(K,{label:"Verify",visibleWhen:h,action:function(){h!==P?W("Code is incorrect"):n(O)}}))))},nt=function(e){var t,n=e.partner,l=e.moveNextStep,o=e.movePrevStep,i=e.title,c=e.subtitle,u=void 0===c?"Email Verification":c,m=e.visibleWhen,s=e.emailRequired,d=void 0!==s&&s,p=e.showName,f=void 0!==p&&p,y=e.contact,b=void 0===y?{}:y;if(void 0!==m&&!m)return null;var v=$e()[1];return Object(a.useState)(!1),Object(a.useState)(!1),r.a.createElement(tt,((t={emailRequired:!1,partner:n,title:i,subtitle:u,onVerify:function(e){v({type:"SET_CONTACT",contact:e}),l(e)},onCancel:o}).emailRequired=d,t.contact=b,t.showName=f,t))},at=function(e){var t=e.onCancel,n=e.onSubmit,l=e.bill,o=e.loading,i=e.error,c=Object(a.useState)({}),u=c[0],m=c[1],s=Object(a.useState)({}),d=s[0],p=s[1],f=Object(a.useState)(!1),y=f[0],b=f[1];return Object(a.useEffect)((function(){b(null!=i)}),[i]),r.a.createElement(U,null,r.a.createElement(ye,{style:{maxWidth:400}},r.a.createElement(le,{center:!0},r.a.createElement(Me,null,"Confirm Transaction"),r.a.createElement(qe,null),r.a.createElement(de,{style:et({},rt.text)},"Please confirm and fill up name and address of the payer for your electronic official receipt and click Continue to proceed for payment."),r.a.createElement(qe,null)),r.a.createElement(ve,{context:u,handler:m},r.a.createElement(ze,{name:"paidby",caption:"Paid By Name",required:!0,error:d.paidby,helperText:d.paidby,autoFocus:!0}),r.a.createElement(ze,{name:"paidbyaddress",caption:"Paid By Address",required:!0,error:d.paidbyaddress,helperText:d.paidbyaddress})),r.a.createElement(qe,null),r.a.createElement(ye,{style:rt.infoContainer},r.a.createElement("div",{style:et({},rt.infoContainer,{alignItems:"center"})},r.a.createElement("label",null,"Payment Details"),r.a.createElement("h4",null,l.paymentdetails)),r.a.createElement("div",{style:rt.amountContainer},r.a.createElement("label",{style:rt.amount},"Php ",oe(l.amount)))),r.a.createElement(qe,null),r.a.createElement(Ne,{open:y,title:"Error",onAccept:function(){return b(!1)},msg:"An error was encountered when processing your order. Please try again later or contact LGU for assistance."}),r.a.createElement(H,null,r.a.createElement(K,{variant:"text",caption:"Back",action:t}),r.a.createElement(K,{caption:"Continue",action:function(){var e={};u.paidby||(e.paidby="Required"),u.paidbyaddress||(e.paidbyaddress="Required"),p(e),0===Object.keys(e).length&&n(u)},disableWhen:o,loading:o}))))},rt={text:{display:"block",textAlign:"center"},infoContainer:{display:"flex",flexDirection:"column"},amountContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #aaa"},amount:{fontSize:24,fontWeight:800,padding:10}},lt={paymentTypeContainer:{display:"flex",flexDirection:"column",width:"400px"},paymentType:{paddingLeft:20},label:{fontWeight:"bold",textAlign:"right"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},ot={paymentTypeContainer:{display:"flex",justifyContent:"center",width:"400px"},paymentType:{paddingLeft:20},label:{fontWeight:"bold",textAlign:"right"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},it={paymaya:{component:function(e){var t=e.po,n=e.onCancel,l=e.onCheckout,o=Object(a.useState)("wallet"),i=o[0],c=o[1],u=Object(a.useState)(0),m=u[0],s=u[1];return Object(a.useEffect)((function(){if("wallet"===i)s(30);else{var e=Math.round(100*(t.amount/.985-t.amount))/100;s(e+20)}}),[i]),r.a.createElement(U,{style:{minWidth:"400px"}},r.a.createElement(le,{center:!0},r.a.createElement(ge,{src:"/assets/paymaya.png",width:"150",style:{cursor:"pointer"}})),r.a.createElement(qe,null),r.a.createElement("div",{style:lt.paymentTypeContainer},r.a.createElement(de,{labelStyle:lt.label},"Select Type of Payment"),r.a.createElement("div",{style:lt.paymentType},r.a.createElement(Re,{name:"payType",value:i,onChange:c},r.a.createElement(Se,{caption:"Wallet",value:"wallet"}),r.a.createElement(Se,{caption:"Credit/Debit Card",value:"card"})))),r.a.createElement(qe,null),r.a.createElement(ye,{row:!0,style:lt.row},r.a.createElement(de,{labelStyle:lt.label},"Amount"),r.a.createElement(de,{labelStyle:lt.label},"PHP "+oe(t.amount))),r.a.createElement(ye,{row:!0,style:lt.row},r.a.createElement(de,{labelStyle:lt.label},"Convenience Fee"),r.a.createElement(de,{labelStyle:lt.label},"PHP "+oe(m))),r.a.createElement(ye,{row:!0,style:lt.row},r.a.createElement(de,{labelStyle:lt.label},"Sub-Total"),r.a.createElement(de,{labelStyle:lt.label},"PHP "+oe(t.amount+m))),r.a.createElement(H,null,r.a.createElement(Y,{caption:"Cancel",action:n}),r.a.createElement(K,{caption:"Proceed Payment",action:function(){l({type:i,fee:m})}})))}},gcash:{component:function(e){var t=e.po,n=e.onCancel,l=e.onCheckout,o=Object(a.useState)("wallet")[0],i=Object(a.useState)(30)[0];return r.a.createElement(U,{style:{minWidth:"400px"}},r.a.createElement(le,{center:!0},r.a.createElement(ge,{src:"/assets/gcash.png",width:"150",style:{cursor:"pointer"}})),r.a.createElement("div",{style:ot.paymentTypeContainer},r.a.createElement("h3",{labelStyle:ot.label},"Payment Details")),r.a.createElement(qe,null),r.a.createElement(ye,{row:!0,style:ot.row},r.a.createElement(de,{labelStyle:ot.label},"Amount"),r.a.createElement(de,{labelStyle:ot.label},"PHP "+oe(t.amount))),r.a.createElement(ye,{row:!0,style:ot.row},r.a.createElement(de,{labelStyle:ot.label},"Convenience Fee"),r.a.createElement(de,{labelStyle:ot.label},"PHP "+oe(10))),r.a.createElement(ye,{row:!0,style:ot.row},r.a.createElement(de,{labelStyle:ot.label},"Web Service Fee"),r.a.createElement(de,{labelStyle:ot.label},"PHP "+oe(20))),r.a.createElement(ye,{row:!0,style:ot.row},r.a.createElement(de,{labelStyle:ot.label},"Sub-Total"),r.a.createElement(de,{labelStyle:ot.label},"PHP "+oe(t.amount+i))),r.a.createElement(H,null,r.a.createElement(Y,{caption:"Cancel",action:n}),r.a.createElement(K,{caption:"Proceed Payment",action:function(){l({type:o,fee:i})}})))}}},ct=function(e){var t=e.po,n=e.error,l=e.payOptions,o=e.partner,i=Object(a.useState)(!1)[0],c=Object(a.useState)(!1),u=c[0],m=c[1],s=Object(a.useState)(),d=s[0],p=s[1],f=Object(a.useState)(!1),y=f[0],b=f[1],v=Object(a.useState)(!1),E=v[0],h=v[1],g=Object(a.useState)(!1),x=g[0],O=g[1],C=Object(a.useState)({}),S=C[0],j=C[1],P=Object(a.useState)("payment"),w=P[0],T=P[1],k=Object(a.useState)({}),W=k[0],N=k[1],A=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=document.getElementById("postform");e&&S.formaction&&e.submit()}),[S]);var B=function(e){p(null),m(!0),Ke("CloudPaymentService","epayment").invoke("getPayPartner",{objid:t.objid,payoption:e.objid,checkout:e.checkout},(function(e,t){e?("string"==typeof e?/syntax/gi.test(e)?p("Could not contact payment partner. Please try again."):p(e):p(e.errormsg),m(!1),b(!0)):j(t)}))};if("checkout"===w){var R=it[W.paypartnerid.toLowerCase()].component;return r.a.createElement(R,{po:t,onCancel:function(){T("payment")},onCheckout:function(e){T("payment"),B(et({},W,{checkout:e}))}})}var I=[];return S.params&&Object.keys(S.params).forEach((function(e){I.push([e,S.params[e]])})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{title:"Acknowledgement",msg:"Kindly acknowledge and confirm with the Terms and Conditions before proceeding.",open:x,onAccept:function(){return O(!1)}}),r.a.createElement(Ne,{title:"Payment Processing Error",msg:"An error occurred while processing your request. Correct the problem and resubmit your request or kindly contact the LGU for assistance",open:y,onAccept:function(){return b(!1)}},r.a.createElement("ul",null,r.a.createElement("li",null,/timeout/gi.test(d)?"Could not contact payment partner. Please try again.":d))),r.a.createElement(we,{open:u,showActions:!1},r.a.createElement(ye,{center:!0},r.a.createElement(qe,null),r.a.createElement("label",{style:{fontSize:20,fontWeight:800}},"Contacting Partner"),r.a.createElement("label",{style:{fontSize:14,opacity:.75}},"Kindly wait while we send your payment request to our partner."),r.a.createElement(je,{showMessage:!1}),r.a.createElement(qe,null))),r.a.createElement(qe,null),r.a.createElement(ye,{center:!0},r.a.createElement(ye,{style:ut.poContainer},r.a.createElement(ye,{center:!0},r.a.createElement(Me,{color:"green"},"Your Order")),r.a.createElement(qe,null),r.a.createElement(ye,null,r.a.createElement(de,{context:o,caption:"Agency",expr:"title"}),r.a.createElement(de,{context:t,caption:"Reference No.",expr:"objid"}),r.a.createElement(de,{context:t,caption:"Transaction Type",expr:"txntypename"}),r.a.createElement(de,{context:t,caption:"Particulars",expr:"particulars"}),r.a.createElement(de,{context:t,caption:"Paid By",expr:"paidby"}),r.a.createElement(qe,{height:10}),r.a.createElement(de,{caption:"Amount"},t&&oe(t.amount))),r.a.createElement(he,{row:!0,style:{marginTop:10}},r.a.createElement(de,{style:{color:"blue",paddingRight:5}},"Note:"),r.a.createElement(de,{style:{color:"red"}},t&&"Pay on or before "+t.expirydate)),r.a.createElement(ee,{checked:E,onChange:h,style:{marginRight:5},caption:r.a.createElement("span",{style:{fontSize:14,paddingTop:8}},"I acknowledge and agree to the Terms and Conditions of this e-payment facility.")}),r.a.createElement(qe,{height:10})),!i&&E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{msg:n}),r.a.createElement(qe,null),r.a.createElement(de,null,"Click to choose Type of Payment:"),r.a.createElement(he,{row:!0},l&&l.map((function(e){return r.a.createElement("button",{type:"submit",style:ut.payButton,onClick:function(){return t=e,void(E?function(e){return void 0!==it[e.paypartnerid.toLowerCase()]}(t)?(T("checkout"),N(t)):B(t):O(!0));var t}},r.a.createElement("input",{type:"hidden",name:"refno",value:t.objid}),r.a.createElement("input",{type:"hidden",name:"payoption",value:e.objid}),r.a.createElement(ge,{src:"/assets/"+e.paypartnerid.toLowerCase()+".png",width:"150",style:{cursor:"pointer"}}))}))))),!0===S.isredirect?r.a.createElement("form",{id:"postform",method:"GET",action:S.formaction,ref:A},r.a.createElement("input",{type:"hidden",name:"id",value:S.id})):r.a.createElement("form",{id:"postform",method:"POST",action:S.formaction,ref:A},r.a.createElement(r.a.Fragment,null,I.map((function(e){return r.a.createElement("input",{key:e[0],type:"hidden",name:e[0],value:e[1]})})),r.a.createElement("input",{type:"hidden",name:"orgcode",value:"${po.orgcode}"}))))},ut={poContainer:{display:"flex",flexDirection:"column",border:"1px solid #aaa",borderRadius:5,padding:15,maxWidth:450},payButton:{border:"none",background:"none"}},mt=function(e){var t=e.module,n=e.partner,l=e.contact,o=e.initialStep,i=void 0===o?0:o,c=e.cancelPayment,u=function(){g((function(e){return e+1!==s.length?e+1:e}))},m=function(){g((function(e){return e-1>=0?e-1:e}))},s=[{name:"verifyemail",title:"Email Verification",component:tt,actions:{onCancel:function(){e.history.goBack()},onVerify:function(e){setContact(e),u()}}},{name:"billing",title:t.title,component:t.component,actions:{onCancel:function(e){c?c():m()},onSubmit:function(e){P(e),g(s.findIndex(l.email?function(e){return"checkout"===e.name}:function(e){return"verification"===e.name}))}}},{name:"verification",caption:"Email Verification",component:nt,actions:{movePrevStep:function(){g(1)},moveNextStep:function(){g(s.findIndex((function(e){return"checkout"===e.name})))}}},{name:"checkout",title:"Checkout Order",component:at,actions:{onCancel:function(){g(1)},onSubmit:function(e){f(!0),v(null),function(){try{var t=et({},j);t.paidby=e.paidby,t.paidbyaddress=e.paidbyaddress,t.email=l.email,t.mobileno=l.mobileno;var a=Ye(n.id+":EPaymentService","epayment");return Promise.resolve(a.invoke("createPaymentOrder",t)).then((function(e){var t=Ye("CloudPaymentService","epayment");return Promise.resolve(t.invoke("getPaymentOrder",{objid:e.objid})).then((function(a){return e=a,Promise.resolve(t.invoke("getPaymentPartnerOptions",{partnerid:e.orgcode})).then((function(t){return{po:e,payOptions:t,partner:n}}))}))}))}catch(e){return Promise.reject(e)}}().then((function(e){k(e.po),A(e.payOptions),u(),f(!1)})).catch((function(e){v(e.toString()),f(!1)}))}}},{name:"payment",title:"Online Payment",component:ct,actions:{onCancel:m,onSubmit:function(){}}}],d=Object(a.useState)(!1),p=d[0],f=d[1],y=Object(a.useState)(),b=y[0],v=y[1],E=Object(a.useState)(i),h=E[0],g=E[1],x=Object(a.useState)(s[i]),O=x[0],C=x[1],S=Object(a.useState)(),j=S[0],P=S[1],w=Object(a.useState)(),T=w[0],k=w[1],W=Object(a.useState)(),N=W[0],A=W[1],B=Object(a.useState)(0)[0];return Object(a.useEffect)((function(){C(s[h])}),[h]),r.a.createElement(O.component,et({},e,{contact:l,bill:j,po:T,payOptions:N},O.actions,{error:b,module:t,loading:p,page:O,initialStep:B,emailRequired:!0}))};function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var dt=function(e){var t=e.initialValue,n=void 0===t?{}:t,l=e.open,o=e.onAccept,i=e.onCancel,c=Object(a.useState)(n),u=c[0],m=c[1],s=Object(a.useState)(ie(n.fromyear,(new Date).getFullYear()+3))[0],d=Object(a.useState)([1,2,3,4]),p=d[0],f=d[1];return Object(a.useEffect)((function(){var e=n.fromqtr;u.billtoyear===n.fromyear&&1!==e?f(ie(e,4)):(f([1,2,3,4]),m(st({},u,{billtoqtr:4})))}),[u.billtoyear]),r.a.createElement(we,{open:l,caption:"Pay Options",onAccept:function(){o(u)},onCancel:i,maxWidth:100},r.a.createElement(ve,{context:u,handler:m,style:{width:"250px"}},r.a.createElement(ne,{caption:"Year to Bill",name:"billtoyear",items:s}),r.a.createElement(Fe,{caption:"Quarter to Bill",name:"billtoqtr",items:p})))},pt=function(e){var t=e.title,n=e.partner,l=e.onCancel,o=e.onSubmit,i=e.error,c=$e()[0],u=c.refno,m=c.txntype,s=c.contact,d=Object(a.useState)(c.bill),p=d[0],f=d[1],y=Object(a.useState)(i),b=y[0],v=y[1],E=Object(a.useState)(!1),h=E[0],g=E[1],x=Object(a.useState)(!1),O=x[0],C=x[1],S=(Object(a.useState)(),Object(a.useState)(),Object(a.useState)()),j=S[0],P=S[1],w=!!s.email&&s.email===p.email;return r.a.createElement(U,{style:{maxWidth:500}},r.a.createElement(Me,null,t),r.a.createElement(Ve,null,"Billing Information"),r.a.createElement(qe,null),r.a.createElement(fe,{msg:b}),r.a.createElement(ve,{context:p,handler:f},r.a.createElement(ye,{row:!0},r.a.createElement(ze,{name:"billno",caption:"Bill No.",readOnly:!0}),r.a.createElement(ze,{name:"billdate",caption:"Bill Date",readOnly:!0})),r.a.createElement(ze,{name:"tdno",caption:"TD No.",readOnly:!0}),r.a.createElement(ze,{name:"fullpin",caption:"PIN",readOnly:!0}),r.a.createElement(ze,{name:"taxpayer.name",caption:"Property Owner",readOnly:!0,visibleWhen:w}),r.a.createElement(ze,{name:"taxpayer.address",caption:"Owner Address",readOnly:!0,visibleWhen:w}),r.a.createElement(ze,{name:"billperiod",caption:"Bill Period",readOnly:!0}),r.a.createElement(me,{name:"amount",caption:"Amount Due",readOnly:!0,textAlign:"left"})),r.a.createElement(H,{disabled:h},r.a.createElement(Y,{caption:"Back",action:function(){l(0)}}),r.a.createElement(ye,{row:!0},r.a.createElement(K,{caption:"Pay Option",action:function(){return C(!0)},variant:"outlined"}),r.a.createElement(K,{caption:"Confirm Payment",action:function(){var e=st({},p,{barcode:j}),t=e.items;delete e.items,o({refno:u,txntype:m,origin:"filipizen",orgcode:n.id,billtoyear:p.billtoyear,billtoqtr:p.billtoqtr,paidby:p.paidby,paidbyaddress:p.paidbyaddress,amount:p.amount,particulars:"Real Property TD No. "+p.tdno+" "+p.billperiod,items:t,info:{data:e}})},disableWhen:0===p.amount}))),r.a.createElement(dt,{initialValue:p&&{billtoyear:p.billtoyear,billtoqtr:p.billtoqtr,fromyear:p.fromyear,fromqtr:p.fromqtr},open:O,onAccept:function(e){var t;C(!1),void 0===(t=e)&&(t={}),g(!0),v(null),function(e){void 0===e&&(e={});try{return Promise.resolve(Ye(n.id+":OnlineLandTaxBillingService","rpt")).then((function(t){var n=st({txntype:m,refno:u},e);return Promise.resolve(t.invoke("getBilling",n))}))}catch(e){return Promise.reject(e)}}(t).then((function(e){f(e.info),P(e.info.billno),g(!1)})).catch((function(e){v(e.toString()),g(!1)}))},onCancel:function(){return C(!1)}}))},ft={txntype:"rptcol",refno:null,bill:{},contact:{}},yt=function(e,t){switch(t.type){case"SET_BILL":return e.refno=t.refno,void(e.bill=t.bill);case"SET_CONTACT":return void(e.contact=t.contact)}},bt=[{step:1,name:"verification",caption:"Verification",Component:nt},{step:2,name:"initial",caption:"Initial Information",Component:function(e){var t=e.title,n=e.partner,l=e.moveNextStep,o=e.movePrevStep,i=$e(),c=i[1],u=i[0].txntype,m=(new Date).getFullYear(),s=Object(a.useState)(),d=s[0],p=s[1],f=Object(a.useState)(!1),y=f[0],b=f[1],v=Object(a.useState)(),E=v[0],h=v[1],g=Object(a.useState)(m+1),x=g[0],O=g[1],C=Object(a.useState)("initial"),S=C[0],j=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(Me,null,t),r.a.createElement(Ve,null,"Initial Information"),r.a.createElement(qe,null),r.a.createElement(fe,{msg:d}),r.a.createElement(ye,{visibleWhen:"initial"===S},r.a.createElement(ze,{caption:"Tax Declaration No.",name:"refno",value:E,onChange:h,readOnly:y,autoFocus:!0})),r.a.createElement(ye,{visibleWhen:"initial-advance"===S},r.a.createElement("p",null,"The associated ledger is fully paid for the current year.",r.a.createElement("br",null),"To pay in advance, specify the year and click Next button."),r.a.createElement(qe,null),r.a.createElement(ye,null,r.a.createElement(ze,{caption:"Tax Declaration No.",name:"refno",value:E,onChange:h,readOnly:!0}),r.a.createElement(Ce,{caption:"Advance Year to Pay",name:"billtoyear",value:x,onChange:O,thousandSeparator:!1,autoFocus:!0}))),r.a.createElement(H,null,r.a.createElement(Y,{caption:"Back",variant:"text",action:o}),r.a.createElement(K,{caption:"Next",action:function(){"initial-advance"===S&&x<=m?p("Advance year to pay should be greater than "+m):(b(!0),p(null),function(e){void 0===e&&(e={});try{return Promise.resolve(Ye(n.id+":OnlineLandTaxBillingService","rpt")).then((function(t){var n=st({txntype:u,refno:E},e);return"initial-advance"===S&&(n.billtoyear=x),Promise.resolve(t.invoke("getBilling",n))}))}catch(e){return Promise.reject(e)}}().then((function(e){c({type:"SET_BILL",refno:E,bill:e.info}),l()})).catch((function(e){/unpaid|full/gi.test(e)?j("initial-advance"):p(e.toString()),b(!1)})))},loading:y,disabled:y}))))}},{step:3,name:"payment",caption:"Payment",Component:function(e){var t=$e();return r.a.createElement(mt,st({module:{title:"Realty Tax Online Billing",component:pt}},e,{contact:t[0].contact,initialStep:1,cancelPayment:e.cancelPayment}))}}],vt=function(e){var t=e.partner,n=e.service,l=e.location,o=e.history,i=e.initialStep,c=Object(a.useState)(void 0===i?0:i),u=c[0],m=c[1],s=bt[u];return r.a.createElement(Xe,{initialState:ft,reducer:yt},r.a.createElement(Ae,null,r.a.createElement(le,{center:!0},r.a.createElement(s.Component,st({page:s},{partner:t,service:n,location:l,history:o,moveNextStep:function(){m((function(e){return e+1}))},movePrevStep:function(){0===u?o.goBack():m((function(e){return e-1}))},cancelPayment:function(){m(1)},title:"Realty Tax Online Billing"})))))},Et=function(e){var t=e.title,n=e.partner,l=e.onCancel,o=e.onSubmit,i=e.error,c=$e()[0],u=c.refno,m=c.txntype,s=Object(a.useState)(c.bill),d=s[0],p=s[1],f=Object(a.useState)(i)[0],y=Object(a.useState)(!1)[0],b=(Object(a.useState)(!1),Object(a.useState)(),Object(a.useState)(),Object(a.useState)()[0]);return r.a.createElement(U,{style:{maxWidth:500}},r.a.createElement(Me,null,t),r.a.createElement(Ve,null,"Billing Information"),r.a.createElement(qe,null),r.a.createElement(fe,{msg:f}),r.a.createElement(ve,{context:d,handler:p},r.a.createElement(ze,{name:"tdno",caption:"TD No.",readOnly:!0}),r.a.createElement(ze,{name:"pin",caption:"PIN",readOnly:!0}),r.a.createElement(ze,{name:"owner.name",caption:"Property Owner",readOnly:!0}),r.a.createElement(ze,{name:"owner.address",caption:"Owner Address",readOnly:!0}),r.a.createElement(ze,{name:"purpose",caption:"Purpose",readOnly:!0}),r.a.createElement(qe,null),r.a.createElement(me,{name:"amount",caption:"Amount Due",readOnly:!0,textAlign:"left"})),r.a.createElement(H,{disabled:y},r.a.createElement(Y,{caption:"Back",action:function(){l(0)}}),r.a.createElement(K,{caption:"Confirm Payment",action:function(){delete st({},d,{barcode:b}).items,o({refno:u,txntype:m,origin:"filipizen",orgcode:n.id,paidby:d.paidby,paidbyaddress:d.paidbyaddress,amount:d.amount,particulars:"Realty Tax Clearance for TD No. "+d.tdno,items:d.billitems,info:{data:d}})},disableWhen:0===d.amount})))},ht={txntype:"rpttaxclearance",refno:null,bill:{},contact:{}},gt=function(e,t){switch(t.type){case"SET_BILL":return e.refno=t.refno,void(e.bill=t.bill);case"SET_CONTACT":return void(e.contact=t.contact)}},xt=[{step:1,name:"verification",caption:"Verification",Component:nt},{step:2,name:"initial",caption:"Initial Information",Component:function(e){var t=e.title,n=e.partner,l=e.moveNextStep,o=e.movePrevStep,i=$e(),c=i[1],u=i[0].txntype,m=Object(a.useState)(),s=m[0],d=m[1],p=Object(a.useState)({}),f=p[0],y=p[1],b=Object(a.useState)(!1),v=b[0],E=b[1],h=Object(a.useState)(),g=h[0],x=h[1],O=Object(a.useState)(),C=O[0],S=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(Me,null,t),r.a.createElement(Ve,null,"Initial Information"),r.a.createElement(qe,null),r.a.createElement(fe,{msg:s}),r.a.createElement(ze,{caption:"Tax Declaration No.",name:"refno",value:g,onChange:x,readOnly:v,autoFocus:!0,error:f.refno,helperText:f.refno}),r.a.createElement(ze,{caption:"Purpose",name:"purpose",value:C,onChange:S,readOnly:v,error:f.purpose,helperText:f.purpose}),r.a.createElement(H,null,r.a.createElement(Y,{caption:"Back",variant:"text",action:o}),r.a.createElement(K,{caption:"Next",action:function(){g||y(st({},f,{refno:"Tax Declaration No. is required."})),C||y(st({},f,{purpose:"Purpose is required."})),0===Object.keys(f).length&&(E(!0),d(null),function(){try{return Promise.resolve(Ye(n.id+":OnlineRealtyTaxClearanceService","rpt")).then((function(e){return Promise.resolve(e.invoke("getBilling",{txntype:u,refno:g,purpose:C}))}))}catch(e){return Promise.reject(e)}}().then((function(e){c({type:"SET_BILL",refno:g,bill:e}),l()})).catch((function(e){d(e.toString()),E(!1)})))},loading:v,disabled:v}))))}},{step:3,name:"payment",caption:"Payment",Component:function(e){var t=$e();return r.a.createElement(mt,st({module:{title:"Online Realty Tax Clearance",component:Et}},e,{contact:t[0].contact,initialStep:1,cancelPayment:e.cancelPayment}))}}],Ot=function(e){var t=e.partner,n=e.service,l=e.location,o=e.history,i=e.initialStep,c=Object(a.useState)(void 0===i?0:i),u=c[0],m=c[1],s=xt[u];return r.a.createElement(Xe,{initialState:ht,reducer:gt},r.a.createElement(Ae,null,r.a.createElement(le,{center:!0},r.a.createElement(s.Component,st({page:s},{partner:t,service:n,location:l,history:o,moveNextStep:function(){m((function(e){return e+1}))},movePrevStep:function(){0===u?o.goBack():m((function(e){return e-1}))},cancelPayment:function(){m(1)},emailRequired:!0,title:"Online Realty Tax Clearance"})))))}}}]);